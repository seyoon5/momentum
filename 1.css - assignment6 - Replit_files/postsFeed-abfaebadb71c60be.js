(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7428],{21880:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/postsFeed",function(){return t(32539)}])},91895:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(35944),i=(t(67294),t(94184)),o=t.n(i),l=t(60379);function a(e){return(0,r.tZ)("div",{className:o()("dialog",{"is-destructive":e.isDestructive}),children:(0,r.BX)(l.G7,{css:[l.l0.colWithGap(24)],children:[(0,r.tZ)(l.h4,{variant:"headerDefault",level:2,children:e.title}),"string"===typeof e.children?(0,r.tZ)(l.xv,{multiline:!0,children:e.children}):e.children,(0,r.BX)(l.G7,{css:[l.l0.rowWithGap(12),l.l0.justify.end],children:[(0,r.tZ)(l.zx,{onClick:e.onCancel,text:"Cancel"}),(0,r.tZ)(l.zx,{colorway:e.isDestructive?"negative":"primary",onClick:e.onConfirm,text:e.confirmLabel||"Confirm"})]})]})})}},65632:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(35944),i=t(87603),o=t.n(i),l=(t(67294),t(94184)),a=t.n(l);function s(e){var n=e.unreadDot,t=e.size,i=void 0===t?12:t,l=e.count,s=void 0===l?null:l,c=s&&s>99,u=c?"99+":null===s||void 0===s?void 0:s.toString();return(0,r.BX)("span",{className:"jsx-1c7f3b9066c4c334",children:[(0,r.tZ)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",style:{color:"currentColor"},xmlns:"http://www.w3.org/2000/svg",className:"jsx-1c7f3b9066c4c334",children:(0,r.tZ)("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-1c7f3b9066c4c334"})}),n?(0,r.tZ)("div",{className:"jsx-1c7f3b9066c4c334 unread-indicator"}):null,Boolean(s)&&(0,r.tZ)("div",{className:"jsx-1c7f3b9066c4c334 "+(a()("count",{overflow:c})||""),children:u}),(0,r.tZ)(o(),{id:"1c7f3b9066c4c334",children:"span.jsx-1c7f3b9066c4c334{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.unread-indicator.jsx-1c7f3b9066c4c334{width:5px;height:5px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;background-color:var(--accent-red-default);-webkit-transform:translate(8px,-1px);-moz-transform:translate(8px,-1px);-ms-transform:translate(8px,-1px);-o-transform:translate(8px,-1px);transform:translate(8px,-1px);position:absolute}.count.jsx-1c7f3b9066c4c334{-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;background-color:var(--accent-negative-default);-webkit-transform:translate(50%,-50%);-moz-transform:translate(50%,-50%);-ms-transform:translate(50%,-50%);-o-transform:translate(50%,-50%);transform:translate(50%,-50%);position:absolute;min-width:16px;padding:2px 3px;height:16px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;color:white;font-size:var(--font-size-small)}.overflow.jsx-1c7f3b9066c4c334{-webkit-transform:translate(25%,-50%);-moz-transform:translate(25%,-50%);-ms-transform:translate(25%,-50%);-o-transform:translate(25%,-50%);transform:translate(25%,-50%)}"})]})}},34193:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(14251),i=t(52875),o=t(44747),l=t(9941),a=t(35944),s=t(87603),c=t.n(s),u=t(67294),d=t(62976),p=t(11163),h=t(84932),f=t(67629),m=(t(57263),t(81255)),v={xsmall:400,small:450,medium:550,large:900},Z=100;function g(e){var n=e.children,t=(0,o.Z)(e,["children"]),r=t.onRequestClose,i=(0,p.useRouter)(),s=(0,l.Z)(u.useState(!1),2),f=s[0],g=s[1],y=(0,l.Z)(u.useState(t.isOpen),2),w=y[0],x=y[1],k=(0,l.Z)(u.useState(!1),2),R=k[0],P=k[1];if(u.useEffect((function(){if(t.isOpen){var e=setTimeout((function(){return P(!0)}));return function(){clearTimeout(e)}}P(!1)}),[t.isOpen]),u.useEffect((function(){if(!t.isOpen){var e=setTimeout((function(){x(!1)}),Z);return function(){clearTimeout(e)}}x(t.isOpen)}),[t.isOpen]),u.useEffect((function(){return g(!0)}),[]),u.useEffect((function(){if(t.isOpen&&!t.preventCloseOnRouteChange){var e=function(){return r()};return i.events.on("routeChangeStart",e),function(){i.events.off("routeChangeStart",e)}}}),[t.isOpen,t.preventCloseOnRouteChange,i,r]),!f)return null;var C=v[t.width||"medium"],U=R?1:0;return(0,a.BX)(a.HY,{children:[(0,a.tZ)(d.Ot,{prefix:"modal",children:(0,a.tZ)(h.t9,{style:{opacity:U},isOpen:w,onDismiss:t.preventClose?void 0:t.onRequestClose,className:"oldModalOverlay",children:(0,a.BX)(h.cZ,{"aria-label":"Dialog",style:{maxWidth:"calc(".concat(C,"px + var(--space-32))")},className:"oldModalContent",children:[n,t.preventClose||t.hideCloseButton?null:(0,a.tZ)("div",{"aria-label":"Close",className:c().dynamic([["9f06ff8373dbab42",[m.n0,Z]]])+" close-control",children:(0,a.tZ)(b,{onClick:function(){t.onRequestClose()}})})]})})}),(0,a.tZ)(c(),{id:"9f06ff8373dbab42",dynamic:[m.n0,Z],children:".oldModalOverlay{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;z-index:".concat(m.n0,";background-color:var(--background-overlay);-webkit-transition:opacity ").concat(Z,"ms;-moz-transition:opacity ").concat(Z,"ms;-o-transition:opacity ").concat(Z,"ms;transition:opacity ").concat(Z,"ms;opacity:0;padding:0 var(--space-16)}.oldModalContent{margin:20vh auto;outline:none;position:relative;background-color:var(--background-default);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border:1px solid var(--background-highest)}.oldModalOverlay.is-open{opacity:1}.close-control.__jsx-style-dynamic-selector{position:absolute;top:0;right:0;-webkit-transform:translate(0,-webkit-calc(-100% - var(--space-8)));-moz-transform:translate(0,-moz-calc(-100% - var(--space-8)));-ms-transform:translate(0,calc(-100% - var(--space-8)));-o-transform:translate(0,calc(-100% - var(--space-8)));transform:translate(0,-webkit-calc(-100% - var(--space-8)));transform:translate(0,-moz-calc(-100% - var(--space-8)));transform:translate(0,calc(-100% - var(--space-8)))}")})]})}function b(e){return(0,a.BX)("button",(0,i.Z)((0,r.Z)({},e),{className:"jsx-a21f4f6814924b01 "+(e&&null!=e.className&&e.className||""),children:[(0,a.tZ)(f.Z,{}),(0,a.tZ)(c(),{id:"a21f4f6814924b01",children:"button.jsx-a21f4f6814924b01{cursor:pointer;color:var(--foreground-dimmest);border:1px solid var(--background-highest);background-color:var(--background-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:var(--space-32);height:var(--space-32)}button.jsx-a21f4f6814924b01:focus{outline:0 none}button.jsx-a21f4f6814924b01:hover{color:var(--foreground-default)}"})]}))}},32188:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(35944),i=t(81456),o=t(60379),l=t(38164),a=t(94718),s=t(82447);function c(e){var n=e.leaderboardTitle,t=e.topTippers;return(0,r.BX)(o.G7,{css:[o.l0.colWithGap(16),o.l0.maxHeight("70vh"),o.l0.overflowY("scroll")],children:[(0,r.tZ)(o.xv,{variant:"subheadDefault",children:n}),(0,r.tZ)(o.G7,{css:[o.l0.flex.column],children:t.map((function(e,n){var t=e.user,c=e.totalCyclesTipped;return t?(0,r.BX)(o.G7,{css:[o.l0.rowWithGap(8),o.l0.align.center],children:[(0,r.tZ)(o.xv,{css:[o.l0.fontWeight.medium],children:n+1}),(0,r.tZ)(a.Z,{username:t.username,children:(0,r.tZ)(s.ZP,{user:t,children:(0,r.tZ)(o.G7,{css:[o.l0.cursor.pointer,o.l0.colWithGap(8),o.l0.align.center,o.l0.borderRadius(8),o.l0.px(16),o.l0.py(12),{":hover":{backgroundColor:o.TV.backgroundHigher}}],children:(0,r.BX)(o.G7,{css:[o.l0.rowWithGap(48),o.l0.align.center],children:[(0,r.BX)(o.G7,{css:[o.l0.rowWithGap(8),o.l0.align.center,o.l0.width(150)],children:[(0,r.tZ)(o.qE,{src:t.image,username:t.username,size:32,layout:"intrinsic"}),(0,r.tZ)(o.xv,{children:t.username})]}),(0,r.BX)(o.G7,{css:[o.l0.rowWithGap(2),o.l0.pl(4),o.l0.align.center],children:[(0,r.tZ)(l.Z,{size:16}),(0,r.BX)(o.xv,{children:[" ","".concat((0,i.d)(c))]})]})]})})})})]},n):null}))})]})}},7861:function(e,n,t){"use strict";t.d(n,{Z:function(){return R},c:function(){return x}});var r=t(67573),i=t(14251),o=t(35944),l=t(87603),a=t.n(l),s=t(67294),c=t(12215),u=t(88075),d=t(53202),p=t(81255),h=t(32692),f=t(31230),m=t(37887);function v(){var e=(0,h.Z)(["\n  query HomeTutorialOnboarding {\n    currentUser {\n      id\n      hasRepl\n    }\n  }\n"]);return v=function(){return e},e}var Z={},g=(0,f.Ps)(v());var b=t(60379),y=t(11163),w=t(47634);function x(e){var n=(0,c.Z)("home-onboarding","home-onboarding-checklist-".concat(e)).dismiss;(0,s.useEffect)((function(){n()}),[n])}var k=function(e){var n=e.complete,t=e.onClick,r=e.description,i=e.title,l=n?"dimmer":"default";return(0,o.BX)(b.G7,{tag:"li",css:[b.gU.filled,b.l0.position.relative,b.l0.p(8),n?b.l0.backgroundColor.backgroundHigher:b.l0.backgroundColor.backgroundDefault,{border:"1px solid ".concat(p.TV.outlineDimmest)}],children:[(0,o.BX)(b.G7,{css:[b.l0.p(4)],children:[(0,o.tZ)(b.xv,{variant:"subheadDefault",color:l,children:i}),(0,o.BX)(b.xv,{color:l,multiline:!0,children:[n?(0,o.tZ)(u.Z,{color:p.TV.accentPositiveDefault,size:16,css:[b.l0.mr(4)]}):(0,o.tZ)(d.ArrowRight,{size:16,css:[b.l0.mr(4)]}),r]}),(0,o.tZ)(b.G7,{children:(0,o.tZ)("button",{onClick:function(){t&&"function"===typeof t&&t()},type:"button",className:"jsx-6c599e90d55a1346",children:"Start"})})]}),(0,o.tZ)(a(),{id:"6c599e90d55a1346",children:'button.jsx-6c599e90d55a1346{overflow:hidden;margin:-1px;border-width:0;padding:0;width:1px;height:1px;background:none;clip:rect(0,0,0,0);white-space:nowrap;cursor:pointer}button.jsx-6c599e90d55a1346::after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;display:block;cursor:pointer;z-index:1}'})]})},R=function(){var e,n=(0,c.Z)("home-onboarding","home-onboarding-checklist"),t=n.finished,l=n.dismiss,a=n.register,u=(0,c.Z)("home-onboarding","home-onboarding-checklist-learn"),h=u.finished,f=u.register,v=(0,c.Z)("home-onboarding","home-onboarding-checklist-apps"),x=v.finished,R=v.register,P=(0,y.useRouter)();(0,s.useEffect)((function(){a({skipRegistration:!0}),f({skipRegistration:!0}),R({skipRegistration:!0})}),[a,f,R]);var C=function(e){var n=(0,i.Z)({},Z,e);return m.a(g,n)}({ssr:!1}).data,U=null===C||void 0===C||null===(e=C.currentUser)||void 0===e?void 0:e.hasRepl;if(void 0===t||!0===t)return null;var T=[h,x,U].filter(Boolean).length,B={name:"learn",title:"Learn",description:"Explore tutorials",complete:!!h,onClick:function(){return P.push("/learn?source=checklist")}},G={name:"community",title:"Share",description:"See what people are building",complete:!!x,onClick:function(){return P.push("/postsFeed","/community?source=checklist")}},X={name:"create",title:"Code",description:"Create your first Repl",complete:!!U};return(0,o.tZ)("section",{children:(0,o.BX)(b.G7,{css:[b.l0.colWithGap(8)],children:[(0,o.BX)(b.G7,{css:[b.l0.rowWithGap(12),b.l0.align.center],children:[(0,o.tZ)(b.xv,{variant:"headerDefault",children:"Get started"}),(0,o.tZ)(b.G7,{css:[b.l0.rowWithGap(2),b.l0.align.center,b.l0.justify.center],children:Array.from({length:3}).map((function(e,n){return(0,o.tZ)(b.G7,{css:[b.l0.borderRadius(8),b.l0.width(12),b.l0.height(4),n<T?b.l0.backgroundColor.accentPositiveDefault:b.l0.backgroundColor.backgroundHighest]},n)}))}),(0,o.tZ)(b.xv,{children:"".concat(T,"/3")}),(0,o.tZ)(b.hU,{alt:"Hide section",onClick:l,children:(0,o.tZ)(d.Close,{})})]}),(0,o.tZ)(b.xv,{multiline:!0,children:"See what you can accomplish on Replit"}),(0,o.BX)(b.G7,{tag:"ul",css:[b.l0.display.grid,b.l0.maxWidth(700),b.l0.display.grid,(0,r.Z)({listStyleType:"none",gap:p.TV.space8,gridTemplateColumns:"auto",gridTemplateRows:"1fr 1fr 1fr"},"@media screen and (min-width: 500px)",{gridTemplateRows:"auto",gridTemplateColumns:"1fr 1fr 1fr"})],children:[(0,o.tZ)(k,(0,i.Z)({},B)),(0,o.tZ)(k,(0,i.Z)({},G)),(0,o.tZ)(w.Z,{trackingContext:"TutorialOnboarding",children:(0,o.tZ)(k,(0,i.Z)({},X))})]})]})})}},30758:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(67294);function i(e){var n=(0,r.useState)(!1),t=n[0],i=n[1],o=(0,r.useRef)(0),l=(0,r.useMemo)((function(){return{onDragEnter:function(e){e.preventDefault(),o.current++,i(!0)},onDragLeave:function(e){e.preventDefault(),o.current--,0===o.current&&i(!1)},onDrop:function(n){var t,r;n.preventDefault(),o.current=0,i(!1),n.persist();var l=Array.from(null!==(r=null===n||void 0===n||null===(t=n.dataTransfer)||void 0===t?void 0:t.files)&&void 0!==r?r:[]);0!==l.length?e(l):e(null)},onDragOver:function(e){e.preventDefault()}}}),[e]);return[t,l]}},60459:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(34727),i=t(9941),o=t(70655),l=t(67294),a=t(62722);function s(e){var n=e.onUploadPreview,t=e.onUpload,s=e.onError,c=(0,i.Z)(l.useState(!1),2),u=c[0],d=c[1],p=l.useCallback(function(){var e=(0,r.Z)((function(e,r){var i,l,c,u,p,h,f;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:d(!0),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,a.o1)(e)];case 2:return i=o.sent(),[3,4];case 3:return o.sent(),s(new Error("This image is over the ".concat(a.bq/1e6,"MB maximum"))),[2,!1];case 4:n({dataUrl:i}),l=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,(0,a.mh)(i,r)];case 6:return l=o.sent(),[3,8];case 7:return c=o.sent(),u=c.message.toLowerCase().includes("entity too large")?"This image is over the 1mb maximum":"Something went wrong",s(new Error(u)),[2,!1];case 8:if(p=l.id,h=l.url,"number"!==typeof p)throw new Error("Expected id");if("string"!==typeof h)throw new Error("Expected url");d(!1),o.label=9;case 9:return o.trys.push([9,11,,12]),[4,t({id:p,url:h})];case 10:return o.sent(),[3,12];case 11:return f=o.sent(),s(f),[2,!1];case 12:return[2,!0]}}))}));return function(n,t){return e.apply(this,arguments)}}(),[s,t,n]);return{isLoading:u,uploadImage:p}}},19244:function(e,n,t){"use strict";t.d(n,{O:function(){return m}});var r=t(34727),i=t(9941),o=t(70655),l=t(14251),a=t(32692),s=t(31230),c=t(15764),u=t(50319);function d(){var e=(0,a.Z)(["\n  mutation PublishReplCreatePost($input: CreateReplPost2Input!) {\n    createReplPost2(input: $input) {\n      ... on Post {\n        id\n        repl {\n          id\n          ...PublishReplData\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var p={},h=(0,s.Ps)(d(),c.FW);function f(e){var n,t,r,i,o,l,a;return e.error?e.error.message||"Something went wrong publishing your Repl":"NotFoundError"===(null===(n=e.data)||void 0===n||null===(t=n.createReplPost2)||void 0===t?void 0:t.__typename)||"UnauthorizedError"===(null===(r=e.data)||void 0===r||null===(i=r.createReplPost2)||void 0===i?void 0:i.__typename)||"UserError"===(null===(o=e.data)||void 0===o||null===(l=o.createReplPost2)||void 0===l?void 0:l.__typename)?e.data.createReplPost2.message:(null===(a=e.data)||void 0===a?void 0:a.createReplPost2)&&"Post"!==e.data.createReplPost2.__typename?"Something went wrong publishing your Repl":void 0}function m(){var e=(0,i.Z)(function(e){var n=(0,l.Z)({},p,e);return u.D(h,n)}(),2),n=e[0],t=e[1],a=function(){var e=(0,r.Z)((function(e){var r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(r=e.input,t.loading)return[2,{data:null,error:null}];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n({variables:{input:r}})];case 2:return[2,{data:(i=o.sent()).data,error:f(i)}];case 3:return o.sent(),[2,{data:null,error:"Something went wrong publishing your Repl"}];case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();return{publish:a,data:t.data,loading:t.loading,error:f(t)}}},38388:function(e,n,t){"use strict";t.d(n,{M:function(){return o}});var r=t(32692);function i(){var e=(0,r.Z)(["\n  fragment PostsFeedNavTag on Tag {\n    id\n    isOfficial\n  }\n"]);return i=function(){return e},e}var o=(0,t(31230).Ps)(i())},64405:function(e,n,t){"use strict";t.d(n,{b:function(){return a}});var r=t(32692),i=t(31230),o=t(16092);function l(){var e=(0,r.Z)(["\n  fragment ReplPostRecentCommentUser on User {\n    id\n    username\n    image\n    ...UserLinkUser\n  }\n  ","\n"]);return l=function(){return e},e}var a=(0,i.Ps)(l(),o._)},47174:function(e,n,t){"use strict";t.d(n,{n:function(){return u}});var r=t(32692),i=t(31230),o=t(17674),l=t(35055),a=t(21767),s=t(38388);function c(){var e=(0,r.Z)(["\n  fragment ReplPostReplCardRepl on Repl {\n    id\n    iconUrl\n    description(plainText: true)\n    ...ReplPostReplInfoRepl\n    ...ReplStatsRepl\n    ...ReplLinkRepl\n    tags {\n      id\n      ...PostsFeedNavTag\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return c=function(){return e},e}var u=(0,i.Ps)(c(),o.Zs,l.T,a.Y,s.M)},17674:function(e,n,t){"use strict";t.d(n,{Gz:function(){return g},U5:function(){return b},Zs:function(){return v},f_:function(){return Z},rP:function(){return y}});var r=t(32692),i=t(31230),o=t(6565),l=t(58121),a=t(32399),s=t(35055),c=t(38388),u=t(64405);function d(){var e=(0,r.Z)(["\n  fragment ReplPostReplInfoRepl on Repl {\n    id\n    title\n    description(plainText: true)\n    imageUrl\n    iconUrl\n    templateInfo {\n      label\n      iconUrl\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,r.Z)(["\n  fragment ReplPostRepl on Repl {\n    id\n    ...ReplPostReplInfoRepl\n    ...LikeButtonRepl\n    ...ReplStatsRepl\n    tags {\n      id\n      ...PostsFeedNavTag\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return p=function(){return e},e}function h(){var e=(0,r.Z)(["\n  fragment ReplPostReplComment on ReplComment {\n    id\n    body\n    timeCreated\n    user {\n      id\n      ...ReplPostRecentCommentUser\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function f(){var e=(0,r.Z)(["\n  fragment ReplPostPost on Post {\n    id\n    title\n    timeCreated\n    isPinned\n    isAnnouncement\n    ...ReplViewPostActionPermissions\n    replComment {\n      id\n      body(removeMarkdown: true)\n    }\n    repl {\n      id\n      ...ReplViewReplActionsPermissions\n      ...ReplPostRepl\n    }\n    user {\n      id\n      ...ReplPostUserPostUser\n    }\n    recentReplComments {\n      id\n      ...ReplPostReplComment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}function m(){var e=(0,r.Z)(["\n  fragment ReplPostCurrentUser on CurrentUser {\n    id\n    isModerator: hasRole(role: MODERATOR)\n    isAdmin: hasRole(role: ADMIN)\n    ...LikeButtonCurrentUser\n  }\n  ","\n"]);return m=function(){return e},e}var v=(0,i.Ps)(d()),Z=(0,i.Ps)(p(),v,a.R7,s.T,c.M),g=(0,i.Ps)(h(),u.b),b=(0,i.Ps)(f(),o.K4,o.jN,Z,l.n,g),y=(0,i.Ps)(m(),a.wO)},35055:function(e,n,t){"use strict";t.d(n,{T:function(){return o}});var r=t(32692);function i(){var e=(0,r.Z)(["\n  fragment ReplStatsRepl on Repl {\n    id\n    likeCount\n    runCount\n    commentCount\n  }\n"]);return i=function(){return e},e}var o=(0,t(31230).Ps)(i())},58121:function(e,n,t){"use strict";t.d(n,{n:function(){return a}});var r=t(32692),i=t(31230),o=t(16092);function l(){var e=(0,r.Z)(["\n  fragment ReplPostUserPostUser on User {\n    id\n    username\n    image\n    ...UserLinkUser\n  }\n  ","\n"]);return l=function(){return e},e}var a=(0,i.Ps)(l(),o._)},49197:function(e,n,t){"use strict";t.d(n,{G:function(){return y},Z:function(){return w}});var r=t(14251),i=t(52875),o=t(9941),l=t(35944),a=(t(67294),t(70917)),s=t(32399),c=t(69346),u=t(27843),d=t(81255),p=t(60977),h=t(44044),f=t(29163),m=t(60379),v=t(93160),Z=t(81456),g=t(1144),b=t(49412),y=(0,a.iv)([h.gU.filled,d.l0.p(8),{width:"auto",height:"auto"}]);function w(e){var n=e.repl,t=e.currentUser,a=e.surface,h=void 0===a||a,w=(0,o.Z)((0,s.lU)(),2),x=w[0],k=w[1].loading,R=(0,l.BX)(l.HY,{children:[(null===t||void 0===t?void 0:t.isVerified)&&(0,l.tZ)(m.zx,{css:[h&&y],disabled:k,onClick:function(){n.currentUserDidLike||(0,p.j)(p.U3.REACTED_TO_REPL,{replView:"https://replit.com"+n.url,reaction:"heart",isReplTalk:!1,item:"repl",isCommunityPublish:n.wasPosted,isAppPublish:n.wasPublished}),x({variables:{input:{replId:n.id}},optimisticResponse:{toggleReplLike:(0,i.Z)((0,r.Z)({},n),{likeCount:Math.max(0,n.likeCount+(n.currentUserDidLike?-1:1)),currentUserDidLike:!n.currentUserDidLike})}})},iconLeft:n.currentUserDidLike?(0,l.tZ)(b.Z,{}):(0,l.tZ)(u.Z,{}),text:n.likeCount>0?(0,Z.d)(n.likeCount):"Like"}),t&&!t.isVerified&&(0,l.BX)(c.Z,{css:[d.l0.flex.row,d.l0.align.center,d.l0.backgroundColor.backgroundHigher,d.l0.borderRadius(8),d.l0.pr(8)],children:[(0,l.tZ)(f.Z,{alt:"Verify your email to like",css:h&&y,disabled:!0,children:(0,l.tZ)(u.Z,{})}),(0,l.tZ)(g.x,{color:"dimmer",children:(0,Z.d)(n.likeCount)})]}),!t&&(0,l.BX)(c.Z,{css:[d.l0.flex.row,d.l0.align.center,d.l0.backgroundColor.backgroundHigher,d.l0.borderRadius(8),d.l0.pr(8)],children:[(0,l.tZ)(f.Z,{alt:"Log in to like",css:h&&y,disabled:!0,children:(0,l.tZ)(u.Z,{})}),(0,l.tZ)(g.x,{color:"dimmer",children:(0,Z.d)(n.likeCount)})]})]});return h?(0,l.tZ)(v.Z,{background:"default",css:[d.l0.borderRadius(8)],children:R}):(0,l.tZ)(c.Z,{children:R})}},49483:function(e,n,t){"use strict";t.d(n,{W:function(){return f},Z:function(){return m}});var r=t(35944),i=t(67294),o=t(53427),l=t(64080),a=t(77365),s=t(60459),c=t(69346),u=t(93160),d=t(49619),p=t(81255),h=t(62722);function f(e){var n=(0,i.useState)(null),t=n[0],r=n[1],o=(0,i.useState)(null),l=o[0],a=o[1],c=(0,s.Z)({onUpload:function(n){var t=n.url;r(null),e(t)},onUploadPreview:function(e){var n=e.dataUrl;a(null),r(n)},onError:function(e){r(null),a(e.message)}}),u=(0,i.useCallback)((function(){return a(null)}),[]);return{uploadImage:c.uploadImage,error:l,clearError:u,previewUrl:t}}function m(e){var n=(0,i.useRef)(null),t=e.size||48;return(0,r.BX)(c.Z,{css:[p.l0.position.relative,{cursor:"pointer","&:hover .surface":{opacity:.8},"&:hover .icon":{opacity:1}}],onClick:function(){var e;null===(e=n.current)||void 0===e||e.click()},"aria-label":e.value?"Change icon":"Upload an icon","data-microtip-position":"right",role:"tooltip",children:[e.value?(0,r.BX)(r.HY,{children:[(0,r.tZ)(o.ZP,{iconUrl:e.value,size:e.size,alt:"icon"}),(0,r.tZ)(u.Z,{className:"surface",elevated:!0,css:[p.l0.borderRadius(8),p.l0.coverContainer,{opacity:e.isUploading?.8:0}]}),(0,r.tZ)(c.Z,{className:"icon",css:[p.l0.coverContainer,p.l0.center,p.l0.color.accentPrimaryDefault,{overflow:"hidden",opacity:e.isUploading?1:0}],children:e.isUploading?(0,r.tZ)(a.Z,{}):(0,r.tZ)(l.Z,{})})]}):(0,r.tZ)(c.Z,{css:[p.l0.center,p.l0.width(t),p.l0.height(t),p.l0.borderRadius(8),p.l0.color.foregroundDimmer,{border:"1px dashed "+p.TV.outlineDefault,"&:hover":{color:p.TV.accentPrimaryDefault,borderColor:p.TV.accentPrimaryDefault}}],children:(0,r.tZ)(d.Z,{})}),(0,r.tZ)("input",{css:[[p.l0.coverContainer,{opacity:0,zIndex:-1}]],ref:n,accept:h.W9.join(","),type:"file",onChange:function(n){var t=n.target,r=t.validity,i=t.files;if(r.valid){var o=i?i[0]:null;o&&e.onUpload(o)}}})]})}},29359:function(e,n,t){"use strict";t.d(n,{sI:function(){return u},wP:function(){return p}});var r=t(14251),i=t(32692),o=t(31230),l=t(50319);function a(){var e=(0,i.Z)(["\n  fragment ReplViewerOutputOverlayRepl on Repl {\n    id\n    title\n    imageUrl\n    lastPublishedAt\n    currentUserPermissions {\n      changeImageUrl\n    }\n  }\n"]);return a=function(){return e},e}function s(){var e=(0,i.Z)(["\n  mutation ReplViewerOutputOverlayUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        imageUrl\n      }\n    }\n  }\n"]);return s=function(){return e},e}var c={},u=(0,o.Ps)(a()),d=(0,o.Ps)(s());function p(e){var n=(0,r.Z)({},c,e);return l.D(d,n)}},41307:function(e,n,t){"use strict";t.d(n,{Z:function(){return X},y:function(){return U}});var r=t(14251),i=t(52875),o=t(9941),l=t(35944),a=t(67294),s=t(30758),c=t(81255),u=t(69346),d=t(61756),p=t(57704),h=t(91895),f=t(1879),m=t(29359),v=t(60459),Z=t(29163),g=t(62913),b=t(70917),y=t(1144),w=t(49619),x=t(62722),k=t(7657),R=t(15833),P=t(8633),C=(0,b.iv)({position:"absolute",top:0,left:0,width:"100%",height:"100%"});function U(e){var n=e.src,t=e.alt;return(0,l.BX)(u.Z,{css:[C,{borderBottomLeftRadius:8,borderBottomRightRadius:8,overflow:"hidden"}],children:[(0,l.tZ)(g.Z,{objectFit:"cover",layout:"fill",src:n,alt:t}),(0,l.tZ)(u.Z,{css:[C,{background:"radial-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6))",backgroundRepeat:"no-repeat"}]})]})}function T(e){var n=e.onClick;return(0,l.tZ)(u.Z,{onClick:n,css:[C,c.l0.center,{":hover > svg":{transform:"scale(1.2)"},"> svg":{transition:"transform 200ms",width:64,height:"auto",cursor:"pointer",filter:c.TV.shadowDefault}}],children:(0,l.tZ)(P.Z,{color:c.TV.white})})}function B(e){var n=e.isPublished,t=e.onChangeClick,r=e.onRemoveClick,i=(0,o.Z)(a.useState(!1),2),s=i[0],m=i[1];return(0,l.BX)(u.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center],children:[(0,l.tZ)(d.ZP,{onClick:function(e){e.stopPropagation(),t()},text:"Change image"}),n?(0,l.tZ)(Z.Z,{alt:"Cannot remove cover image of a published Repl",disabled:!0,colorway:"negative",children:(0,l.tZ)(p.Z,{})}):null,n?null:(0,l.tZ)(u.Z,{children:(0,l.tZ)(Z.Z,{alt:"Remove Image",colorway:"negative",onClick:function(){m(!0)},children:(0,l.tZ)(p.Z,{})})}),(0,l.tZ)(f.Z,{isOpen:s,onRequestClose:function(){return m(!1)},children:(0,l.tZ)(h.Z,{confirmLabel:"Yes, remove this image",title:"Remove image",isDestructive:!0,onConfirm:function(){r(),m(!1)},onCancel:function(){return m(!1)},children:"This will remove your Repl\u2019s cover image. You can always add one back at any time."})})]})}function G(e){var n=e.onClick,t=e.isActive;return(0,l.BX)(u.Z,{css:[c.l0.colWithGap(16),c.l0.center],children:[(0,l.BX)(u.Z,{css:[c.l0.colWithGap(8),c.l0.center],children:[(0,l.tZ)(u.Z,{css:[{"> svg":{width:44,height:"auto"}},t&&{color:c.TV.accentPrimaryDefault}],children:(0,l.tZ)(w.Z,{})}),(0,l.tZ)(y.x,{children:"Drag and drop a cover image"})]}),(0,l.tZ)(u.Z,{children:(0,l.tZ)(d.ZP,{onClick:n,iconLeft:(0,l.tZ)(R.Z,{}),colorway:"primary",text:"Or select a file"})})]})}function X(e){var n=e.onClick,t=e.repl,d=function(e){if(null!==e&&0!==e.length){var n=e.find((function(e){return e.type.startsWith("image/")}));n?(Z(null),w.uploadImage(n,k.N.ReplCoverImage)):Z("Expected an image file")}},p=a.useRef(null),h=(0,o.Z)(a.useState(null),2),f=h[0],Z=h[1],g=(0,o.Z)(a.useState(t.imageUrl),2),b=g[0],y=g[1],w=(0,v.Z)({onUpload:function(e){var n=e.url;R({variables:{input:{id:t.id,imageUrl:n}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,i.Z)((0,r.Z)({},t),{imageUrl:n})}}})},onUploadPreview:function(e){var n=e.dataUrl;y(n)},onError:function(e){Z(e.message)}}),R=(0,o.Z)((0,m.wP)({onCompleted:function(e){Z(null),y(e.updateRepl.repl.imageUrl)}}),1)[0],P=t.currentUserPermissions.changeImageUrl,C=(0,o.Z)((0,s.Z)(d),2),X=C[0],S=C[1],A=!b&&P;return(0,a.useEffect)((function(){y(t.imageUrl)}),[t.id]),(0,l.BX)(u.Z,(0,i.Z)((0,r.Z)({css:[c.l0.center,c.l0.flex.growAndShrink(1),!A&&{backgroundColor:c.TV.black},{borderBottomLeftRadius:8,borderBottomRightRadius:8,position:"relative",":hover .image-controls":{opacity:1}}]},S),{children:[b?(0,l.tZ)(U,{src:b,alt:t.title}):null,A?null:(0,l.tZ)(T,{onClick:n}),b&&P?(0,l.BX)(u.Z,{className:"image-controls",css:[{position:"absolute",top:c.TV.space8,right:c.TV.space8,opacity:0,".is-touch-device &":{opacity:1}}],children:[(0,l.tZ)(B,{onChangeClick:function(){var e;null===(e=p.current)||void 0===e||e.click()},onRemoveClick:function(){R({variables:{input:{id:t.id,imageUrl:null}}})},isPublished:Boolean(t.lastPublishedAt)}),f?(0,l.tZ)("div",{className:"error",children:f}):null]}):null,A?(0,l.tZ)(G,{isActive:X,onClick:function(){var e;null===(e=p.current)||void 0===e||e.click()}}):null,P?(0,l.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:p,accept:x.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity,r=n.files;t.valid&&d(r?Array.from(r):null)}}):null]}))}},73515:function(e,n,t){"use strict";var r=t(35944),i=t(87603),o=t.n(i),l=t(30019),a=t(44781),s=t(6951),c=t(19526),u=t(34193),d=t(81255),p=t(45273);n.Z=function(e){e.devHide;var n=e.eventId,t=e.currentUserImage,i=e.currentUserUsername;return(0,r.tZ)(u.Z,{width:"medium",isOpen:!0,preventClose:!0,onRequestClose:function(){},children:(0,r.BX)("div",{className:o().dynamic([["52051431ebcedd91",[d.n0]]])+" modal-content",children:[(0,r.BX)(c.gC,{spacing:2,align:"center",children:[(0,r.tZ)(l.Z,{level:2,children:" Your Repl is having a bit of trouble."}),(0,r.tZ)("div",{className:o().dynamic([["52051431ebcedd91",[d.n0]]])+" spacer"}),(0,r.tZ)(a.Z,{size:"large",children:"The issue has been logged and the Replit team will look into it. Try reloading the page to get back to coding."}),n?(0,r.tZ)("div",{css:[d.l0.p(16),d.l0.width("100%"),d.l0.backgroundColor.backgroundHigher,d.l0.borderRadius(8)],className:o().dynamic([["52051431ebcedd91",[d.n0]]]),children:(0,r.BX)(c.gC,{spacing:1,children:[i&&t?(0,r.BX)(c.Ug,{spacing:2,align:"center",children:[(0,r.tZ)(p.Z,{src:t,username:i,size:48}),(0,r.tZ)(a.Z,{size:"medium",children:i})]}):null,(0,r.BX)("div",{css:[d.l0.font.code],className:o().dynamic([["52051431ebcedd91",[d.n0]]]),children:["Error: ",n]})]})}):null,(0,r.tZ)("div",{className:o().dynamic([["52051431ebcedd91",[d.n0]]])+" spacer"}),(0,r.tZ)(s.Z,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0,children:"reload"}),!1]}),(0,r.tZ)(o(),{id:"52051431ebcedd91",dynamic:[d.n0],children:".modal-content.__jsx-style-dynamic-selector{padding:var(--space-32)}.sentry-error-embed-wrapper{z-index:".concat(d.n0,"!important}")})]})})}},32539:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return en}});var r=t(34727),i=t(67573),o=t(9941),l=t(70655),a=t(35944),s=t(67294),c=t(70338),u=t(19246),d=t(27182),p=t(60977),h=t(90317),f=t(14251),m=t(32692),v=t(31230),Z=t(38388),g=t(37887);function b(){var e=(0,m.Z)(["\n  fragment PostsFeedPageTag on Tag {\n    id\n    ...PostsFeedNavTag\n  }\n  ","\n"]);return b=function(){return e},e}function y(){var e=(0,m.Z)(["\n  query PostsFeedPage {\n    currentUser {\n      id\n    }\n    boards {\n      id\n      name\n      slug\n      color\n      description\n    }\n  }\n"]);return y=function(){return e},e}function w(){var e=(0,m.Z)(["\n  query PostsFeedPage2($limit: Int, $tags: [String!]!) {\n    currentUser {\n      id\n      isModerator: hasRole(role: MODERATOR)\n      isAdmin: hasRole(role: ADMIN)\n      hasPrivacyRole\n      isVerified\n      isBannedFromBoards\n      bannedFromBoardsReason\n    }\n    tags(tags: $tags) {\n      id\n      ...PostsFeedPageTag\n    }\n    tagGroups {\n      official(limit: $limit) {\n        id\n        ...PostsFeedPageTag\n      }\n      community(limit: $limit) {\n        id\n        ...PostsFeedPageTag\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}var x={},k=(0,v.Ps)(b(),Z.M);y();var R=(0,v.Ps)(w(),k);var P=t(11163),C=t.n(P),U=t(34193),T=t(1879),B=t(81255),G=t(60379),X=t(52875),S=t(69779),A=t(17674),W=t(35087),D=t(22411);function O(){var e=(0,m.Z)(["\n  query ReplPostsFeed($options: ReplPostsQueryOptions) {\n    currentUser {\n      id\n      ...ReplPostCurrentUser\n    }\n    replPosts(options: $options) {\n      pageInfo {\n        nextCursor\n      }\n      items {\n        id\n        ...ReplPostPost\n        ...ReplCardPostPost\n        ...OldPostPost\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return O=function(){return e},e}var E={},z=(0,v.Ps)(O(),A.rP,A.U5,W.mx,D.h);var N=t(69346),L=t(1144),_=t(77365),j=t(4472),V=t(65338),I=t(5886),F=t(92850),M=t(4972);function q(e){var n=function(n){n&&n.preventDefault(),r||((0,p.j)(p.U3.POSTS_LOAD_MORE_CLICKED,{board:"all"}),l({variables:{options:(0,X.Z)((0,f.Z)({},e),{after:v})},updateQuery:function(e,n){var t;if(!n||!(null===n||void 0===n||null===(t=n.fetchMoreResult)||void 0===t?void 0:t.replPosts.items))return e;var r=n.fetchMoreResult,i=e?e.replPosts.items:[],o=(0,f.Z)({},r),l=r.replPosts.items;return l.length>0&&c.replace({pathname:c.pathname,query:(0,f.Z)({},c.query)},{pathname:m,query:{}},{shallow:!0}),o.replPosts.items=(0,S.Z)(i).concat((0,S.Z)(l)),o}}))},t=function(e){var n=(0,f.Z)({},E,e);return g.a(z,n)}({variables:{options:e},notifyOnNetworkStatusChange:!0,context:{noBatch:!0}}),r=t.loading,i=t.data,o=t.error,l=t.fetchMore,s=(0,M.Z)({onLoadMore:function(){return v&&n()},rootMargin:"0px 0px 1000px 0px"}).targetRef,c=(0,P.useRouter)();if(o)return(0,a.tZ)(L.x,{children:o.message});var u=null===i||void 0===i?void 0:i.replPosts,d=(null===i||void 0===i?void 0:i.currentUser)||void 0;if(!u&&r)return(0,a.tZ)(N.Z,{css:[B.l0.py(64),B.l0.center],children:(0,a.tZ)(_.Z,{size:32})});if(!u)return null;var h=u.items,m=c.asPath.split("?")[0],v=u.pageInfo.nextCursor,Z=e.searchQuery&&h?h.length:null;return(0,a.BX)(N.Z,{css:[B.l0.colWithGap(32)],children:[(0,a.BX)(N.Z,{css:[B.l0.colWithGap(16)],children:[null!==Z&&Z>0?(0,a.tZ)(L.x,{color:"dimmer",children:"REPLS AND POSTS FOUND"}):null,null!==Z&&0===Z?(0,a.tZ)(L.x,{color:"dimmer",children:"No Repls or Posts Found"}):null,(0,a.tZ)(N.Z,{css:[B.l0.colWithGap(64)],children:h.map((function(e){return e.title?e.replComment?(0,a.tZ)(j.Z,{post:e,currentUser:d||void 0},e.id):(0,a.tZ)(V.Z,{post:e},e.id):(0,a.tZ)(F.Z,{post:e,currentUser:d||void 0},e.id)}))})]}),(0,a.tZ)(N.Z,{css:[B.l0.center],children:r?(0,a.tZ)(_.Z,{}):v&&(0,a.tZ)(I.Z,{as:{pathname:m,query:{after:v}},href:{pathname:c.pathname,query:(0,X.Z)((0,f.Z)({},c.query),{after:v})},onClick:n,text:"Load more",ref:s})})]})}var H=t(13625);function $(){var e=(0,m.Z)(["\n  fragment ReplPostsPinnedPostsUser on User {\n    id\n    username\n    image\n  }\n"]);return $=function(){return e},e}function Q(){var e=(0,m.Z)(["\n  fragment ReplPostsPinnedPostsPost on Post {\n    id\n    title\n    commentCount\n    ...PostLinkPost\n    replComment {\n      id\n    }\n    repl {\n      id\n      title\n      url\n      commentCount\n    }\n    user {\n      id\n      ...ReplPostsPinnedPostsUser\n    }\n  }\n  ","\n  ","\n"]);return Q=function(){return e},e}function Y(){var e=(0,m.Z)(["\n  query ReplPostsPinnedPosts {\n    pinnedPosts {\n      id\n      ...ReplPostsPinnedPostsPost\n    }\n  }\n  ","\n"]);return Y=function(){return e},e}var K={},J=(0,v.Ps)($()),ee=(0,v.Ps)(Q(),H.p,J),ne=(0,v.Ps)(Y(),ee);var te=t(41664),re=t.n(te),ie=t(76149),oe=t(93160),le=t(45273),ae=t(12530),se=t(65632),ce=t(7243),ue=t(46197),de=t(62913),pe=t(70917),he=N.K.a,fe=function(){return(0,a.tZ)(N.Z,{children:(0,a.tZ)(re(),{href:"/communityHub",as:"/community-hub",children:(0,a.BX)(N.Z,{css:[{aspectRatio:"1.87"},B.l0.minWidth(230),B.l0.flex.grow(1),B.l0.position.relative,B.l0.borderRadius(8),G.gU.filled,B.l0.overflow("hidden")],children:[(0,a.tZ)(N.Z,{"aria-label":"cover image for communityhub",css:[B.l0.width("100%"),B.l0.height("100%"),(0,pe.iv)({background:"url(".concat((0,de.X)({src:"/public/images/community-hub/community-hub-preview.png",width:460}),")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"})]}),(0,a.tZ)(N.Z,{css:[B.l0.position.absolute,B.l0.bottom(0),B.l0.width("100%"),B.l0.height("65%"),{background:"linear-gradient(rgba(33,36,44,0), rgba(33,36,44,1))"}]}),(0,a.BX)(N.Z,{css:[B.l0.colWithGap(4),B.l0.position.absolute,B.l0.bottom(0),B.l0.left(0),B.l0.p(12),(0,pe.iv)({color:"white"})],children:[(0,a.tZ)(G.xv,{multiline:!0,variant:"subheadBig",css:[{overflowWrap:"break-word",wordBreak:"break-word",display:"block"},{"& > div > p":{color:"white",fontSize:G.TV.fontSizeSubheadBig,fontWeight:G.TV.fontWeightMedium,lineHeight:G.TV.lineHeightSubheadBig}}],children:"Community Hub"}),(0,a.tZ)(N.Z,{css:[B.l0.rowWithGap(8),B.l0.center,B.l0.flex.growAndShrink(1)],children:(0,a.tZ)(G.xv,{css:B.l0.flex.growAndShrink(1),variant:"small",multiline:!0,children:"Get started in the Replit Community"})})]})]})})})};function me(e){var n=e.link,t=e.title,r=e.user,i=e.commentCount;return(0,a.tZ)(re(),(0,X.Z)((0,f.Z)({passHref:!0},n),{children:(0,a.BX)(he,{css:[G.gU.filled,B.l0.p(8),B.l0.rowWithGap(8),B.l0.align.center,B.l0.justify.spaceBetween,{color:"inherit"}],children:[(0,a.BX)(N.Z,{css:[B.l0.rowWithGap(8),B.l0.flex.growAndShrink(1),B.l0.align.center,B.l0.maxWidth("80%")],children:[(0,a.tZ)(le.Z,{src:r.image,username:r.username,size:24}),(0,a.tZ)(G.xv,{title:t,css:[B.l0.flex.growAndShrink(1)],children:t})]}),(0,a.tZ)(ae.Z,{count:i,tooltip:1===i?"1 comments":"".concat(i," comments"),children:(0,a.tZ)(se.Z,{})})]})}))}function ve(){var e=function(e){var n=(0,f.Z)({},K,e);return g.a(ne,n)}(),n=e.loading,t=e.data,r=e.error;if(n)return(0,a.tZ)(N.Z,{css:[B.l0.p(8),B.l0.center],children:(0,a.tZ)(_.Z,{})});if(r)return(0,a.tZ)(G.xv,{children:r.message});if(!t)return null;var o,l,s,c=t.pinnedPosts.map((function(e){var n=e.replComment,t=e.user,r=n&&e.repl?e.repl:null;if(!t)return null;var i=n&&r?r.commentCount:e.commentCount,o=e.title||(null===r||void 0===r?void 0:r.title);return o?(0,a.tZ)(me,{user:t,title:o,commentCount:i,link:r&&n?(0,j.x)({replUrl:r.url,replCommentId:n.id}):(0,ie.i)(e)},e.id):null}));return(0,a.BX)(oe.Z,{background:"root",css:[B.l0.colWithGap(16)],children:[(0,a.tZ)(G.xv,{color:"dimmer",children:"FEATURED"}),(0,a.tZ)(N.Z,{css:(o={},(0,i.Z)(o,ue.A.mobile,[B.l0.maxWidth(300),B.l0.flex.growAndShrink(1)]),(0,i.Z)(o,ue.A.desktop,[B.l0.colWithGap(8),B.l0.align.stretch]),o),children:(0,a.tZ)(fe,{})}),(0,a.BX)(N.Z,{children:[(0,a.tZ)(ce.Z,{gap:8,inset:16,css:[(l={},(0,i.Z)(l,ue.A.desktop,[B.l0.display.none]),(0,i.Z)(l,ue.A.mobile,{a:[B.l0.minWidth("40vw"),B.l0.maxWidth("80vw")]}),(0,i.Z)(l,"marginLeft","calc(-1 * ".concat(G.TV.space16,")")),(0,i.Z)(l,"marginRight","calc(-1 * ".concat(G.TV.space16,")")),l)],children:c}),(0,a.tZ)(N.Z,{css:(s={},(0,i.Z)(s,ue.A.mobile,[B.l0.display.none]),(0,i.Z)(s,ue.A.desktop,[B.l0.colWithGap(8),B.l0.align.stretch]),s),children:c})]})]})}var Ze=t(15589),ge=t(98967),be=t(49619),ye=t(5804),we=t(44365),xe=t(24351);function ke(){var e=(0,m.Z)(["\n  query ReplPostsSearch(\n    $options: ReplPostsQueryOptions\n    $tagsSearch: String!\n    $tagsLimit: Int = 50\n  ) {\n    currentUser {\n      id\n      ...ReplPostCurrentUser\n    }\n    replPosts(options: $options) {\n      pageInfo {\n        nextCursor\n      }\n      items {\n        id\n        ...ReplPostPost\n        ...ReplCardPostPost\n        ...OldPostPost\n      }\n    }\n    tagGroups {\n      official(search: $tagsSearch, limit: $tagsLimit) {\n        id\n        ...PostsFeedNavTag\n      }\n      community(search: $tagsSearch, limit: $tagsLimit) {\n        id\n        ...PostsFeedNavTag\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ke=function(){return e},e}var Re={},Pe=(0,v.Ps)(ke(),A.rP,A.U5,W.mx,D.h,Z.M);var Ce=t(61179),Ue={value:"",loading:!1,result:{tags:[],posts:[]}};function Te(e,n){switch(n.type){case"data":var t=n.data,r=t.tagGroups,i=t.replPosts,o=t.currentUser,l=(0,S.Z)(r.official).concat((0,S.Z)(r.community)),a=i.items;return(0,X.Z)((0,f.Z)({},e),{loading:!1,result:{currentUser:o,tags:(0,Ce.Z)(l,{existing:e.result.tags,getKey:function(e){return e.id}}),posts:(0,Ce.Z)(a,{existing:e.result.posts,getKey:function(e){return e.id}})}});case"value":return(0,X.Z)((0,f.Z)({},e),{loading:Boolean(n.value),value:n.value});case"clear":return Ue}}function Be(e){var n=e.initialValue,t=void 0===n?"":n,r=e.currentTags,i=(0,s.useReducer)(Te,(0,X.Z)((0,f.Z)({},Ue),{value:t})),o=i[0],l=i[1],a=(0,xe.Z)(o.value,200),c=function(e){var n=(0,f.Z)({},Re,e);return g.a(Pe,n)}({variables:{tagsSearch:a,options:{searchQuery:a,tags:(null===r||void 0===r?void 0:r.length)?r.map((function(e){return e.id})):void 0}},skip:!a,notifyOnNetworkStatusChange:!0}).data;(0,s.useEffect)((function(){c&&l({type:"data",data:c})}),[c]);var u=(0,s.useCallback)((function(e){l({type:"value",value:e})}),[l]),d=(0,s.useCallback)((function(){l({type:"clear"})}),[l]);return{loading:o.loading,value:o.value,setValue:u,result:o.result,clear:d}}var Ge=t(72917);function Xe(e){var n=e.posts,t=e.tags,r=e.currentUser,i=e.search,o=e.currentTags,l=e.loading;return(0,a.BX)(N.Z,{css:[B.l0.colWithGap(32)],children:[(null===o||void 0===o?void 0:o.length)?null:(0,a.tZ)(Ae,{tags:t}),(0,a.BX)(N.Z,{css:[B.l0.colWithGap(16)],children:[n.length>0?(0,a.tZ)(Se,{children:"REPLS AND POSTS FOUND"}):null,0!==n.length||l?null:(0,a.BX)(N.Z,{css:[B.l0.display.block],children:[(0,a.tZ)(L.x,{color:"dimmer",multiline:!0,children:'No Repls or Posts found for "'}),(0,a.tZ)(L.x,{multiline:!0,children:i}),(0,a.BX)(L.x,{color:"dimmer",multiline:!0,children:['"',(null===o||void 0===o?void 0:o.length)?(0,a.BX)(a.HY,{children:[" in ",o.map((function(e){return"#"+e.id})).join(", ")]}):null]})]}),(0,a.tZ)(N.Z,{css:[B.l0.colWithGap(64)],children:n.map((function(e){return e.title?e.replComment?(0,a.tZ)(j.Z,{post:e,currentUser:r||void 0},e.id):(0,a.tZ)(V.Z,{post:e},e.id):(0,a.tZ)(F.Z,{post:e,currentUser:r||void 0},e.id)}))})]})]})}function Se(e){var n=e.children;return(0,a.tZ)(L.x,{color:"dimmer",children:n})}function Ae(e){var n,t=e.tags;return t.length?(0,a.BX)(a.HY,{children:[(0,a.BX)(N.Z,{css:[B.l0.colWithGap(16),(0,i.Z)({},ue.A.desktop,[B.l0.display.none])],children:[(0,a.tZ)(Se,{children:"TAGS FOUND"}),(0,a.tZ)(ce.Z,{gap:8,inset:16,css:[(n={},(0,i.Z)(n,ue.A.desktop,[B.l0.display.none]),(0,i.Z)(n,"marginLeft","calc(-1 * ".concat(B.TV.space16,")")),(0,i.Z)(n,"marginRight","calc(-1 * ".concat(B.TV.space16,")")),n)],children:t.map((function(e){return(0,a.tZ)(Ge.t,{tag:e,link:(0,ye.M6)(e.id)},e.id)}))})]}),(0,a.BX)(N.Z,{css:[B.l0.colWithGap(16),(0,i.Z)({},ue.A.mobile,[B.l0.display.none])],children:[(0,a.tZ)(Se,{children:"TAGS FOUND"}),(0,a.tZ)(N.Z,{css:[B.l0.flex.row,B.l0.flex.wrap,{margin:"calc(-1 * ".concat(B.TV.space8,")")}],children:t.map((function(e){return(0,a.tZ)(N.Z,{css:[B.l0.m(4)],children:(0,a.tZ)(Ge.t,{tag:e,link:(0,ye.M6)(e.id)})},e.id)}))})]}),(0,a.tZ)(N.Z,{css:{borderTop:"1px solid "+B.TV.outlineDimmest}})]}):null}var We=t(32951),De=t(7861),Oe=t(93426),Ee=t(23384),ze=t(81456),Ne=t(38164),Le=t(94718),_e=t(82447),je=t(32188);function Ve(){var e=(0,m.Z)(["\n  fragment TippedUserLeaderboard on User {\n    id\n    username\n    image\n    url\n  }\n"]);return Ve=function(){return e},e}function Ie(){var e=(0,m.Z)(["\n  query TopGlobalTippers($limit: Int!) {\n    topGlobalTippers(limit: $limit) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on LeaderboardTopTippersResult {\n        leaderboard {\n          user {\n            id\n            ...TippedUserLeaderboard\n          }\n          totalCyclesTipped\n        }\n      }\n    }\n  }\n  ","\n"]);return Ie=function(){return e},e}var Fe={},Me=(0,v.Ps)(Ve()),qe=(0,v.Ps)(Ie(),Me);var He={tippedUserCard:[G.l0.cursor.pointer,(0,pe.iv)({flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"})],cyclesAmount:[G.l0.rowWithGap(2),G.l0.px(4),G.l0.align.center],userAvatar:[G.l0.rowWithGap(8),G.l0.align.center,G.l0.px(16),G.l0.py(8),G.l0.borderRadius(8),(0,pe.iv)({":hover":{backgroundColor:G.TV.backgroundHigher}})]},$e=function(e){var n=e.totalCyclesTipped;return(0,a.BX)(G.G7,{css:He.cyclesAmount,children:[(0,a.tZ)(Ne.Z,{size:16}),(0,a.BX)(G.xv,{children:[" ","".concat((0,ze.d)(n))]})]})},Qe=function(e){var n=e.user;return(0,a.BX)(G.G7,{css:He.userAvatar,children:[(0,a.tZ)(G.qE,{src:n.image,username:n.username,size:32,layout:"intrinsic"}),(0,a.tZ)(G.xv,{children:n.username})]})},Ye=function(e){var n=e.user,t=e.totalCyclesTipped,r=e.index;return(0,a.BX)(G.G7,{css:He.tippedUserCard,children:[(0,a.BX)(G.G7,{css:[G.l0.rowWithGap(16),G.l0.align.center],children:[(0,a.tZ)(G.xv,{css:[G.l0.fontWeight.medium],children:r+1}),(0,a.tZ)(Qe,{user:n})]}),(0,a.tZ)($e,{totalCyclesTipped:t})]})};function Ke(){var e,n=(0,s.useState)(!1),t=n[0],r=n[1],i=function(e){var n=(0,f.Z)({},Fe,e);return g.a(qe,n)}({variables:{limit:25}}),o=i.data;if(i.loading)return null;var l="LeaderboardTopTippersResult"===(null===o||void 0===o||null===(e=o.topGlobalTippers)||void 0===e?void 0:e.__typename)?o.topGlobalTippers.leaderboard:[];return 0===l.length?null:(0,a.BX)(a.HY,{children:[(0,a.BX)(G.G7,{css:[G.l0.colWithGap(8)],children:[(0,a.tZ)(G.xv,{color:"dimmer",children:"TOP GLOBAL TIPPERS"}),(0,a.tZ)(G.G7,{children:l.slice(0,5).map((function(e,n){var t=e.user,r=e.totalCyclesTipped;return t?(0,a.tZ)(G.G7,{children:(0,a.tZ)(Le.Z,{username:t.username,children:(0,a.tZ)(_e.ZP,{user:t,children:(0,a.tZ)(Ye,{user:t,totalCyclesTipped:r,index:n})})})},n):null}))}),(0,a.tZ)(G.zx,{outlined:!0,onClick:function(){r(!0),(0,p.j)(p.U3.TIP_USED,{action:"open-leaderboard"})},text:"See the full leaderboard"})]}),(0,a.tZ)(G.u_,{isOpen:t,onRequestClose:function(){r(!1)},children:(0,a.tZ)(je.Z,{leaderboardTitle:"Global Leaderboard",topTippers:l})})]})}function Je(){var e,n,t,r,l,c,m,v=(0,P.useRouter)(),Z=(0,we.Qf)(v.query),b=(0,Ee.D)({controlName:"flag-tip-repl"});(0,De.c)("apps");var y=function(e){var n=(0,f.Z)({},x,e);return g.a(R,n)}({variables:{tags:Z.tags||[],limit:10}}),w=y.data,k=y.previousData,X=Boolean((null===w||void 0===w?void 0:w.currentUser)||(null===k||void 0===k?void 0:k.currentUser)),S=Boolean((null===w||void 0===w||null===(e=w.currentUser)||void 0===e?void 0:e.isBannedFromBoards)||(null===k||void 0===k||null===(n=k.currentUser)||void 0===n?void 0:n.isBannedFromBoards)),A=(0,o.Z)(s.useState(!1),2),W=A[0],D=A[1],O=(0,o.Z)(s.useState(!1),2),E=O[0],z=O[1],_=(0,o.Z)(s.useState(!1),2),j=_[0],V=_[1],I=(null===w||void 0===w?void 0:w.tagGroups)||(null===k||void 0===k?void 0:k.tagGroups),F=(null===w||void 0===w?void 0:w.tags)||(null===k||void 0===k?void 0:k.tags),M=Be({initialValue:Z.searchQuery,currentTags:F}),H=(0,o.Z)(v.asPath.split("?"),1)[0];(0,We.Z)(M.clear,[H,M.clear]),s.useEffect((function(){var e;if(!M.loading){var n=(0,we.Qf)(C().query);if((n.searchQuery||null)!==(M.value||null))if(M.value){var t=(0,ye.nr)(M.value,n);C().push(t.href,t.as,{shallow:!0})}else{var r=(null===(e=n.tags)||void 0===e?void 0:e.length)?(0,ye.M6)(n.tags.join(",")):(0,ye.L8)();C().push(r.href,r.as,{shallow:!0})}}}),[M.loading,M.value]);var $,Q,Y,K,J,ee,ne=X?function(){D(!0)}:function(){z(!0),(0,p.j)(p.U3.SIGNUP_REQUESTED,{from:"feed",location:"publish-button"})},te=(0,a.BX)(N.Z,{css:[B.l0.rowWithGap(16),B.l0.align.center,B.l0.justify.spaceBetween,($={},(0,i.Z)($,ue.A.mobile,[B.l0.pb(16)]),(0,i.Z)($,ue.A.desktop,[B.l0.pb(32)]),$)],children:[(0,a.tZ)(N.Z,{css:[B.l0.flex.growAndShrink(1),(0,i.Z)({},ue.A.desktop,[B.l0.maxWidth(280)])],children:0===(null===F||void 0===F?void 0:F.length)?(0,a.tZ)(d.Z,{loading:M.loading,value:M.value,onChange:function(e){return M.setValue(e.currentTarget.value)},onClear:M.clear,placeholder:"Search for Repls, Posts, and Tags"}):null}),M.value?null:(0,a.tZ)(N.Z,{children:(0,a.tZ)(Ze.Z,{id:"",items:[{value:h.vX.Hot,title:h.vX.Hot},{value:h.vX.New,title:h.vX.New},{value:h.vX.Top,title:h.vX.Top}],initialSelectedItem:{value:Z.order,title:Z.order},onChange:function(e){var n=(0,ye.QH)(e.value,Z);v.push(n.href,n.as)}})})]});return(0,a.tZ)(u.Z,{title:"Community",description:"Your place to share and discover Repls",children:(0,a.BX)(oe.Z,{css:[B.l0.pageContent,(Q={},(0,i.Z)(Q,ue.A.mobile,[B.l0.colWithGap(16)]),(0,i.Z)(Q,ue.A.desktop,[B.l0.colWithGap(24)]),Q)],children:[(0,a.tZ)(N.Z,{css:[B.l0.colWithGap(16)],children:(0,a.BX)(N.Z,{css:[(Y={},(0,i.Z)(Y,ue.A.mobile,[B.l0.align.baseline]),(0,i.Z)(Y,ue.A.desktop,[B.l0.align.center]),Y),[B.l0.rowWithGap(8),B.l0.justify.spaceBetween]],children:[(0,a.BX)(N.Z,{css:(K={},(0,i.Z)(K,ue.A.mobile,[B.l0.colWithGap(8)]),(0,i.Z)(K,ue.A.desktop,[B.l0.rowWithGap(16)]),K),children:[(0,a.tZ)(L.h,{level:1,variant:"headerBig",children:"Community"}),(null===F||void 0===F?void 0:F.length)?(0,a.tZ)(N.Z,{css:[B.l0.rowWithGap(8),B.l0.flex.growAndShrink(1)],children:F.map((function(e){var n=F.filter((function(n){return n.id!==e.id})),t=n.length?(0,ye.M6)(n.map((function(e){return e.id})).join(",")):(0,ye.L8)();return(0,a.tZ)(Ge.t,{tag:e,link:t,isActive:!0},e.id)}))}):null]}),(0,a.tZ)(N.Z,{children:(null===w||void 0===w||null===(t=w.currentUser)||void 0===t?void 0:t.hasPrivacyRole)?null:(0,a.tZ)(G.zx,{iconLeft:(0,a.tZ)(be.Z,{}),css:[B.l0.justify.center],big:!0,colorway:"primary",text:"Publish a Repl",onClick:ne})})]})}),(0,a.BX)(N.Z,{css:(J={},(0,i.Z)(J,ue.A.mobile,[B.l0.colWithGap(32)]),(0,i.Z)(J,ue.A.desktop,[B.l0.rowWithGap(32)]),J),children:[(0,a.BX)(N.Z,{css:(0,i.Z)({},ue.A.desktop,[B.l0.width("30%")]),children:[(0,a.tZ)(N.Z,{css:(0,i.Z)({},ue.A.desktop,[B.l0.display.none]),children:te}),(0,a.BX)(N.Z,{css:[(ee={},(0,i.Z)(ee,ue.A.mobile,[B.l0.colWithGap(16)]),(0,i.Z)(ee,ue.A.desktop,[B.l0.colWithGap(32)]),ee),M.value&&(0,i.Z)({},ue.A.mobile,B.l0.display.none),(null===F||void 0===F?void 0:F.length)&&(0,i.Z)({},ue.A.mobile,B.l0.display.none)],children:[S?(0,a.tZ)(G.E_,{text:(0,a.BX)(G.xv,{variant:"small",multiline:!0,children:["Your replit account has been banned from using community features",(null===w||void 0===w||null===(r=w.currentUser)||void 0===r?void 0:r.bannedFromBoardsReason)||(null===k||void 0===k||null===(l=k.currentUser)||void 0===l?void 0:l.bannedFromBoardsReason)?' for "'.concat((null===w||void 0===w||null===(c=w.currentUser)||void 0===c?void 0:c.bannedFromBoardsReason)||(null===k||void 0===k||null===(m=k.currentUser)||void 0===m?void 0:m.bannedFromBoardsReason),'"'):"",".",(0,a.tZ)("br",{}),"If you believe that there has been a mistake and/or would like to appeal, you can"," ",(0,a.tZ)("a",{href:"https://contact.moderation.repl.co",target:"_blank",children:"get in touch"})," ","with our community moderators."]}),colorway:"red"}):null,(0,a.tZ)(ve,{}),b?(0,a.tZ)(Ke,{}):null,I?(0,a.tZ)(ye.JL,{tagGroups:I,params:Z}):null]})]}),(0,a.BX)(N.Z,{css:[B.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(N.Z,{css:(0,i.Z)({},ue.A.mobile,[B.l0.display.none]),children:te}),(0,a.tZ)(N.Z,{css:[B.l0.colWithGap(16)],children:M.value?(0,a.tZ)(Xe,{tags:M.result.tags,posts:M.result.posts,search:M.value,loading:M.loading,currentTags:F,currentUser:(null===w||void 0===w?void 0:w.currentUser)||(null===k||void 0===k?void 0:k.currentUser)}):(0,a.tZ)(q,{searchQuery:Z.searchQuery,tags:Z.tags,order:Z.order,after:Z.after,count:Z.count})})]})]}),(0,a.tZ)(T.Z,{onRequestClose:function(){j&&!window.confirm("Are you sure you want to leave? Unsaved changes may be lost.")||(D(!1),V(!1))},isOpen:W,noPadding:!0,maxWidth:872,fitContent:!0,children:(0,a.tZ)(Oe.Z,{source:"postsFeed"})}),(0,a.tZ)(U.Z,{isOpen:E,onRequestClose:function(){z(!1)},children:(0,a.tZ)(ge.Z,{onSuccess:function(){z(!1),D(!0)},source:"postsFeed"})})]})})}Je.getInitialProps=function(){var e=(0,r.Z)((function(e){var n,t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return n=e.req,t=e.store,[4,(0,c.Z)(n,t)];case 1:return r.sent(),[2,{}]}}))}));return function(n){return e.apply(this,arguments)}}();var en=Je}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[2240,3662,3032,8966,4778,7485,5499,9922,8723,4718,7194,4924,7667,3426,6243,9774,2888,179],(function(){return n(97239),n(21880)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=postsFeed-abfaebadb71c60be.js.map