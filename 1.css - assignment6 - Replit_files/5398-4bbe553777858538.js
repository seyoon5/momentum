(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5398],{64643:function(e,n,t){"use strict";t.d(n,{D:function(){return l},sJ:function(){return i},sP:function(){return a}});var r=t(14251),o=t(52875),i=function(e){var n=e.query,t=void 0===n?{}:n,i=e.slug,l=e.username;return{href:{pathname:"/bounties/bounty",query:(0,o.Z)((0,r.Z)({},t),{slug:i,username:l})},as:{pathname:"/bounties/@".concat(l,"/").concat(i),query:{t:t.t}}}},l=function(e){var n=e.slug,t=e.username;return"".concat(window.location.origin,"/bounties/@").concat(t,"/").concat(n)},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.query,t=void 0===n?{}:n,r={pathname:"/bounties",query:t},o={pathname:"/bounties",query:{}};return t.search&&(o.query.search=t.search),t.status&&(o.query.status=t.status),t.order&&(o.query.order=t.order),t.create&&(o.query.create="true"),t.mine&&(o.query.mine="true"),{href:r,as:o}}},33473:function(e,n,t){"use strict";var r=t(35944),o=t(69346),i=t(81255),l=t(61756),a=t(81456);n.Z=function(e){return(0,r.BX)(o.Z,{css:[i.l0.rowWithGap(2),i.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(l.ZP,{colorway:e.colorway,iconLeft:e.icon,stretch:!0,onClick:e.onClick,text:e.text,css:[i.l0.flex.growAndShrink(1),i.l0.borderRadius(8,0,0,8)]}),(0,r.tZ)(l.ZP,{colorway:e.colorway,onClick:e.onCountClick,text:(0,a.d)(e.count),css:[i.l0.borderRadius(1,8,8,1)]})]})}},57249:function(e,n,t){"use strict";t.d(n,{Z:function(){return A},S:function(){return X}});var r=t(34727),o=t(14251),i=t(52875),l=t(70655),a=t(35944),c=t(67294),u=t(32692),s=t(31230);function d(){var e=(0,u.Z)(["\n  fragment PostBodyTextAreaUser on User {\n    id\n    username\n    image\n  }\n"]);return d=function(){return e},e}function m(){var e=(0,u.Z)(["\n  query PostBodyTextAreaUsernameSearch($query: String!, $limit: Int) {\n    usernameSearch(query: $query, limit: $limit) {\n      id\n      ...PostBodyTextAreaUser\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var p=(0,s.Ps)(d()),h=(0,s.Ps)(m(),p);var f=t(16965),Z=t(9941),v=t(16496),g=t.n(v),b=t(18332),C=t(96594);var y=t(30758),w=t(48732),R=t(69779),x=t(32703),S=t(62722),k=t(7657);function B(e){var n=e.initialValue,t=e.textTriggers,o=(0,c.useState)(n||""),i=o[0],a=o[1],u=(0,c.useRef)(null),s=function(e){var n=e.textTriggers,t=e.applySuggestion,r=(0,c.useRef)(null),o=(0,Z.Z)((0,b.Z)(n),2),i=o[0].suggestions,l=o[1],a=(0,C.Kb)({items:(null===i||void 0===i?void 0:i.results)||[],defaultHighlightedIndex:0,isOpen:Boolean(i),onSelectedItemChange:function(e){var n=e.selectedItem;if(i&&n){var o=r.current;if(o){var l=i.applySuggestion({targetValue:o.value,suggestionValue:n.value}),a=l.fullValue,c=l.cursorIndex;t({fullValue:a,cursorIndex:c})}}}}),u=(0,c.useMemo)((function(){if(i&&r.current)return g()(r.current,i.textTrigger.index)}),[i]);return{ref:(0,c.useCallback)((function(e){r.current=e,l(e)}),[l]),suggestions:null===i||void 0===i?void 0:i.results,caretCoordinates:u,combobox:a}}({textTriggers:t,applySuggestion:function(e){var n=e.cursorIndex,t=e.fullValue;a(t),setTimeout((function(){u.current&&u.current.setSelectionRange(n,n)}))}}),d=s.combobox,m=s.caretCoordinates,p=s.suggestions,h=s.ref,v=function(e){var n=(0,c.useRef)(null),t=(0,f.Z)(e.onChange),o=(0,f.Z)(e.onError),i=(0,c.useCallback)((function(e){n.current=e}),[]),a=(0,c.useCallback)(function(){var e=(0,r.Z)((function(e){var r,i,a,c,u,s,d,m,p,h,f,Z;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:if(!(r=n.current))return[2];i=r.value,a=r.selectionStart?r.selectionStart:i.length,c=e.map((function(e){return"![Uploading ".concat(e.name,"...]()")})),u=i.substr(0,a),s=i.substr(a),d=(0,R.Z)(c),u&&d.unshift(u),s&&d.push(s),t.current(d.join("\n")),m=[],l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,x.L0)(e)];case 2:return m=l.sent(),[3,4];case 3:return p=l.sent(),o.current(p),[2];case 4:h=[],l.label=5;case 5:return l.trys.push([5,7,,8]),[4,Promise.all(m.map((function(e){return(0,S.mh)(e,k.N.CommunityPost)})))];case 6:return h=l.sent(),[3,8];case 7:return f=l.sent(),o.current(f),[2];case 8:return n.current?(Z=c.reduce((function(n,t,r){var o=e[r].name.replace(/\.[^/.]+$/,""),i=h[r],l=(0,w.Z)(i,Error)?"Error uploading":i.url;return n.replace(t,"![".concat(o,"](").concat(l,")"))}),n.current.value),t.current(Z),[2]):[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[t,o]),u=(0,c.useCallback)((function(e){var n=Array.from(e.clipboardData.items).filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()})).filter((function(e){return null!==e}));n.length&&a(n)}),[a]);return{ref:i,handleFiles:a,handlePaste:u}}({onChange:a,onError:function(){}}),B=v.handleFiles,P=v.handlePaste,G=v.ref,I=(0,Z.Z)((0,y.Z)((function(e){null!==e&&B(e)})),2)[1],T=(0,c.useCallback)((function(e){u.current=e,h(e),G(e)}),[h,G]),U=(0,c.useCallback)((function(e,n){var t;null===(t=u.current)||void 0===t||t.setSelectionRange(e,n)}),[]);return{ref:T,value:i,setValue:a,dropZoneHandlers:I,handlePaste:P,combobox:d,caretCoordinates:m,suggestions:p,setSelectionRange:U}}var P=t(57731),G=t(32951),I=t(25019),T=t(4306),U=t(17780),E=t(60379),H=t(37424),W=E.KD.div,D=E.KD.li;function X(e){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:if(!U.l)throw new Error("Expected apolloClient");return[4,U.l.query({query:h,variables:{query:e,limit:5}})];case 1:return[2,n.sent().data.usernameSearch]}}))}))).apply(this,arguments)}function A(e){var n,t=e.onChange,u=e.initialValue,s=e.autoFocus,d=e.placeholder,m=e.onKeyDown,p=e.onBlur,h=e.onFocus,Z=e.userSearch,v=e.showLabel,g=(0,c.useRef)(u),b=(0,f.Z)(t),C=function(e){var n=e.initialValue,t=e.userSearch,o=void 0===t?X:t,i=B({initialValue:n,textTriggers:{"@":function(){var e=(0,r.Z)((function(e){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,o(e)];case 1:return[2,n.sent().map((function(e){return{icon:(0,a.tZ)(P.Z,{alt:e.username,src:e.image,size:16}),value:e.username}}))]}}))}));return function(n){return e.apply(this,arguments)}}()}});return i}({initialValue:u,userSearch:Z}),y=C.setSelectionRange;(0,G.Z)((function(){b.current(C.value)}),[C.value]),(0,c.useEffect)((function(){if(s&&g.current){var e=g.current.length;y(e,e)}}),[s,y]);var w=(0,H.H)();return(0,a.BX)(W,(0,i.Z)((0,o.Z)({css:{position:"relative"}},C.combobox.getComboboxProps()),{children:[(0,a.BX)(E.G7,{css:[E.l0.colWithGap(4)],children:[v?(0,a.tZ)("label",{htmlFor:w("description"),children:(0,a.tZ)(E.xv,{color:"dimmer",variant:"small",children:"Description"})}):null,(0,a.tZ)(E.B,(0,i.Z)((0,o.Z)({},C.combobox.getInputProps({placeholder:d||"Write something about this post",ref:C.ref,onKeyDown:function(e){C.combobox.isOpen||"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.nativeEvent.preventDownshiftDefault=!0),m&&m(e)},onBlur:p,onFocus:h,value:C.value,onChange:function(e){return C.setValue(e.currentTarget.value)},onPaste:C.handlePaste,autoFocus:s})),{css:[E.l0.width("100%"),{minHeight:E.TV.space128,resize:"vertical"}],id:w("description")}))]}),(0,a.tZ)(W,(0,i.Z)((0,o.Z)({},C.combobox.getMenuProps()),{css:[{position:"absolute"},C.caretCoordinates&&{top:C.caretCoordinates.top+C.caretCoordinates.height,left:C.caretCoordinates.left-4}],children:(null===(n=C.suggestions)||void 0===n?void 0:n.length)?(0,a.tZ)(I.Z,{css:{position:"relative",maxWidth:180},children:C.suggestions.map((function(e,n){return(0,a.tZ)(D,(0,i.Z)((0,o.Z)({},C.combobox.getItemProps({item:e,index:n})),{children:(0,a.tZ)(T.Z,{title:e.value,selected:C.combobox.selectedItem===e,highlighted:C.combobox.highlightedIndex===n,icon:e.icon?(0,a.tZ)(E.G7,{children:e.icon}):void 0})}),e.value)}))}):null}))]}))}},54917:function(e,n,t){"use strict";t.d(n,{EQ:function(){return U},Ex:function(){return I},Sh:function(){return T},Yt:function(){return S},g4:function(){return y},l0:function(){return P},nQ:function(){return R},pl:function(){return B},tE:function(){return w},wb:function(){return k}});var r=t(35944),o=t(67294),i=t(59369),l=t(34847),a=t(69346),c=t(33773),u=t(82447),s=t(94718),d=t(57249),m=t(75026),p=t(64080),h=t(53429),f=t(42844),Z=t(64184),v=t(18757),g=t(57704),b=t(88808),C=t(60379);function y(e){var n=e.onClick;return(0,r.tZ)(C.zx,{small:!0,onClick:n,outlined:!0,text:"Reply",colorway:"primary",css:[C.l0.p(4),{background:"transparent",borderColor:"transparent"}]})}function w(e){var n=e.onClick,t=e.repliesCount,o=e.isExpanded,i="".concat(o?"Hide":"View"," ").concat(t," ").concat((0,l.Z)("reply",t));return(0,r.tZ)(C.zx,{small:!0,onClick:n,outlined:!0,text:i,css:[C.l0.color.foregroundDimmer,C.l0.p(4),{background:"transparent",borderColor:"transparent","&> span":{marginRight:2}}],iconRight:(0,r.tZ)(c.Z,{size:12,rotate:o?0:270})})}var R,x=a.K.a;function S(e){var n=e.user;return(0,r.tZ)(s.Z,{username:n.username,children:(0,r.tZ)(u.ZP,{user:n,children:(0,r.tZ)(C.qE,{size:32,username:n.username,src:n.image})})})}function k(e){var n=e.user,t=e.action,o=e.timeCreated;return(0,r.BX)(a.Z,{css:[C.l0.flex.row,C.l0.align.center,C.l0.flex.wrap,{maxWidth:"100%",gap:C.TV.space4}],children:[(0,r.tZ)(s.Z,{username:n.username,children:(0,r.tZ)(u.ZP,{user:n,children:(0,r.tZ)(x,{css:[{color:"inherit"}],children:n.username})})}),t?(0,r.tZ)(C.xv,{color:"dimmer",children:t}):null,(0,r.tZ)(C.EK,{date:o,textColor:"dimmest",textVariant:"small"})]})}function B(e){var n=e.canEdit,t=e.canDelete,l=e.canReport,c=e.canEditSettings,u=e.canHideComment,s=e.canShowComment,d=e.onAction,m=e.className,C=(0,o.useState)(!1),y=C[0],w=C[1],x=[{label:R.CopyLink,icon:(0,r.tZ)(b.Z,{})}];return n&&x.push({label:R.Edit,icon:(0,r.tZ)(p.Z,{})}),l&&x.push({label:R.Report,icon:(0,r.tZ)(h.Z,{})}),c&&x.push({label:R.Settings,icon:(0,r.tZ)(f.Z,{})}),u&&x.push({label:R.Hide,icon:(0,r.tZ)(Z.Z,{})}),s&&x.push({label:R.Show,icon:(0,r.tZ)(v.Z,{})}),t&&x.push({label:R.Delete,isDestructive:!0,icon:(0,r.tZ)(g.Z,{})}),x.length?(0,r.tZ)(a.Z,{className:m,css:[{opacity:y?1:0,".is-touch-device &":{opacity:1}}],children:(0,r.tZ)(i.Z,{label:"Comment Actions",onOpenChange:w,items:x,onItemClick:function(e){d(e.label)}})}):null}!function(e){e.Edit="Edit",e.Delete="Delete",e.Report="Report",e.Settings="Settings",e.Hide="Hide comment",e.Show="Show comment",e.CopyLink="Copy Link"}(R||(R={}));var P=a.K.form,G=o.createContext(void 0);function I(){return o.useContext(G)}var T=G.Provider;function U(e){var n=e.initialValue,t=e.placeholder,i=e.onCancel,l=e.onSubmit,c=e.hideControls,u=e.buttonText,s=void 0===u?"Comment":u,p=e.buttonIcon,h=void 0===p?(0,r.tZ)(m.Z,{}):p,f=e.error,Z=(0,o.useState)(!1),v=Z[0],g=Z[1],b=(0,o.useState)(n),y=b[0],w=b[1],R=I();return(0,r.BX)(P,{css:[C.l0.colWithGap(8)],onSubmit:function(e){e.preventDefault(),l(y)},children:[(0,r.tZ)(d.Z,{onKeyDown:function(e){"Enter"===e.key&&e.metaKey&&l(y)},initialValue:y,placeholder:t,onChange:w,onFocus:function(){return g(!0)},userSearch:R}),f?(0,r.BX)(a.Z,{css:[C.l0.flex.column,C.l0.colWithGap(8)],children:[(0,r.tZ)(C.xv,{css:[C.l0.color.redDefault],multiline:!0,children:f})," ",(0,r.BX)(C.xv,{children:["For more information,"," ",(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/browsing-publishing-repls",target:"_blank",children:"check out the guidelines."})]})]}):null,v||!c?(0,r.BX)(a.Z,{css:[C.l0.rowWithGap(8),C.l0.justify.end],children:[(0,r.tZ)(C.zx,{text:"Cancel",onClick:function(e){g(!1),i&&i(e)}}),(0,r.tZ)(C.zx,{type:"submit",text:s,onClick:function(){},iconLeft:h,colorway:"primary",disabled:!y})]}):null]})}},25398:function(e,n,t){"use strict";t.d(n,{G:function(){return Ue},Z:function(){return Ee}});var r=t(67573),o=t(14251),i=t(52875),l=t(9941),a=t(69779),c=t(35944),u=t(67294),s=t(90317),d=t(60977),m=t(34727),p=t(70655),h=t(90473),f=t(81255),Z=t(11163),v=t(60379),g=t(58057),b=t(67620),C=t(69346),y=t(1144),w=t(93058),R=t(34847),x=t(519);function S(e){var n=e.count;return n>0?(0,c.BX)(C.Z,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,c.tZ)(y.x,{children:n}),(0,c.tZ)(y.x,{color:"dimmer",children:(0,R.Z)("comment",n)})]}):(0,c.tZ)(y.x,{color:"dimmer",multiline:!0,children:"No comments yet"})}function k(e){var n,t=e.repl,r=(0,w.Z)(),a=r.showConfirm,u=r.showError,s=(0,l.Z)((0,b.k2)({onError:function(e){return u(e.message)},onCompleted:function(e){var n,t=e.setReplCommentSettings;"UserError"!==t.__typename?"Repl"===t.__typename&&a("Comments "+((null===(n=t.commentSettings)||void 0===n?void 0:n.enabled)?"enabled":"disabled")):u(t.message)}}),1),d=s[0],m=!(null===t||void 0===t?void 0:t.commentSettings)||t.commentSettings.enabled;return(0,c.BX)(C.Z,{css:[f.l0.rowWithGap(8),f.l0.justify.spaceBetween,f.l0.align.center],children:[m?(0,c.tZ)(S,{count:t.commentCount}):(0,c.tZ)(y.x,{color:"dimmer",multiline:!0,children:"Adding comments has been turned off for this Repl."}),(null===(n=t.currentUserPermissions)||void 0===n?void 0:n.changeCommentSettings)?(0,c.BX)(C.Z,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,c.tZ)(y.x,{children:"Allow comments"}),(0,c.tZ)(x.Z,{isOn:m,onChange:function(){return d({variables:{input:{replId:t.id,enabled:!m}},optimisticResponse:{setReplCommentSettings:(0,i.Z)((0,o.Z)({},t),{commentSettings:{__typename:"ReplCommentSetting",id:-1,enabled:!m}})}})}})]}):null]})}var B=t(57249),P=t(54917),G=t(77365);function I(e){var n,t,l,s=e.replId,d=(0,Z.useRouter)().query,b=(0,h.ex)({ssr:!1,variables:{replId:s,after:d.after?d.after.toString():void 0,count:25}}),C=b.data,y=b.loading,w=b.fetchMore,R=b.refetch,x="Repl"===(null===C||void 0===C?void 0:C.repl.__typename)?C.repl:null,S=!(!x||"User"!==(null===(n=x.owner)||void 0===n?void 0:n.__typename))&&(null===x||void 0===x?void 0:x.owner.isBlockingCurrentUser),I=null===C||void 0===C?void 0:C.currentUser,T=null===x||void 0===x?void 0:x.comments.pageInfo,U=(0,u.useMemo)((function(){return x&&I?function(e){var n,t=e.repl,o=e.currentUser,i="User"===(null===(n=t.owner)||void 0===n?void 0:n.__typename)?(0,r.Z)({},t.owner.username,t.owner):{};return t.comments.items.forEach((function(e){e.user&&(i[e.user.username]=e.user),e.replies&&e.replies.forEach((function(e){(null===e||void 0===e?void 0:e.user)&&(i[e.user.username]=e.user)}))})),t.multiplayers.forEach((function(e){i[e.username]=e})),o&&delete i[o.username],Object.values(i)}({repl:x,currentUser:I}):[]}),[x,I]),E=!(null===x||void 0===x?void 0:x.commentSettings)||x.commentSettings.enabled,H=(l=U,function(){var e=(0,m.Z)((function(e){var n,t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return n=null===e||void 0===e?void 0:e.toLowerCase(),(t=l.filter((function(e){return!n||e.username.toLowerCase().includes(n)}))).length<5&&e?[4,(0,B.S)(e)]:[3,2];case 1:r.sent().forEach((function(e){t.some((function(n){return n.username===e.username}))||t.push(e)})),r.label=2;case 2:return[2,t.slice(0,5)]}}))}));return function(n){return e.apply(this,arguments)}}());return(0,c.BX)(v.G7,{css:[f.l0.colWithGap(16)],children:[y?(0,c.BX)(v.G7,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,c.tZ)(G.Z,{}),(0,c.tZ)(v.xv,{children:"Loading comments..."})]}):null,x&&!S?(0,c.BX)(c.HY,{children:[(0,c.BX)(P.Sh,{value:H,children:[(0,c.tZ)(k,{repl:x}),I&&E?(0,c.tZ)(g.H,{onComment:function(){return R()},replId:x.id,placeholder:x?"Say something about ".concat(x.title):""}):null,null===(t=x.comments)||void 0===t?void 0:t.items.filter((function(e){var n;return Boolean(null===e||void 0===e||null===(n=e.currentUserPermissions)||void 0===n?void 0:n.canHideComment)||!e.isHidden})).map((function(e){return(0,c.tZ)(g.x,{commentsEnabled:E,comment:e,onReply:function(){return R()},onDelete:function(){return R()}},e.id)}))]}),(null===T||void 0===T?void 0:T.nextCursor)&&x?(0,c.tZ)(v.G7,{children:(0,c.tZ)("a",{href:x.url+"?after="+T.nextCursor,onClick:function(e){e.preventDefault(),y||w({variables:{after:T.nextCursor},updateQuery:function(e,n){if(!n||!n.fetchMoreResult)return e;var t="Repl"===e.repl.__typename?e.repl:null;if(!t)return e;var r=n.fetchMoreResult,l="Repl"===r.repl.__typename?r.repl:null;return l?(0,i.Z)((0,o.Z)({},r),{repl:(0,i.Z)((0,o.Z)({},l),{comments:(0,i.Z)((0,o.Z)({},l.comments),{items:(0,a.Z)(t.comments.items).concat((0,a.Z)(l.comments.items))})})}):e}})},children:y?"Loading...":"Load more comments"})}):null]}):null,x&&S?(0,c.BX)(v.G7,{css:[f.l0.colWithGap(24),f.l0.align.center,f.l0.textAlign.center],children:[(0,c.tZ)(v.xv,{variant:"subheadBig",multiline:!0,children:"You\u2019re blocked"}),(0,c.BX)(v.xv,{children:["You can\u2019t follow, comment or see"," ",x.owner&&"User"===x.owner.__typename?x.owner.username:"user","\u2019s Repls on their profile."]})]}):null]})}var T=t(24228),U=t(70917),E=t(98967),H=t(33473),W=t(88046),D=t(80658),X=t(59292),_=t(6600),A=t(4924),V=t(41664),F=t.n(V),M=t(23223),q=t(70570),L=t(82447),$=t(94718),z=t(5804),N=t(2896),O=t(53427),j=t(57263),Q=t(81456),K=t(47024),Y=C.K.a,J={template:{background:f.TV.yellowDimmest,foreground:f.TV.yellowStrongest},app:{background:f.TV.accentPrimaryDimmest,foreground:f.TV.accentPrimaryStrongest}};function ee(e){var n=e.colorway,t=e.text;return(0,c.tZ)(C.Z,{css:[{backgroundColor:n.background},f.l0.borderRadius(8),f.l0.px(4),f.l0.py(2)],children:(0,c.tZ)(C.Z,{css:[{color:n.foreground,fontSize:f.TV.fontSizeSmall}],children:t})})}function ne(e){var n,t,l,a,u,d,m,p=e.repl,h=e.currentUser,Z=p.owner,v=p.lastPublishedAt||(null===(n=p.deployment)||void 0===n||null===(t=n.activeRelease)||void 0===t?void 0:t.timeCreated),g=Z&&Z.id===(null===h||void 0===h?void 0:h.id);return(0,c.BX)(C.Z,{css:[f.l0.colWithGap(32)],children:[(0,c.BX)(C.Z,{css:[f.l0.colWithGap(16)],children:[(0,c.tZ)(C.Z,{css:[f.l0.rowWithGap(8),f.l0.align.start],children:(0,c.BX)(C.Z,{css:[f.l0.colWithGap(8),f.l0.flex.growAndShrink(1)],children:[(0,c.BX)(C.Z,{css:(m={},(0,r.Z)(m,"@media (max-width: ".concat(j.j.tabletMin-1,"px)"),[f.l0.colWithGap(8)]),(0,r.Z)(m,"@media (min-width: ".concat(j.j.tabletMin,"px)"),[f.l0.rowWithGap(8),f.l0.justify.spaceBetween,f.l0.align.center]),m),children:[Z?(0,c.tZ)(c.HY,{children:(0,c.BX)(C.Z,{css:[f.l0.flex.row,f.l0.align.center,f.l0.flex.wrap,{gap:f.TV.space8}],dataCy:"cover-page-user",children:[(0,c.tZ)($.Z,{inline:!0,username:Z.username,children:(0,c.tZ)(L.ZP,{user:Z,children:(0,c.tZ)(Y,{css:[f.l0.color.foregroundDefault],children:(0,c.tZ)(q.Z,{username:Z.username,src:(null===Z||void 0===Z?void 0:Z.image)||null})})})}),!g&&(0,c.tZ)(K.Z,{subtle:!0,small:!0,user:Z}),(0,c.tZ)(y.x,{color:"dimmer",children:"User"===Z.__typename&&Z.followerCount>0?"".concat((0,Q.d)(Z.followerCount)," ").concat((0,R.Z)("follower",Z.followerCount)):null})," "]})}):(0,c.tZ)(q.Z,{small:!0,src:null,username:"[deleted]"}),(null===(l=p.source)||void 0===l||null===(a=l.deployment)||void 0===a||null===(u=a.repl)||void 0===u?void 0:u.owner)?(0,c.BX)(C.Z,{css:[f.l0.rowWithGap(4),f.l0.align.center],children:[(0,c.tZ)(y.x,{color:"dimmest",children:"Made with "}),(0,c.tZ)(F(),(0,i.Z)((0,o.Z)({},(0,W.aq)(p.source.deployment.repl)),{passHref:!0,children:(0,c.BX)(Y,{css:[f.l0.rowWithGap(4),f.l0.align.center,f.l0.color.foregroundDefault],children:[(0,c.tZ)(O.ZP,{size:24,alt:p.source.deployment.repl.templateLabel,iconUrl:p.source.deployment.repl.iconUrl}),(0,c.tZ)(y.x,{children:p.source.deployment.repl.templateLabel})]})}))]}):null]}),(0,c.BX)(C.Z,{css:[f.l0.rowWithGap(8),f.l0.align.center,(0,r.Z)({},"@media (max-width: ".concat(j.j.tabletMin,"px)"),[f.l0.colWithGap(8),f.l0.align.start])],children:[(0,c.BX)(C.Z,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[p.publishedAs===s.O2.Template?(0,c.tZ)(ee,{colorway:J.template,text:"Template"}):null,p.publishedAs===s.O2.App?(0,c.tZ)(ee,{colorway:J.app,text:"App"}):null,v?(0,c.BX)(y.x,{color:"dimmer",variant:"small",children:["Published on"," ",new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}):null]}),(null===(d=p.origin)||void 0===d?void 0:d.owner)?(0,c.BX)(y.x,{color:"dimmer",variant:"small",children:["Forked from"," ",(0,c.tZ)(L.ZP,{user:p.origin.owner,children:(0,c.tZ)("a",{children:p.origin.owner.username})}),"/",(0,c.tZ)(F(),(0,i.Z)((0,o.Z)({},(0,W.aq)(p.origin)),{children:(0,c.tZ)("a",{children:p.origin.title})}))]}):null]})]})}),p.tags.length?(0,c.tZ)(C.Z,{children:(0,c.tZ)(C.Z,{tag:"ul","aria-label":"Tags",css:[{flexWrap:"wrap",margin:"calc(".concat(f.TV.space4," * -1)")},f.l0.flex.row],children:p.tags.map((function(e){var n=(0,z.M6)(e.id);return(0,c.tZ)("li",{css:{listStyle:"none"},children:(0,c.tZ)(N.Z,{text:"#"+e.id,css:[{margin:f.TV.space4}],href:n.href,as:n.as})},e.id)}))})}):null,p.description?(0,c.tZ)(C.Z,{children:(0,c.tZ)(M.Z,{css:{backgroundColor:"transparent"},children:p.description})}):(0,c.tZ)(y.x,{color:"dimmest",children:"This Repl has no description"})]}),(0,c.tZ)(C.Z,{css:[{borderBottom:"1px solid ".concat(f.TV.outlineDefault)}]})]})}var te,re,oe,ie,le=t(65400),ae=t(25958),ce=t(61756),ue=t(5886),se=t(1879),de=t(93160),me=t(71158),pe=t(99843),he=t(75026),fe=t(64080),Ze=t(83074),ve=t(92002),ge=t(23384),be=t(64643),Ce=function(){return(0,c.tZ)(v.jL,{backgroundImage:"/public/images/bounties/banner_rockets.png",gradientStartColor:"rgba(57, 204, 89, 0.2)",gradientEndColor:"rgba(0, 0, 0, 0)",headerText:"",bodyText:(0,c.BX)("span",{children:[(0,c.tZ)("p",{children:"Want top Replit creators to build something for you?"}),(0,c.tZ)("p",{children:"Post a Bounty!"})]}),verticalAlign:"start",buttons:[(0,i.Z)((0,o.Z)({},(0,be.sP)({query:{source:"replViewBanner"}})),{text:"Learn more"})]})},ye=function(){return(0,c.tZ)(v.jL,{backgroundImage:"/public/images/bounties/banner_rockets.png",gradientStartColor:"rgba(57, 204, 89, 0.2)",gradientEndColor:"rgba(0, 0, 0, 0)",headerText:"",bodyText:(0,c.BX)("span",{children:[(0,c.tZ)("p",{children:"Want to earn Cycles for building things?"}),(0,c.tZ)("p",{children:"Become a Bounty Hunter!"})]}),verticalAlign:"start",buttons:[(0,i.Z)((0,o.Z)({},(0,be.sP)({query:{source:"replViewBanner"}})),{text:"Learn more"})]})},we=t(43484),Re=function(){var e=(0,ge.D)({controlName:"flag-bounty-poster-sidebar-banner"});return(0,we.Z)()?null:e?(0,c.tZ)(Ce,{}):(0,c.tZ)(ye,{})},xe=t(48474),Se=function(e){return"@media (max-width: ".concat(e,"px)")},ke={mobile:Se(j.j.tabletMin),small:(re=j.j.tabletMin+1,oe=j.j.tabletMax,"@media (min-width: ".concat(re,"px) and (max-width: ").concat(oe,"px)")),smallAndMobile:Se(j.j.tabletMax),desktop:(te=j.j.tabletMax+1,"@media (min-width: ".concat(te,"px)"))},Be=function(e){return{name:e,gridArea:(0,U.iv)({gridArea:e})}},Pe={header:Be("header"),cta:Be("cta"),main:Be("main"),secondary:Be("secondary"),auxiliary:Be("auxiliary")},Ge={mobile:(0,U.iv)({gridTemplateAreas:'\n      "'.concat(Pe.header.name,'"\n      "').concat(Pe.cta.name,'"\n      "').concat(Pe.main.name,'"\n      "').concat(Pe.auxiliary.name,'"\n      "').concat(Pe.secondary.name,'"\n      ')}),small:(0,U.iv)({gridTemplateColumns:"1fr auto auto 25%",gridTemplateRows:"auto",gridTemplateAreas:'\n      "'.concat(Pe.header.name," ").concat(Pe.header.name," ").concat(Pe.cta.name," ").concat(Pe.cta.name,'"\n      "').concat(Pe.main.name," ").concat(Pe.main.name," ").concat(Pe.main.name," ").concat(Pe.main.name,'"\n      "').concat(Pe.secondary.name," ").concat(Pe.secondary.name," ").concat(Pe.secondary.name," ").concat(Pe.auxiliary.name,'"\n      ')}),desktop:(0,U.iv)({columnGap:f.TV.space32,alignItems:"baseline",gridTemplateColumns:"1fr 25%",gridTemplateRows:"auto auto auto auto 1fr",gridTemplateAreas:'\n      "'.concat(Pe.header.name," ").concat(Pe.cta.name,'"\n      "').concat(Pe.main.name," ").concat(Pe.cta.name,'"\n      "').concat(Pe.main.name," ").concat(Pe.auxiliary.name,'"\n      "').concat(Pe.main.name," ").concat(Pe.auxiliary.name,'"\n      "').concat(Pe.secondary.name," ").concat(Pe.auxiliary.name,'"\n      ')})},Ie=function(e){var n,t=e.withSidebar;return(0,U.iv)([f.l0.px(16),f.l0.py(32),(n={maxWidth:1200,margin:"0 auto",display:"grid",gap:f.TV.space16},(0,r.Z)(n,ke.mobile,Ge.mobile),(0,r.Z)(n,ke.small,[f.l0.px(16),Ge.small]),(0,r.Z)(n,ke.desktop,[f.l0.p(32),t?Ge.desktop:Ge.small]),n)])};function Te(e){var n,t=e.repl,r=e.currentUser,a=function(){if(!r)return h(ie.AuthPrompt),void(0,d.j)(d.U3.SIGNUP_REQUESTED,{from:"cover-page",location:"fork"});g||h(ie.ForkModal)},m=(0,l.Z)(u.useState(null),2),p=m[0],h=m[1],Z=(0,l.Z)((0,X.Z)(),2),v=Z[0],g=Z[1].loading,b=(0,ge.D)({controlName:"flag-repl-analytics"}),y=(0,W.aq)(t),w=t.currentUserPermissions.containerWrite?(0,c.tZ)(ue.Z,{colorway:"primary",iconLeft:(0,c.tZ)(fe.Z,{}),stretch:!0,text:"Edit in workspace",as:y.as,href:y.href}):null,R=t.currentUserPermissions.containerWrite&&b&&t.analyticsUrl?(0,c.tZ)(ue.Z,{iconLeft:(0,c.tZ)(pe.Z,{}),stretch:!0,text:"Analytics",href:t.analyticsUrl}):null,x=t.currentUserPermissions.publish&&t.publishedAs&&t.publishedAs!==s.O2.Template?(0,c.tZ)(ce.ZP,{text:"Add an update",type:"button",iconLeft:(0,c.tZ)(he.Z,{}),onClick:function(){return h(ie.UpdateModal)}}):null,S=t.publishedAs===s.O2.Template?{text:g?"Forking...":"Use Template",icon:(0,c.tZ)(ve.Z,{}),count:t.releasesForkCount}:{text:g?"Forking...":"Fork Repl",icon:(0,c.tZ)(Ze.Z,{}),count:t.publicForkCount},k=(0,c.tZ)(H.Z,(0,i.Z)((0,o.Z)({},S),{onClick:a,icon:(0,c.tZ)(Ze.Z,{}),colorway:null===w?"primary":void 0,onCountClick:function(){return h(ie.ForksModal)}})),B=(0,c.tZ)(se.Z,{maxWidth:768,isOpen:"ForksModal"===p,onRequestClose:function(){return h(null)},children:(0,c.tZ)(le.Z,{replId:t.id})}),P=(0,c.tZ)(se.Z,{isOpen:"UpdateModal"===p,onRequestClose:function(){return h(null)},children:(0,c.tZ)(_.Z,{repl:t,onDone:function(){return h(null)},source:"coverPage"})}),G=(0,c.tZ)(se.Z,{isOpen:p===ie.ForkModal,onRequestClose:function(){return h(null)},children:(0,c.tZ)(D.Z,{onFork:function(e,n,r,o){var i,l;v({originId:t.id,teamId:e,title:n,description:r,isPrivate:o,replReleaseId:(null===(i=t.deployment)||void 0===i||null===(l=i.activeRelease)||void 0===l?void 0:l.id)||void 0,forkToPersonal:!e,trackingData:{forkSource:"replViewHeader",isApp:t.publishedAs===s.O2.App,isTemplate:t.publishedAs===s.O2.Template}})},initialTitle:t.title,initialDescription:null!==(n=t.description)&&void 0!==n?n:"",initialPrivacy:!1,hideModal:function(){return h(null)},teamContext:null===r||void 0===r?void 0:r.username,template:t.publishedAs===s.O2.Template})});return w?(0,c.BX)(c.HY,{children:[(0,c.BX)(C.Z,{css:[f.l0.colWithGap(8)],children:[w,R,x,k]}),B,G,P]}):(0,c.BX)(c.HY,{children:[k,(0,c.tZ)(se.Z,{isOpen:p===ie.AuthPrompt,onRequestClose:function(){h(null)},children:(0,c.tZ)(E.Z,{title:"Sign up or log in to fork this Repl",onSuccess:function(){return a()},source:"fork"})}),B,G]})}function Ue(e){var n=e.title,t=e.withSidebar,r=void 0===t||t;return(0,c.tZ)(C.Z,{css:[f.l0.flex.row,f.l0.flex.growAndShrink(1)],children:(0,c.BX)(C.Z,{css:[f.l0.p(16),f.l0.flex.growAndShrink(1),Ie({withSidebar:r})],children:[(0,c.BX)(C.Z,{css:[Pe.header.gridArea,f.l0.rowWithGap(8),f.l0.align.center],children:[(0,c.tZ)(de.Z,{elevated:!0,css:[f.l0.width(32),f.l0.height(32),f.l0.borderRadius("full")]}),(0,c.tZ)(y.h,{color:"dimmest",variant:"headerBig",level:1,css:[f.l0.flex.growAndShrink(1),{wordBreak:"break-word"}],children:n||"Loading..."})]}),(0,c.tZ)(C.Z,{css:[Pe.cta.gridArea],children:(0,c.tZ)(ce.ZP,{disabled:!0,text:" "})}),(0,c.tZ)(C.Z,{css:[Pe.main.gridArea,f.l0.colWithGap(16)],children:(0,c.tZ)(de.Z,{elevated:!0,css:[f.l0.height(500),f.l0.borderRadius(8)]})}),(0,c.tZ)(C.Z,{css:[Pe.auxiliary.gridArea,f.l0.colWithGap(16)],children:(0,c.BX)(C.Z,{css:f.l0.colWithGap(16),children:[(0,c.tZ)(y.x,{color:"dimmest",variant:"subheadDefault",children:"Loading..."}),(0,c.tZ)(C.Z,{css:f.l0.colWithGap(16),children:(0,a.Z)(Array(3)).map((function(e,n){return(0,c.tZ)(de.Z,{elevated:!0,css:[f.l0.height(100),f.l0.borderRadius(8)]},n.toString())}))})]})}),(0,c.tZ)(C.Z,{css:[Pe.secondary.gridArea]})]})})}function Ee(e){var n=e.repl,t=e.currentUser,r=e.withSidebar,o=void 0===r||r,i=(0,ge.D)({controlName:"flag-tip-repl"});return(0,c.tZ)(C.Z,{css:[f.l0.flex.row,f.l0.flex.growAndShrink(1)],children:(0,c.BX)(C.Z,{css:[f.l0.p(16),f.l0.flex.growAndShrink(1),Ie({withSidebar:o})],children:[(0,c.tZ)(C.Z,{css:[Pe.header.gridArea],children:(0,c.tZ)(ae.Z,{repl:n,iconEditable:n.currentUserPermissions.changeIconUrl,canModerate:(null===t||void 0===t?void 0:t.isModerator)||(null===t||void 0===t?void 0:t.isAdmin)})}),(0,c.tZ)(C.Z,{css:[Pe.cta.gridArea],children:(0,c.tZ)(Te,{repl:n,currentUser:t})}),(0,c.BX)(C.Z,{css:[Pe.main.gridArea,f.l0.colWithGap(16)],children:[(0,c.tZ)(C.Z,{css:[{height:500,"> *":{height:"100%"}}],children:(0,c.tZ)(T.Z,{repl:n,currentUser:t,enableDeeplinks:!0})}),(0,c.tZ)(ne,{repl:n,currentUser:t}),i?(0,c.tZ)(xe.Z,{replId:n.id}):null]}),(0,c.BX)(C.Z,{tag:"aside",css:[Pe.auxiliary.gridArea,f.l0.colWithGap(16)],children:[(0,c.tZ)(C.Z,{children:(0,c.tZ)(Re,{})}),(0,c.tZ)(C.Z,{"data-nosnippet":!0,children:n.relatedRepls.map((function(e){var n=e.name,t=e.repls;return(0,c.BX)(C.Z,{css:[f.l0.colWithGap(16),f.l0.mt(16)],children:[(0,c.tZ)(y.h,{level:3,variant:"subheadDefault",children:n}),(0,c.tZ)(C.Z,{css:f.l0.colWithGap(16),children:t.map((function(e){return e.publishedAs===s.O2.Template?(0,c.tZ)(me.Z,{repl:e},e.id):(0,c.tZ)(A.ZP,{showOwner:!0,repl:e,maxVisibleTags:1},e.id)}))})]},n)}))})]}),(0,c.tZ)(C.Z,{css:[Pe.secondary.gridArea],children:(0,c.tZ)(I,{replId:n.id})})]})})}!function(e){e.ForksModal="ForksModal",e.AuthPrompt="AuthPrompt",e.UpdateModal="UpdateModal",e.ForkModal="ForkModal"}(ie||(ie={}))},23223:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(35944),o=(t(67294),t(92350));function i(e){var n=e.children,t=e.className;return(0,r.tZ)(o.ZP,{background:!1,skipHtml:!0,mentionsLink:!0,unwrapDisallowed:!0,lineBreaks:!0,className:t,children:n})}},65400:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var r=t(14251),o=t(52875),i=t(69779),l=t(35944),a=(t(67294),t(1144)),c=t(69346),u=t(81255),s=t(32692),d=t(31230),m=t(47174),p=t(37887);function h(){var e=(0,s.Z)(["\n  query ReplViewForks($replId: String!, $count: Int!, $after: String) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        publicForkCount\n        releasesForkCount\n        publicForks(count: $count, after: $after) {\n          items {\n            id\n            ...ReplPostReplCardRepl\n          }\n          pageInfo {\n            nextCursor\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}var f={},Z=(0,d.Ps)(h(),m.n);var v=t(6951),g=t(34847),b=t(4924),C=t(60379);function y(e){var n=function(e){var n=(0,r.Z)({},f,e);return p.a(Z,n)}({variables:{replId:e.replId,count:100}}),t=n.data,s=n.fetchMore,d=n.loading,m="Repl"===(null===t||void 0===t?void 0:t.repl.__typename)?t.repl:null,h=m?m.publicForks:null,y=m?m.publicForkCount+m.releasesForkCount:null,w=(null===h||void 0===h?void 0:h.items.length)||0;return(0,l.BX)(c.Z,{css:[u.l0.colWithGap(8)],children:[(0,l.BX)(c.Z,{children:[null!==y?(0,l.BX)(c.Z,{css:[u.l0.colWithGap(12)],children:[(0,l.BX)(c.Z,{css:[u.l0.display.block],children:[(0,l.tZ)(a.x,{variant:"subheadDefault",children:y})," ",(0,l.BX)(a.x,{color:"dimmest",variant:"subheadDefault",children:[(0,g.Z)("forks",y),y!==w?" total":null]})]}),y>0&&w>0?(0,l.tZ)(a.x,{variant:"subheadBig",children:"Public forks"}):null,y>0&&0===w?(0,l.tZ)(a.x,{variant:"subheadBig",children:"No public forks"}):null]}):null,d?(0,l.tZ)(a.x,{color:"dimmest",variant:"subheadDefault",children:"Loading forks..."}):null]}),(0,l.BX)(c.Z,{css:[u.l0.flex.growAndShrink(1)],children:[(0,l.tZ)(c.Z,{css:[u.l0.p(8),{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:u.TV.space16,gridAutoFlow:"dense"}],children:h?h.items.map((function(e){return(0,l.tZ)(C.Tg,{elevated:!0,css:[u.l0.borderRadius(8)],children:(0,l.tZ)(b.ZP,{showOwner:!0,repl:e})},e.id)})):null}),(null===h||void 0===h?void 0:h.pageInfo.nextCursor)?(0,l.tZ)(v.Z,{disabled:d,border:!1,color:"primary",filled:!1,fullWidth:!0,onClick:function(){d||s({variables:{after:h.pageInfo.nextCursor},updateQuery:function(e,n){if(!n||!n.fetchMoreResult)return e;var t="Repl"===e.repl.__typename?e.repl:null;if(!t)return e;var l=n.fetchMoreResult,a="Repl"===l.repl.__typename?l.repl:null;return a?(0,o.Z)((0,r.Z)({},l),{repl:(0,o.Z)((0,r.Z)({},a),{publicForks:(0,o.Z)((0,r.Z)({},a.publicForks),{items:(0,i.Z)(t.publicForks.items).concat((0,i.Z)(a.publicForks.items))})})}):e}})},children:d?"Loading...":"Load more"}):null]})]})}},33607:function(e,n,t){"use strict";t.d(n,{P9:function(){return b},Qp:function(){return R},cT:function(){return S},cq:function(){return G},g:function(){return B},kz:function(){return T},oY:function(){return E},pn:function(){return W},xB:function(){return y}});var r=t(14251),o=t(32692),i=t(31230),l=t(16092),a=t(50319);function c(){var e=(0,o.Z)(["\n  fragment ReplViewCommentsUser on User {\n    id\n    username\n    image\n    fullName\n    isBlockingCurrentUser\n    ...UserLinkUser\n  }\n  ","\n"]);return c=function(){return e},e}function u(){var e=(0,o.Z)(["\n  fragment ReplViewCommentsReplComment on ReplComment {\n    id\n    body\n    repl {\n      id\n      url\n    }\n    timeCreated\n    currentUserPermissions {\n      id\n      edit\n      delete\n      canHideComment\n      report\n    }\n    user {\n      id\n      ...ReplViewCommentsUser\n    }\n    post {\n      id\n      title\n      canPin\n      canHide\n      canChangeBoard\n      canReport\n      hasReported\n    }\n    isHidden\n  }\n  ","\n"]);return u=function(){return e},e}function s(){var e=(0,o.Z)(["\n  fragment ReplViewCommentsReplCommentThread on ReplComment {\n    id\n    ...ReplViewCommentsReplComment\n    replies {\n      id\n      ...ReplViewCommentsReplComment\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function d(){var e=(0,o.Z)(["\n  mutation ReplViewCreateReplComment($input: CreateReplCommentInput!) {\n    createReplComment(input: $input) {\n      ... on ReplComment {\n        id\n        ...ReplViewCommentsReplComment\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function m(){var e=(0,o.Z)(["\n  mutation ReplViewCreateReplCommentReply(\n    $input: CreateReplCommentReplyInput!\n  ) {\n    createReplCommentReply(input: $input) {\n      ... on ReplComment {\n        id\n        ...ReplViewCommentsReplComment\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function p(){var e=(0,o.Z)(["\n  mutation ReplViewCommentsUpdateReplComment($input: UpdateReplCommentInput!) {\n    updateReplComment(input: $input) {\n      ... on ReplComment {\n        id\n        body\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}function h(){var e=(0,o.Z)(["\n  mutation ReplViewCommentsDeleteReplComment($id: Int!) {\n    deleteReplComment(id: $id) {\n      ... on ReplComment {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return h=function(){return e},e}function f(){var e=(0,o.Z)(["\n  mutation ReplViewCommentsUpdateReplPost($input: UpdatePostInput!) {\n    updatePost(input: $input) {\n      post {\n        id\n        title\n      }\n    }\n  }\n"]);return f=function(){return e},e}function Z(){var e=(0,o.Z)(["\n  mutation ToggleHiddenComment($commentId: Int!, $isHidden: Boolean!) {\n    toggleHiddenComment(commentId: $commentId, isHidden: $isHidden) {\n      ... on ReplComment {\n        id\n        ...ReplViewCommentsReplComment\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function v(){var e=(0,o.Z)(["\n  mutation ReportReplComment($commentId: Int!, $reason: String!) {\n    reportReplComment(replCommentId: $commentId, reason: $reason) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on BoardReport {\n        id\n      }\n    }\n  }\n"]);return v=function(){return e},e}var g={},b=(0,i.Ps)(c(),l._),C=(0,i.Ps)(u(),b),y=(0,i.Ps)(s(),C),w=(0,i.Ps)(d(),C);function R(e){var n=(0,r.Z)({},g,e);return a.D(w,n)}var x=(0,i.Ps)(m(),C);function S(e){var n=(0,r.Z)({},g,e);return a.D(x,n)}var k=(0,i.Ps)(p());function B(e){var n=(0,r.Z)({},g,e);return a.D(k,n)}var P=(0,i.Ps)(h());function G(e){var n=(0,r.Z)({},g,e);return a.D(P,n)}var I=(0,i.Ps)(f());function T(e){var n=(0,r.Z)({},g,e);return a.D(I,n)}var U=(0,i.Ps)(Z(),C);function E(e){var n=(0,r.Z)({},g,e);return a.D(U,n)}var H=(0,i.Ps)(v());function W(e){var n=(0,r.Z)({},g,e);return a.D(H,n)}},58057:function(e,n,t){"use strict";t.d(n,{x:function(){return j},H:function(){return L}});var r=t(14251),o=t(52875),i=t(9941),l=t(35944),a=t(87603),c=t.n(a),u=t(67294),s=t(33607),d=t(88075),m=t(93058),p=t(23223),h=t(74591),f=t(57249),Z=t(1144),v=t(69346),g=t(81255);function b(e){var n=e.title;return(0,l.BX)(v.Z,{css:[g.l0.rowWithGap(8),g.l0.py(8)],children:[(0,l.tZ)(Z.x,{variant:"subheadBig",multiline:!0,css:[{wordBreak:"break-all",flexShrink:1}],children:n}),(0,l.tZ)(Z.x,{color:"dimmer",css:[g.l0.borderRadius(16),g.l0.p(4),{border:"1px solid "+g.TV.outlineDimmer,height:"fit-content"}],children:"Post"})]})}var C=t(37424),y=t(32692),w=t(31230),R=t(37887),x=t(50319);function S(){var e=(0,y.Z)(["\n  fragment ReplPostSettingsPost on Post {\n    id\n    isAnnouncement\n    isPinned\n    isLocked\n    isHidden\n    board {\n      id\n      name\n    }\n  }\n"]);return S=function(){return e},e}function k(){var e=(0,y.Z)(["\n  query ReplPostSettings($postId: Int!) {\n    boards {\n      id\n      name\n    }\n    post(id: $postId) {\n      id\n      canPin\n      canHide\n      canChangeBoard\n      board {\n        id\n        name\n      }\n      ...ReplPostSettingsPost\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function B(){var e=(0,y.Z)(["\n  mutation ReplPostSettingsUpdatePost($input: UpdatePostInput!) {\n    updatePost(input: $input) {\n      post {\n        id\n        ...ReplPostSettingsPost\n      }\n    }\n  }\n  ","\n"]);return B=function(){return e},e}var P={},G=(0,w.Ps)(S()),I=(0,w.Ps)(k(),G);var T=(0,w.Ps)(B(),G);var U=t(60379),E=U.KD.label;function H(e){var n=e.children;return(0,l.tZ)(U.G7,{css:[U.l0.rowWithGap(8),U.l0.align.center],children:n})}function W(e){var n,t=e.postId,o=function(e){p.loading||h&&m({variables:{input:(0,r.Z)({id:h.id},e)}})},a=(0,C.H)(),c=function(e){var n=(0,r.Z)({},P,e);return R.a(I,n)}({variables:{postId:t}}),u=c.data,s=c.loading,d=(0,i.Z)(function(e){var n=(0,r.Z)({},P,e);return x.D(T,n)}(),2),m=d[0],p=d[1];if(s)return null;var h="Post"===(null===u||void 0===u||null===(n=u.post)||void 0===n?void 0:n.__typename)?u.post:null,f=null===u||void 0===u?void 0:u.boards;if(!h||!f)return(0,l.tZ)(U.xv,{children:"Something went wrong"});var Z={isPinned:a("isPinned"),isHidden:a("isHidden"),boardId:a("boardId")};return(0,l.BX)(U.G7,{css:[U.l0.colWithGap(24)],children:[(0,l.tZ)(U.h4,{level:1,variant:"headerDefault",children:"Post settings"}),(0,l.BX)(U.G7,{css:[U.l0.colWithGap(8)],children:[(0,l.BX)(H,{children:[(0,l.tZ)(U.XZ,{id:Z.isPinned,checked:Boolean(h.isPinned),onChange:function(){return o({isPinned:!h.isPinned})}}),(0,l.tZ)(E,{htmlFor:Z.isPinned,children:"Pin post to Talk feed"})]}),h.canHide?(0,l.BX)(H,{children:[(0,l.tZ)(U.XZ,{id:Z.isHidden,checked:Boolean(h.isHidden),onChange:function(e){return o({isHidden:e.target.checked})}}),(0,l.tZ)(E,{htmlFor:Z.isHidden,children:"Hide post from listing"})]}):null]}),h.canChangeBoard?(0,l.BX)(H,{children:[(0,l.tZ)(U.Ph,{id:Z.boardId,placeholder:"Select a board",items:f.map((function(e){return{value:e,title:e.name}})),initialSelectedItem:h.board?{value:h.board,title:h.board.name}:void 0,onChange:function(e){return o({boardId:e.value.id})}}),(0,l.tZ)(E,{htmlFor:Z.isHidden,children:"Change board (requires reload)"})]}):null]})}var D=t(11163),X=t(54917),_=t(60977),A=t(64184),V=t(53429),F=U.KD.form;function M(e){var n=e.commentId,t=e.onDone,r=(0,u.useState)(""),o=r[0],a=r[1],c=(0,m.Z)(),d=c.showConfirm,p=c.showError,h=(0,i.Z)((0,s.pn)({variables:{commentId:n,reason:o},onCompleted:function(e){"BoardReport"===e.reportReplComment.__typename?(d("Comment reported"),t()):p(e.reportReplComment.message)}}),2),f=h[0],Z=h[1].loading;return(0,l.BX)(U.G7,{css:[U.l0.colWithGap(24)],children:[(0,l.tZ)(U.h4,{level:2,variant:"subheadBig",children:"Report Comment"}),(0,l.BX)(F,{onSubmit:function(e){e.preventDefault(),o?f():p("Please specify a reason to report this comment.")},css:[U.l0.colWithGap(32)],children:[(0,l.tZ)(U.G7,{css:[U.l0.colWithGap(8)],children:(0,l.tZ)(U.B,{placeholder:"Why do you want to report this comment?",value:o,onChange:function(e){return a(e.currentTarget.value)},css:[U.l0.minHeight(64),U.l0.maxHeight(128),{resize:"vertical"}]})}),(0,l.BX)(U.G7,{css:[U.l0.rowWithGap(16),U.l0.justify.end],children:[(0,l.tZ)(U.G7,{children:(0,l.tZ)(U.zx,{type:"button",text:"Cancel",onClick:function(){return t()}})}),(0,l.tZ)(U.G7,{children:(0,l.tZ)(U.zx,{disabled:Z,text:Z?"Reporting":"Report Comment",type:"submit",colorway:"negative",iconLeft:(0,l.tZ)(V.Z,{})})})]})]})]})}function q(e){var n=e.initialValue,t=e.commentId,r=e.onReply,o=e.onCancel,a=(0,u.useState)(null),c=a[0],d=a[1],m=(0,i.Z)((0,s.cT)({onCompleted:function(e){var n="ReplComment"===e.createReplCommentReply.__typename?e.createReplCommentReply:null;if(n)return(0,_.j)(_.U3.COMMENT_MADE,{source:"spotlight"}),void r(n);var t="UserError"===e.createReplCommentReply.__typename||"UnauthorizedError"===e.createReplCommentReply.__typename?e.createReplCommentReply.message:null;t&&d(t)}}),2),p=m[0],h=m[1];return(0,l.tZ)(X.EQ,{error:c,initialValue:n,onCancel:o,onSubmit:function(e){h.loading||p({variables:{input:{body:e,replCommentId:t}}})}})}function L(e){var n=e.replId,t=e.placeholder,r=e.onComment,o=e.autoFocus,a=void 0!==o&&o,c=e.onCancel,m=void 0===c?function(){}:c,p=(0,u.useState)(!1),h=p[0],f=p[1],Z=(0,u.useState)(null),v=Z[0],g=Z[1],b=(0,i.Z)((0,s.Qp)({onCompleted:function(e){var n="ReplComment"===e.createReplComment.__typename?e.createReplComment:null;if(n)return(0,_.j)(_.U3.COMMENT_MADE,{source:"spotlight"}),f(!0),void r(n);var t="UserError"===e.createReplComment.__typename||"UnauthorizedError"===e.createReplComment.__typename?e.createReplComment.message:null;t&&g(t)}}),2),C=b[0],y=b[1];return h?(0,l.tZ)(U.E_,{icon:(0,l.tZ)(d.Z,{}),closable:!0,closeAction:function(){m(),f(!1)},colorway:"positive",text:"Comment added"}):(0,l.tZ)(X.EQ,{autoFocus:a,initialValue:"",placeholder:t,hideControls:!0,error:v,onCancel:function(){m(),g(null)},onSubmit:function(e){y.loading||C({variables:{input:{body:e,replId:n}}})}})}var $={background:g.TV.backgroundDefault,boxShadow:"0 0 0 ".concat(g.TV.space8," ").concat(g.TV.backgroundDefault,",0 0 0 10px ").concat(g.TV.accentPrimaryDimmest),borderRadius:g.TV.borderRadius4,scrollPaddingTop:"100px"};function z(e){var n=e.comment,t=e.onReply,a=e.onDelete,f=e.replyToId,Z=e.toggleRepliesButton,v=e.commentsEnabled,g=(0,D.useRouter)().query,b=g.c,C=Number(b),y=(0,m.Z)().showNotice,w=(0,i.Z)((0,s.g)(),2),R=w[0],x=w[1],S=(0,i.Z)((0,s.cq)({variables:{id:n.id},onCompleted:function(){W(null),a(n)}}),2),k=S[0],B=S[1],P=(0,i.Z)((0,s.oY)({variables:{commentId:n.id,isHidden:!n.isHidden}}),1)[0],G=(0,u.useState)(!1),I=G[0],T=G[1],E=(0,u.useState)(null),H=E[0],W=E[1],_=H===X.nQ.Edit,V=n.user;(0,u.useEffect)((function(){var e;H===X.nQ.Hide||H===X.nQ.Show?P():H===X.nQ.CopyLink&&(null===n||void 0===n||null===(e=n.repl)||void 0===e?void 0:e.url)&&(window.navigator.clipboard.writeText(window.location.protocol+"//"+window.location.host+n.repl.url+"?c="+n.id).then((function(){y((0,l.tZ)(U.xv,{children:"Copied!"}))})),W(null))}),[H,P]);var F=(0,u.useRef)(null),L=C===n.id;if((0,u.useEffect)((function(){(null===F||void 0===F?void 0:F.current)&&L&&F.current.scrollIntoView({behavior:"smooth"})}),[L,g.c]),!V)return null;var z=n.currentUserPermissions,N=Boolean(z);return(0,l.BX)(U.G7,{css:[U.l0.rowWithGap(8),{":hover .actions":{opacity:1},position:"relative"},L?$:null],children:[(0,l.tZ)(U.G7,{innerRef:F,css:[{position:"absolute",top:"-100px",left:"0"}]}),(0,l.tZ)(X.Yt,{user:V}),(0,l.BX)(U.G7,{css:[U.l0.flex.growAndShrink(1),U.l0.colWithGap(4)],children:[(0,l.BX)(U.G7,{css:[U.l0.align.center,U.l0.rowWithGap(16)],children:[(0,l.tZ)(X.wb,{user:V,timeCreated:n.timeCreated}),n.isHidden?(0,l.tZ)(U.u,{tooltip:"This comment is hidden",children:(0,l.tZ)(A.Z,{size:12,"alt-text":"This comment is hidden"})}):null]}),_?(0,l.tZ)(X.EQ,{buttonText:"Save",buttonIcon:(0,l.tZ)(d.Z,{}),initialValue:n.body,onSubmit:function(e){x.loading||(R({variables:{input:{id:n.id,body:e}},optimisticResponse:{updateReplComment:(0,o.Z)((0,r.Z)({},n),{body:e})}}),W(null))},onCancel:function(){return W(null)}}):(0,l.tZ)("div",{className:c().dynamic([["4174ac2fa2210099",[n.isHidden?"var(--foreground-dimmest)":"default"]]])+" comment-container",children:(0,l.tZ)(p.Z,{children:n.body})}),I?(0,l.tZ)(U.G7,{css:[U.l0.pt(12)],children:(0,l.tZ)(q,{initialValue:"@".concat(V.username," "),commentId:f,onReply:function(e){t(e),T(!1)},onCancel:function(){return T(!1)}})}):(0,l.BX)(U.G7,{css:[U.l0.rowWithGap(8),{marginLeft:-4}],children:[N&&!n.isHidden&&v?(0,l.tZ)(X.g4,{onClick:function(){return T(!0)}}):null,Z]})]}),_?null:(0,l.tZ)(U.G7,{css:[I&&{visibility:"hidden"}],children:(0,l.tZ)(X.pl,{className:"actions",canEdit:Boolean(null===z||void 0===z?void 0:z.edit),canReport:Boolean(null===z||void 0===z?void 0:z.report),canEditSettings:!1,canDelete:Boolean(null===z||void 0===z?void 0:z.delete),onAction:W,canHideComment:Boolean(null===z||void 0===z?void 0:z.canHideComment)&&!n.isHidden,canShowComment:Boolean(null===z||void 0===z?void 0:z.canHideComment)&&Boolean(n.isHidden)})}),(0,l.tZ)(U.u_,{isOpen:H===X.nQ.Delete,onRequestClose:function(){return W(null)},children:(0,l.tZ)(h.Z,{delete:function(){B.loading||k({variables:{id:n.id}})},entityType:"comment",hideModal:function(){return W(null)}})}),(0,l.tZ)(U.u_,{isOpen:H===X.nQ.Report,onRequestClose:function(){return W(null)},children:(0,l.tZ)(M,{commentId:n.id,onDone:function(){return W(null)}})}),(0,l.tZ)(c(),{id:"4174ac2fa2210099",dynamic:[n.isHidden?"var(--foreground-dimmest)":"default"],children:".comment-container.__jsx-style-dynamic-selector .rendered-markdown{color:".concat(n.isHidden?"var(--foreground-dimmest)":"default","}")})]})}function N(e){var n=e.initialTitle,t=e.initialBody,r=e.onSubmit,o=e.onCancel,i=(0,u.useState)(n),a=i[0],c=i[1],s=(0,u.useState)(t),m=s[0],p=s[1],h=(0,X.Ex)(),Z=(0,C.H)();return(0,l.BX)(X.l0,{css:[U.l0.colWithGap(8),U.l0.mt(8)],onSubmit:function(e){e.preventDefault(),r({title:a,body:m})},children:[(0,l.BX)(U.G7,{css:[U.l0.colWithGap(16)],children:[(0,l.BX)(U.G7,{css:[U.l0.colWithGap(4)],children:[(0,l.tZ)("label",{htmlFor:Z("title"),children:(0,l.tZ)(U.xv,{color:"dimmer",variant:"small",children:"Title"})}),(0,l.tZ)(U.II,{value:a,placeholder:"Give your post a title",onChange:function(e){return c(e.currentTarget.value)},id:Z("title")})]}),(0,l.tZ)(f.Z,{onKeyDown:function(e){"Enter"===e.key&&e.metaKey&&r({title:a,body:m})},initialValue:m,onChange:p,userSearch:h,autoFocus:!1,showLabel:!0})]}),(0,l.BX)(U.G7,{css:[U.l0.rowWithGap(8),U.l0.justify.end],children:[(0,l.tZ)(U.zx,{text:"Cancel",onClick:o}),(0,l.tZ)(U.zx,{type:"submit",iconLeft:(0,l.tZ)(d.Z,{}),text:"Save",onClick:function(){},colorway:"primary",disabled:t===m&&n===a})]})]})}function O(e){var n=e.post,t=e.comment,a=e.onReply,d=e.onDelete,f=e.replyToId,Z=e.toggleRepliesButton,v=e.commentsEnabled,g=(0,D.useRouter)().query.c,C=Number(g),y=(0,m.Z)(),w=y.showError,R=y.showNotice,x=(0,i.Z)((0,s.kz)({onError:function(e){return w(e.message)}}),2),S=x[0],k=x[1],B=(0,i.Z)((0,s.g)(),2),P=B[0],G=B[1],I=(0,i.Z)((0,s.cq)({variables:{id:t.id},onCompleted:function(){O(null),d(t)}}),2),T=I[0],E=I[1],H=(0,i.Z)((0,s.oY)({variables:{commentId:t.id,isHidden:!t.isHidden}}),1)[0],_=(0,u.useState)(!1),V=_[0],F=_[1],L=(0,u.useState)(null),z=L[0],O=L[1],j=z===X.nQ.Edit,Q=t.user;(0,u.useEffect)((function(){var e;z===X.nQ.Hide||z===X.nQ.Show?H():z===X.nQ.CopyLink&&(null===t||void 0===t||null===(e=t.repl)||void 0===e?void 0:e.url)&&(window.navigator.clipboard.writeText(window.location.protocol+"//"+window.location.host+t.repl.url+"?c="+t.id).then((function(){R((0,l.tZ)(U.xv,{children:"Copied!"}))})),O(null))}),[z,H]);var K=(0,u.useRef)(null),Y=C===t.id;if((0,u.useEffect)((function(){(null===K||void 0===K?void 0:K.current)&&Y&&(null===K||void 0===K||K.current.scrollIntoView({behavior:"smooth"}))}),[Y]),!Q)return null;var J=t.currentUserPermissions,ee=Boolean(J),ne=Boolean(n.canPin||n.canChangeBoard||n.canHide);return(0,l.BX)(U.G7,{css:[U.l0.rowWithGap(8),{":hover .actions":{opacity:1},position:"relative"},Y?$:null],children:[(0,l.tZ)(U.G7,{innerRef:K,css:[{position:"absolute",top:"-100px",left:"0"}]}),(0,l.tZ)(X.Yt,{user:Q}),(0,l.BX)(U.G7,{css:[U.l0.flex.growAndShrink(1),U.l0.colWithGap(4),{"& .rendered-markdown":{backgroundColor:"transparent"}}],children:[(0,l.BX)(U.G7,{css:[U.l0.align.center,U.l0.rowWithGap(16)],children:[(0,l.tZ)(X.wb,{user:Q,timeCreated:t.timeCreated,action:"shared an update"}),t.isHidden?(0,l.tZ)(U.u,{tooltip:"This comment is hidden",children:(0,l.tZ)(A.Z,{size:12,"alt-text":"This comment is hidden"})}):null]}),j?(0,l.tZ)(N,{initialTitle:n.title||"",initialBody:t.body,onSubmit:function(e){var i=e.title,l=e.body;G.loading||k.loading||(S({variables:{input:{id:n.id,title:i}},optimisticResponse:{updatePost:{post:(0,o.Z)((0,r.Z)({},n),{title:i})}}}),P({variables:{input:{id:t.id,body:l}},optimisticResponse:{updateReplComment:(0,o.Z)((0,r.Z)({},t),{body:l})}}),O(null))},onCancel:function(){return O(null)}}):(0,l.BX)(l.HY,{children:[n.title?(0,l.tZ)(U.G7,{children:(0,l.tZ)(b,{title:n.title})}):null,(0,l.tZ)("div",{className:c().dynamic([["4174ac2fa2210099",[t.isHidden?"var(--foreground-dimmest)":"default"]]])+" comment-container",children:(0,l.tZ)(p.Z,{children:t.body})})]}),V?(0,l.tZ)(U.G7,{css:[U.l0.pt(12)],children:(0,l.tZ)(q,{initialValue:"@".concat(Q.username," "),commentId:f,onReply:function(e){a(e),F(!1)},onCancel:function(){return F(!1)}})}):(0,l.BX)(U.G7,{css:[U.l0.rowWithGap(2),{marginLeft:-4}],children:[ee&&v?(0,l.tZ)(X.g4,{onClick:function(){return F(!0)}}):null,Z]})]}),j?null:(0,l.tZ)(U.G7,{css:[V&&{visibility:"hidden"}],children:(0,l.tZ)(X.pl,{className:"actions",canEdit:Boolean(null===J||void 0===J?void 0:J.edit),canReport:n.canReport,canEditSettings:ne,canDelete:Boolean(null===J||void 0===J?void 0:J.delete),onAction:O,canHideComment:Boolean(null===J||void 0===J?void 0:J.canHideComment)&&!t.isHidden,canShowComment:Boolean(null===J||void 0===J?void 0:J.canHideComment)&&Boolean(t.isHidden)})}),(0,l.tZ)(U.u_,{isOpen:z===X.nQ.Delete,onRequestClose:function(){return O(null)},children:(0,l.tZ)(h.Z,{delete:function(){E.loading||T({variables:{id:t.id}})},entityType:"post",hideModal:function(){return O(null)}})}),(0,l.tZ)(U.u_,{isOpen:z===X.nQ.Report,onRequestClose:function(){return O(null)},children:(0,l.tZ)(M,{commentId:t.id,onDone:function(){return O(null)}})}),(0,l.tZ)(U.u_,{isOpen:z===X.nQ.Settings,onRequestClose:function(){return O(null)},children:(0,l.tZ)(W,{postId:n.id})}),(0,l.tZ)(c(),{id:"4174ac2fa2210099",dynamic:[t.isHidden?"var(--foreground-dimmest)":"default"],children:".comment-container.__jsx-style-dynamic-selector .rendered-markdown{color:".concat(t.isHidden?"var(--foreground-dimmest)":"default","}")})]})}function j(e){var n,t=e.comment,r=e.onReply,o=e.onDelete,i=e.commentsEnabled,a=(0,D.useRouter)().query.c,c=Number(a),s=t.replies,d=(0,u.useState)(s.some((function(e){return e.id===c}))),m=d[0],p=d[1],h=s.length,f=h?(0,l.tZ)(X.tE,{onClick:function(){return p((function(e){return!e}))},repliesCount:h,isExpanded:m}):null,Z=(null===(n=t.post)||void 0===n?void 0:n.title)?t.post:null;return Z?(0,l.BX)(U.Tg,{elevated:!0,css:[U.l0.colWithGap(32),U.l0.p(16),U.l0.borderRadius(8)],children:[(0,l.tZ)(O,{replyToId:t.id,post:Z,comment:t,toggleRepliesButton:f,onReply:function(e){p(!0),r(e)},onDelete:o,commentsEnabled:i}),m?(0,l.tZ)(U.G7,{css:[U.l0.colWithGap(32),U.l0.pl(32)],children:s.filter((function(e){var n;return Boolean(null===(n=e.currentUserPermissions)||void 0===n?void 0:n.canHideComment)||!e.isHidden})).map((function(e){return(0,l.tZ)(z,{commentsEnabled:i,comment:e,onReply:r,onDelete:o,replyToId:t.id},e.id)}))}):null]}):(0,l.BX)(U.G7,{css:[U.l0.colWithGap(32)],children:[(0,l.tZ)(z,{commentsEnabled:i,replyToId:t.id,comment:t,toggleRepliesButton:f,onReply:function(e){p(!0),r(e)},onDelete:o}),m&&0!==h?(0,l.tZ)(U.G7,{css:[U.l0.colWithGap(32),U.l0.pl(32)],children:s.filter((function(e){var n;return Boolean(null===e||void 0===e||null===(n=e.currentUserPermissions)||void 0===n?void 0:n.canHideComment)||!e.isHidden})).map((function(e){return(0,l.tZ)(z,{commentsEnabled:i,comment:e,onReply:r,onDelete:o,replyToId:t.id},e.id)}))}):null]})}},90473:function(e,n,t){"use strict";t.d(n,{ex:function(){return m}});var r=t(14251),o=t(32692),i=t(31230),l=t(33607),a=t(67620),c=t(37887);function u(){var e=(0,o.Z)(["\n  query ReplViewComments($replId: String!, $count: Int = 100, $after: String) {\n    currentUser {\n      id\n      username\n    }\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        title\n        url\n        owner {\n          ... on User {\n            id\n            ...ReplViewCommentsUser\n          }\n          ... on Team {\n            id\n          }\n        }\n        multiplayers {\n          id\n          ...ReplViewCommentsUser\n        }\n        currentUserPermissions {\n          changeCommentSettings\n        }\n        commentSettings {\n          id\n          enabled\n        }\n        comments(count: $count, after: $after) {\n          items {\n            id\n            ...ReplViewCommentsReplCommentThread\n          }\n          pageInfo {\n            nextCursor\n          }\n        }\n        ...ReplViewReplCommentsHeaderRepl\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return u=function(){return e},e}var s={},d=(0,i.Ps)(u(),l.P9,l.xB,a.d4);function m(e){var n=(0,r.Z)({},s,e);return c.a(d,n)}},67620:function(e,n,t){"use strict";t.d(n,{d4:function(){return s},k2:function(){return m}});var r=t(14251),o=t(32692),i=t(31230),l=t(50319);function a(){var e=(0,o.Z)(["\n  fragment ReplViewReplCommentsHeaderRepl on Repl {\n    id\n    commentCount\n    currentUserPermissions {\n      changeCommentSettings\n    }\n    commentSettings {\n      id\n      enabled\n    }\n  }\n"]);return a=function(){return e},e}function c(){var e=(0,o.Z)(["\n  mutation ReplViewReplCommentsHeaderSetReplCommentSettings(\n    $input: SetReplCommentSettingsInput!\n  ) {\n    setReplCommentSettings(input: $input) {\n      ... on Repl {\n        id\n        ...ReplViewReplCommentsHeaderRepl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var u={},s=(0,i.Ps)(a()),d=(0,i.Ps)(c(),s);function m(e){var n=(0,r.Z)({},u,e);return l.D(d,n)}},25958:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(14251),o=t(52875),i=t(9941),l=t(35944),a=(t(67294),t(48293)),c=t(81255),u=t(1144),s=t(69346),d=t(88961),m=t(2885),p=t(49483),h=t(53427),f=t(87251),Z=t(7657);function v(e){var n=e.repl,t=e.iconEditable,v=e.canModerate,g=(0,i.Z)((0,a.cu)(),1)[0],b=(0,p.W)((function(e){return g({variables:{input:{id:n.id,iconUrl:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,o.Z)((0,r.Z)({},n),{iconUrl:e})}}})}));return(0,l.BX)(s.Z,{css:[c.l0.colWithGap(8)],children:[(0,l.BX)(s.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center],children:[t?null:(0,l.tZ)(h.ZP,{iconUrl:n.iconUrl,alt:"",size:32}),t?(0,l.tZ)(p.Z,{size:32,value:b.previewUrl||n.iconUrl,onUpload:function(e){return b.uploadImage(e,Z.N.ReplIcon)},isUploading:Boolean(b.previewUrl)}):null,(0,l.tZ)(u.h,{variant:"headerBig",level:1,css:[c.l0.flex.growAndShrink(1),{wordBreak:"break-all"}],children:n.title}),(0,l.tZ)(m.Z,{repl:n,canModerate:v,source:"coverPage"})]}),b.error?(0,l.tZ)(s.Z,{css:[c.l0.align.start],children:(0,l.tZ)(f.Z,{icon:(0,l.tZ)(d.Z,{}),colorway:"negative",text:b.error,closable:!0,closeAction:b.clearError})}):null]})}},16496:function(e){!function(){var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],t="undefined"!==typeof window,r=t&&null!=window.mozInnerScreenX;function o(e,o,i){if(!t)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var l=i&&i.debug||!1;if(l){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var c=document.createElement("div");c.id="input-textarea-caret-position-mirror-div",document.body.appendChild(c);var u=c.style,s=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,d="INPUT"===e.nodeName;u.whiteSpace="pre-wrap",d||(u.wordWrap="break-word"),u.position="absolute",l||(u.visibility="hidden"),n.forEach((function(e){d&&"lineHeight"===e?u.lineHeight=s.height:u[e]=s[e]})),r?e.scrollHeight>parseInt(s.height)&&(u.overflowY="scroll"):u.overflow="hidden",c.textContent=e.value.substring(0,o),d&&(c.textContent=c.textContent.replace(/\s/g,"\xa0"));var m=document.createElement("span");m.textContent=e.value.substring(o)||".",c.appendChild(m);var p={top:m.offsetTop+parseInt(s.borderTopWidth),left:m.offsetLeft+parseInt(s.borderLeftWidth),height:parseInt(s.lineHeight)};return l?m.style.backgroundColor="#aaa":document.body.removeChild(c),p}"undefined"!=typeof e.exports?e.exports=o:t&&(window.getCaretCoordinates=o)}()}}]);
//# sourceMappingURL=5398-4bbe553777858538.js.map