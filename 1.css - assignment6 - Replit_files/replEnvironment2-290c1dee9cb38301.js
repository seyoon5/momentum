(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9460,4718,4924,7669,6808],{60937:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replEnvironment2",function(){return t(54223)}])},67669:function(e,n,t){"use strict";var r,i,o,a,l,c,s,u,d,p,f,h,v,m,g,Z,y,b,w,x,R,T,C,k,E,S,I,P,_,D,U,B,A,G,N,O,M,L,X,F,W,z,j,H,V,Y,q,$,K,Q,J,ee,ne,te,re,ie,oe,ae,le,ce,se,ue,de,pe,fe,he,ve,me,ge,Ze,ye,be,we,xe,Re,Te,Ce,ke,Ee,Se,Ie,Pe,_e,De,Ue,Be,Ae,Ge,Ne,Oe,Me,Le,Xe,Fe,We,ze,je,He,Ve,Ye,qe,$e,Ke,Qe,Je,en,nn;t.d(n,{HN:function(){return ge},Ys:function(){return ye},ac:function(){return k},bN:function(){return ee},cK:function(){return Ze},dD:function(){return P},l6:function(){return J},oj:function(){return T},pO:function(){return C}}),function(e){e.Hacker_1mo="hacker_1mo",e.Hacker_12mo="hacker_12mo",e.HackerGhStudentDevPack_1mo="hacker_gh_student_dev_pack_1mo",e.HackerVoucher_1mo="hacker_voucher_1mo",e.TeamsProBetaPerSeat_1moUsd="teams_pro_beta_per_seat_1mo_usd"}(r||(r={})),function(e){e.Coupon="coupon",e.PromotionCode="promotion_code"}(i||(i={})),function(e){e.Bounty="bounty",e.BountyApplications="bountyApplications",e.CustomThemes="customThemes",e.Escalated="escalated",e.Repl="repl",e.ReplComment="replComment",e.ReportedUser="reportedUser"}(o||(o={})),function(e){e.Boost_2cpu_2ram="boost_2cpu_2ram",e.Boost_4cpu_4ram="boost_4cpu_4ram",e.Boost_8cpu_8ram="boost_8cpu_8ram",e.Boost_16cpu_16ram="boost_16cpu_16ram",e.Off="off"}(a||(a={})),function(e){e.Boost_2cpu_2ram="boost_2cpu_2ram",e.Boost_4cpu_4ram="boost_4cpu_4ram",e.Boost_8cpu_8ram="boost_8cpu_8ram",e.Boost_16cpu_16ram="boost_16cpu_16ram",e.Off="off"}(l||(l={})),function(e){e.ApplicationDateAscending="applicationDateAscending",e.ApplicationDateDescending="applicationDateDescending",e.CompletedBountiesDescending="completedBountiesDescending",e.Recommended="recommended"}(c||(c={})),function(e){e.Accepted="accepted",e.All="all",e.NotReviewed="notReviewed",e.Rejected="rejected",e.RejectedAndNotReviewed="rejectedAndNotReviewed"}(s||(s={})),function(e){e.Discord="discord",e.Email="email",e.Other="other"}(u||(u={})),function(e){e.ApplicationCountAscending="applicationCountAscending",e.CreationDateDescending="creationDateDescending",e.CyclesDescending="cyclesDescending",e.Recommended="recommended"}(d||(d={})),function(e){e.All="all",e.Closed="closed",e.InProgress="inProgress",e.Open="open"}(p||(p={})),function(e){e.Annual="annual",e.Monthly="monthly"}(f||(f={})),function(e){e.TeamsPro="teams_pro"}(h||(h={})),function(e){e.Adjustments="adjustments",e.Credits="credits",e.Earnings="earnings",e.Marketplace="marketplace",e.PowerUps="power_ups",e.Uncategorized="uncategorized"}(v||(v={})),function(e){e.AlwaysOn="always_on",e.Boost="boost",e.Bounty="bounty",e.CashedOut="cashed_out",e.Earned="earned",e.FeeCharged="fee_charged",e.Ghostwriter="ghostwriter",e.Gpu="gpu",e.Granted="granted",e.PrivateRepl="private_repl",e.Purchased="purchased",e.Redeemed="redeemed",e.Retired="retired",e.Tips="tips",e.Transferred="transferred",e.Uncategorized="uncategorized"}(m||(m={})),function(e){e.Explanation="explanation",e.Generation="generation",e.Search="search",e.Transformation="transformation"}(g||(g={})),function(e){e.No="no",e.Yes="yes"}(Z||(Z={})),function(e){e.General="general",e.LegacyCycles="legacy_cycles",e.LegacyHacker="legacy_hacker"}(y||(y={})),function(e){e.Draft="draft",e.InReview="in_review",e.Published="published"}(b||(b={})),function(e){e.Dark="dark",e.Light="light"}(w||(w={})),function(e){e.Deleted="deleted",e.Hidden="hidden",e.Public="public"}(x||(x={})),function(e){e.Ghostwriter="ghostwriter"}(R||(R={})),function(e){e.Repl="repl",e.Theme="theme"}(T||(T={})),function(e){e.OneTime="oneTime",e.RecurringChargeNow="recurringChargeNow"}(C||(C={})),function(e){e.Bounties="bounties",e.CyclesPage="cyclesPage",e.NewReplModal="newReplModal",e.PatronConfirmation="patronConfirmation",e.PaymentFailure="paymentFailure",e.Profile="profile",e.TipSurface="tipSurface",e.Workspace="workspace"}(k||(k={})),function(e){e.CashedOut="cashed_out",e.Earned="earned",e.FeeCharged="fee_charged",e.Granted="granted",e.Purchased="purchased",e.Redeemed="redeemed",e.Retired="retired",e.Transferred="transferred"}(E||(E={})),function(e){e.Accepted="ACCEPTED",e.Denied="DENIED",e.Pending="PENDING"}(S||(S={})),function(e){e.Dir="dir",e.File="file"}(I||(I={})),function(e){e.Deploy="deploy",e.Fail="fail",e.Rollback="rollback"}(P||(P={})),function(e){e.Building="building",e.Failed="failed",e.Pending="pending",e.Success="success"}(_||(_={})),function(e){e.Failed="failed",e.Passed="passed"}(D||(D={})),function(e){e.IntentBusiness="INTENT_BUSINESS",e.IntentPersonal="INTENT_PERSONAL",e.IntentStudent="INTENT_STUDENT",e.IntentTeacher="INTENT_TEACHER"}(U||(U={})),function(e){e.Bounties="bounties",e.ExternalTransactions="external_transactions",e.ReplOrder="repl_order",e.Tips="tips",e.UserOrder="user_order"}(B||(B={})),function(e){e.WebPostgres="web_postgres"}(A||(A={})),function(e){e.Create="CREATE",e.Delete="DELETE",e.Update="UPDATE"}(G||(G={})),function(e){e.BannedBoardUsers="bannedBoardUsers",e.BoardReports="boardReports",e.Boards="boards",e.BountyApplications="bountyApplications",e.Comments="comments",e.CustomThemes="customThemes",e.Notifications="notifications",e.Posts="posts",e.Repls="repls",e.Warning="warning"}(N||(N={})),function(e){e.Newest="newest",e.Oldest="oldest"}(O||(O={})),function(e){e.Create="create",e.Delete="delete",e.Update="update"}(M||(M={})),function(e){e.BannedBoardUsers="BannedBoardUsers",e.BoardReports="BoardReports",e.Comments="Comments",e.Posts="Posts",e.Warning="Warning"}(L||(L={})),function(e){e.Newest="NEWEST",e.Oldest="OLDEST"}(X||(X={})),function(e){e.Annotation="annotation",e.Board="board",e.Classroom="classroom",e.Multiplayer="multiplayer",e.Team="team"}(F||(F={})),function(e){e.ReplitDark="replitDark",e.ReplitLight="replitLight",e.ReplitSpooky="replitSpooky"}(W||(W={})),function(e){e.OnboardingExperienceHigh="ONBOARDING_EXPERIENCE_HIGH",e.OnboardingExperienceLow="ONBOARDING_EXPERIENCE_LOW",e.OnboardingExperienceMedium="ONBOARDING_EXPERIENCE_MEDIUM",e.OnboardingExperienceNone="ONBOARDING_EXPERIENCE_NONE"}(z||(z={})),function(e){e.Disabled="disabled",e.Enabled="enabled"}(j||(j={})),function(e){e.Activate="ACTIVATE",e.Activated="ACTIVATED",e.ActivateAlreadyTrialed="ACTIVATE_ALREADY_TRIALED",e.TrialExpired="TRIAL_EXPIRED",e.TrialOngoing="TRIAL_ONGOING"}(H||(H={})),function(e){e.ActivateExistingOrder="ACTIVATE_EXISTING_ORDER",e.IncludedInExistingOrder="INCLUDED_IN_EXISTING_ORDER",e.IncludedInSubscription="INCLUDED_IN_SUBSCRIPTION",e.NeedsCycles="NEEDS_CYCLES",e.NeedsSubscription="NEEDS_SUBSCRIPTION",e.SpendCycles="SPEND_CYCLES"}(V||(V={})),function(e){e.Cycles="CYCLES",e.Invalid="INVALID",e.Subscription="SUBSCRIPTION"}(Y||(Y={})),function(e){e.Cycles="CYCLES",e.Subscription="SUBSCRIPTION"}(q||(q={})),function(e){e.Ghostwriter="ghostwriter"}($||($={})),function(e){e.Https="HTTPS",e.Wss="WSS"}(K||(K={})),function(e){e.App="App",e.RegularRepl="RegularRepl",e.Template="Template"}(Q||(Q={})),function(e){e.LatestActivity="latestActivity",e.StatusDescending="statusDescending"}(J||(J={})),function(e){e.AlwaysOn="alwaysOn",e.Asleep="asleep",e.Awake="awake",e.Limited="limited"}(ee||(ee={})),function(e){e.Allowed="Allowed",e.Disallowed="Disallowed",e.SubscriptionRequired="SubscriptionRequired"}(ne||(ne={})),function(e){e.Allowed="Allowed",e.Disallowed="Disallowed",e.SubscriptionRequired="SubscriptionRequired"}(te||(te={})),function(e){e.Asia="ASIA",e.Na="NA"}(re||(re={})),function(e){e.DeletedFile="DeletedFile",e.ModfiedFile="ModfiedFile",e.NewFile="NewFile"}(ie||(ie={})),function(e){e.AllTeams="ALL_TEAMS",e.AlwaysOn="ALWAYS_ON",e.Boosts="BOOSTS",e.Default="DEFAULT",e.Multiplayer="MULTIPLAYER",e.Team="TEAM",e.Virtual="VIRTUAL"}(oe||(oe={})),function(e){e.Hot="Hot",e.New="New",e.Top="Top"}(ae||(ae={})),function(e){e.AlwaysOn="alwaysOn",e.AlwaysOnLegacy="alwaysOn_legacy",e.Boost_2cpu_2ram="boost_2cpu_2ram",e.Boost_4cpu_4ram="boost_4cpu_4ram",e.Boost_8cpu_8ram="boost_8cpu_8ram",e.Boost_16cpu_16ram="boost_16cpu_16ram",e.BoostLegacy="boost_legacy",e.GpuK80="gpu_k80",e.Unknown="unknown"}(le||(le={})),function(e){e.AlwaysOn="alwaysOn",e.Boost="boost",e.Gpu="gpu"}(ce||(ce={})),function(e){e.Compatibility="compatibility",e.Exact="exact",e.Match="match",e.Regex="regex"}(se||(se={})),function(e){e.Failed="FAILED",e.None="NONE",e.Passed="PASSED"}(ue||(ue={})),function(e){e.ReplFile="repl_file",e.ReplImage="repl_image"}(de||(de={})),function(e){e.Auth="Auth",e.CreateTemplate="CreateTemplate",e.EditTemplate="EditTemplate",e.PublishTemplate="PublishTemplate",e.Resubmit="Resubmit",e.ReviewSubmission="ReviewSubmission",e.Share="Share",e.ShareUpgrade="ShareUpgrade",e.Submit="Submit",e.UpdateModelSolution="UpdateModelSolution"}(pe||(pe={})),function(e){e.Private="PRIVATE",e.Public="PUBLIC"}(fe||(fe={})),function(e){e.Accepted="accepted",e.NotReviewed="notReviewed",e.Rejected="rejected"}(he||(he={})),function(e){e.Boosted_1="boosted_1",e.Boosted_2="boosted_2",e.Boosted_3="boosted_3",e.Boosted_4="boosted_4",e.Standard="standard"}(ve||(ve={})),function(e){e.Docs="Docs",e.Files="Files",e.Posts="Posts",e.Repls="Repls",e.Tags="Tags",e.Templates="Templates",e.Users="Users"}(me||(me={})),function(e){e.RecentlyModified="RecentlyModified",e.Relevant="Relevant"}(ge||(ge={})),function(e){e.MostComments="MostComments",e.MostVotes="MostVotes",e.RecentlyCreated="RecentlyCreated",e.Relevant="Relevant",e.Trending="Trending"}(Ze||(Ze={})),function(e){e.MostForks="MostForks",e.MostLikes="MostLikes",e.MostRuns="MostRuns",e.RecentlyCreated="RecentlyCreated",e.RecentlyModified="RecentlyModified",e.Relevant="Relevant",e.Trending="Trending"}(ye||(ye={})),function(e){e.All="All",e.Community="Community",e.Official="Official"}(be||(be={})),function(e){e.ChargeAutomatically="charge_automatically",e.SendInvoice="send_invoice"}(we||(we={})),function(e){e.Canceled="canceled",e.Chargeable="chargeable",e.Consumed="consumed",e.Errored="errored",e.Failed="failed",e.New="new",e.Pending="pending",e.Validated="validated",e.VerificationFailed="verificationFailed",e.Verified="verified"}(xe||(xe={})),function(e){e.Active="active",e.Canceled="canceled",e.Incomplete="incomplete",e.IncompleteExpired="incompleteExpired",e.PastDue="pastDue",e.Trialing="trialing",e.Unpaid="unpaid"}(Re||(Re={})),function(e){e.Admin="ADMIN",e.Owner="OWNER"}(Te||(Te={})),function(e){e.Month="MONTH",e.Year="YEAR"}(Ce||(Ce={})),function(e){e.Education="EDUCATION",e.Pro="PRO"}(ke||(ke={})),function(e){e.Admin="admin",e.BillingAdmin="billing_admin",e.Member="member",e.Owner="owner"}(Ee||(Ee={})),function(e){e.Education="EDUCATION",e.Pro="PRO"}(Se||(Se={})),function(e){e.Forks="forks",e.Recent="recent",e.SearchRelevancy="searchRelevancy"}(Ie||(Ie={})),function(e){e.All="all",e.NotPromoted="notPromoted",e.Promoted="promoted"}(Pe||(Pe={})),function(e){e.All="all",e.Codealong="codealong",e.Highlighted="highlighted",e.Remix="remix"}(_e||(_e={})),function(e){e.Apple="APPLE",e.Facebook="FACEBOOK",e.Github="GITHUB",e.Google="GOOGLE"}(De||(De={})),function(e){e.Ghostwriter="ghostwriter",e.Private="private"}(Ue||(Ue={})),function(e){e.Never="never",e.WhenOnline="when_online",e.WhereOnline="where_online"}(Be||(Be={})),function(e){e.Admin="ADMIN",e.Business="BUSINESS",e.ContentCreator="CONTENT_CREATOR",e.DaysOfCode="DAYS_OF_CODE",e.Detective="DETECTIVE",e.Developer="DEVELOPER",e.Explorer="EXPLORER",e.Featured="FEATURED",e.GithubClassroomUser="GITHUB_CLASSROOM_USER",e.IntentBusiness="INTENT_BUSINESS",e.IntentPersonal="INTENT_PERSONAL",e.IntentStudent="INTENT_STUDENT",e.IntentTeacher="INTENT_TEACHER",e.LanguageJammer="LANGUAGE_JAMMER",e.Moderator="MODERATOR",e.OnboardingExperienceHigh="ONBOARDING_EXPERIENCE_HIGH",e.OnboardingExperienceLow="ONBOARDING_EXPERIENCE_LOW",e.OnboardingExperienceMedium="ONBOARDING_EXPERIENCE_MEDIUM",e.OnboardingExperienceNone="ONBOARDING_EXPERIENCE_NONE",e.Patron="PATRON",e.PrivacyLimitedAccess="PRIVACY_LIMITED_ACCESS",e.ReplitIdentityTesting="REPLIT_IDENTITY_TESTING",e.ReplitRep="REPLIT_REP",e.ReplitRepEdu="REPLIT_REP_EDU",e.ReplitStaff="REPLIT_STAFF",e.SelfLearner="SELF_LEARNER",e.Student="STUDENT",e.TaskProgramMember="TASK_PROGRAM_MEMBER",e.Teacher="TEACHER",e.TeacherRejected="TEACHER_REJECTED",e.TeacherUnverified="TEACHER_UNVERIFIED",e.TemplateDeveloper="TEMPLATE_DEVELOPER",e.Tester="TESTER"}(Ae||(Ae={})),function(e){e.Discord="discord",e.Facebook="facebook",e.Github="github",e.Linkedin="linkedin",e.Twitch="twitch",e.Twitter="twitter",e.Website="website",e.Youtube="youtube"}(Ge||(Ge={})),function(e){e.Low="low"}(Ne||(Ne={})),function(e){e.Email="EMAIL",e.Username="USERNAME"}(Oe||(Oe={})),function(e){e.Reject="reject",e.Verify="verify"}(Me||(Me={})),function(e){e.Closed="closed",e.InProgress="in_progress",e.Open="open"}(Le||(Le={})),function(e){e.Accepted="accepted",e.NotReviewed="not_reviewed",e.Rejected="rejected"}(Xe||(Xe={})),function(e){e.ApplicationReviewed="application_reviewed",e.ApplicationSubmitted="application_submitted",e.BountyAbandoned="bounty_abandoned",e.BountyCanceled="bounty_canceled",e.BountyStateChange="bounty_state_change",e.BountyUpdated="bounty_updated",e.WorkReviewed="work_reviewed",e.WorkSubmitted="work_submitted"}(Fe||(Fe={})),function(e){e.Bank="bank",e.Card="card",e.Check="check"}(We||(We={})),function(e){e.BannedBoardUsers="BannedBoardUsers",e.BoardReports="BoardReports",e.Boards="Boards",e.BountyApplications="BountyApplications",e.Comments="Comments",e.CustomThemes="CustomThemes",e.Notifications="Notifications",e.Posts="Posts",e.Repls="Repls",e.Warning="Warning"}(ze||(ze={})),function(e){e.Create="create",e.Delete="delete",e.Update="update"}(je||(je={})),function(e){e.R="r",e.Rw="rw"}(He||(He={})),function(e){e.R="r",e.Rw="rw"}(Ve||(Ve={})),function(e){e.Eyes="eyes",e.Fire="fire",e.Heart="heart",e.OpenMouth="open_mouth",e.Rocket="rocket"}(Ye||(Ye={})),function(e){e.ReplFile="repl_file",e.ReplImage="repl_image"}(qe||(qe={})),function(e){e.Admin="admin",e.Owner="owner",e.Team="team"}($e||($e={})),function(e){e.Active="active",e.Canceled="canceled",e.Incomplete="incomplete",e.IncompleteExpired="incomplete_expired",e.PastDue="past_due",e.Trialing="trialing",e.Unpaid="unpaid"}(Ke||(Ke={})),function(e){e.CreateReaction="create_reaction",e.PublishPost="publish_post",e.PublishTemplate="publish_template",e.UpdatePost="update_post",e.UpdateTemplate="update_template",e.UserComment="user_comment",e.UserFollowing="user_following"}(Qe||(Qe={})),function(e){e.Discord="discord",e.Facebook="facebook",e.Github="github",e.Linkedin="linkedin",e.Twitch="twitch",e.Twitter="twitter",e.Website="website",e.Youtube="youtube"}(Je||(Je={})),function(e){e.Bank="bank",e.Card="card",e.Check="check"}(en||(en={})),function(e){e.Active="active",e.Canceled="canceled",e.Incomplete="incomplete",e.IncompleteExpired="incomplete_expired",e.PastDue="past_due",e.Trialing="trialing",e.Unpaid="unpaid"}(nn||(nn={}))},98967:function(e,n,t){"use strict";var r=t(14251),i=t(52875),o=t(9941),a=t(35944),l=t(87603),c=t.n(l),s=t(67294),u=t(19526),d=t(37504),p=t(60379),f=t(7889),h=t(89735),v=t(6625);n.Z=function(e){var n=e.title,t=void 0===n?"Sign up":n,l=e.description,m=void 0===l?"Code, create, and learn together on Replit":l,g=e.onSuccess,Z=void 0===g?function(){}:g,y=e.onFailure,b=void 0===y?function(){}:y,w=e.onAnonSuccess,x=void 0===w?function(){}:w,R=e.showLoginFirst,T=void 0!==R&&R,C=e.isTeacher,k=void 0!==C&&C,E=e.toggleTeacher,S=void 0===E?function(){}:E,I=e.allowAnon,P=void 0!==I&&I,_=e.showForm,D=void 0===_||_,U=e.showSuccess,B=void 0!==U&&U,A=e.source,G=(0,o.Z)(s.useState(T),2),N=G[0],O=G[1],M=(0,v.Z)();return(0,a.BX)("div",{"data-cy":"auth-modal",className:"jsx-17a5f6998e0a3cdd auth-modal",children:[(0,a.BX)(u.gC,{align:"center",spacing:2,children:[(0,a.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-title",children:t}),(0,a.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-description",children:m}),(0,a.tZ)(f.Z,{path:"/public/animations/success.json",css:[p.l0.position.absolute,p.l0.left(0),p.l0.top(0),p.l0.right(0)],show:B})," ",D?(0,a.tZ)(d.Z,{onChangeAuth:function(){M.current&&O(!N)},isTeacher:k,isLogin:N,onSubmit:function(e){if("error"in e)b(e);else if("user"in e&&e.user){N&&!e.social||e.social&&!e.newUser||(0,h.j)(e.user.id.toString()),Z((0,i.Z)((0,r.Z)({},e),{isLogin:N}))}},toggleTeacher:S,source:A}):null,P?(0,a.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-anon",children:(0,a.tZ)("a",{onClick:x,role:"button",tabIndex:0,onKeyDown:x,className:"jsx-17a5f6998e0a3cdd",children:"continue as Anonymous"})}):null]}),(0,a.tZ)(c(),{id:"17a5f6998e0a3cdd",children:".auth-modal.jsx-17a5f6998e0a3cdd{max-width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:var(--space-32)var(--space-16)}.title-container.jsx-17a5f6998e0a3cdd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:var(--space-16)}.auth-modal-title.jsx-17a5f6998e0a3cdd{text-align:center;color:var(--foreground-default);font-size:var(--font-size-header-big);font-weight:var(--font-weight-medium)}.auth-modal-description.jsx-17a5f6998e0a3cdd{text-align:center;color:var(--foreground-dimmer);font-size:var(--font-size-subhead-default)}.auth-modal-anon.jsx-17a5f6998e0a3cdd{margin-top:14px;font-size:14px}.auth-modal-anon.jsx-17a5f6998e0a3cdd a.jsx-17a5f6998e0a3cdd{color:var(--accent-primary-default);text-decoration:none;cursor:pointer}"})]})}},57731:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(35944),i=t(87603),o=t.n(i),a=(t(67294),t(94184)),l=t.n(a),c=t(62913);function s(e){var n=e.className,t=e.src,i=e.alt,a=e.size,s=e.title;return(0,r.BX)("div",{className:o().dynamic([["381115a7727c7cb3",[a,a]]])+" "+(l()("avatar",n)||""),children:[(0,r.tZ)(c.Z,{title:s,width:a,height:a,objectFit:"cover",layout:"responsive",alt:i,src:t}),(0,r.tZ)(o(),{id:"381115a7727c7cb3",dynamic:[a,a],children:"div.__jsx-style-dynamic-selector{-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;overflow:hidden;width:".concat(a,"px;height:").concat(a,"px}")})]})}},7243:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(35944),i=(t(67294),t(69346)),o=t(81255);function a(e){var n=e.gap,t=e.inset,a=e.children,l=e.className;return(0,r.tZ)(i.Z,{className:l,css:[{overflowX:"auto",overflowY:"hidden","::-webkit-scrollbar":[o.l0.display.none]}],children:(0,r.tZ)(i.Z,{css:[o.l0.px(t),o.l0.rowWithGap(n),{width:"fit-content"}],children:a})})}},42699:function(e,n,t){"use strict";t.d(n,{l:function(){return o},x:function(){return i}});var r=t(60977),i=function(e){(0,r.j)(r.U3.COURSE_ACTION,e)},o=function(e){(0,r.j)(r.U3.LESSON_ACTION,e)}},21767:function(e,n,t){"use strict";t.d(n,{Y:function(){return o}});var r=t(32692);function i(){var e=(0,r.Z)(["\n  fragment ReplLinkRepl on Repl {\n    id\n    url\n    nextPagePathname\n  }\n"]);return i=function(){return e},e}var o=(0,t(31230).Ps)(i())},35923:function(e,n,t){"use strict";t.d(n,{V:function(){return v},Q:function(){return w}});var r=t(48732),i=t(14251),o=t(53144),a=t(75815),l=.5*(Math.sqrt(3)-1),c=(3-Math.sqrt(3))/6,s=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),u=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random;(0,a.Z)(this,e);var t="function"===typeof n?n:p(n);this.p=d(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}return e.prototype.noise2D=function(e,n){var t,r,i=this.permMod12,o=this.perm,a=0,u=0,d=0,p=(e+n)*l,f=Math.floor(e+p),h=Math.floor(n+p),v=(f+h)*c,m=e-(f-v),g=n-(h-v);m>g?(t=1,r=0):(t=0,r=1);var Z=m-t+c,y=g-r+c,b=m-1+2*c,w=g-1+2*c,x=255&f,R=255&h,T=.5-m*m-g*g;if(T>=0){var C=3*i[x+o[R]];a=(T*=T)*T*(s[C]*m+s[C+1]*g)}var k=.5-Z*Z-y*y;if(k>=0){var E=3*i[x+t+o[R+r]];u=(k*=k)*k*(s[E]*Z+s[E+1]*y)}var S=.5-b*b-w*w;if(S>=0){var I=3*i[x+1+o[R+1]];d=(S*=S)*S*(s[I]*b+s[I+1]*w)}return 70*(a+u+d)},e}();function d(e){for(var n=new Uint8Array(256),t=0;t<256;t++)n[t]=t;for(var r=0;r<255;r++){var i=r+~~(e()*(256-r)),o=n[r];n[r]=n[i],n[i]=o}return n}function p(e){var n=0,t=0,r=0,i=1,o=function(){var e=4022871197;return function(n){n=n.toString();for(var t=0;t<n.length;t++){var r=.02519603282416938*(e+=n.charCodeAt(t));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();return n=o(" "),t=o(" "),r=o(" "),(n-=o(e))<0&&(n+=1),(t-=o(e))<0&&(t+=1),(r-=o(e))<0&&(r+=1),function(){var e=2091639*n+2.3283064365386963e-10*i;return n=t,t=r,r=e-(i=0|e)}}var f=new u;var h=t(25108);function v(e){var n=!1,t=0,r=0,i=null,o=function(l){if(n){var c=l-t;r+=c,t=l,i=window.requestAnimationFrame(o),e({elapsedTime:r,deltaTime:c,stop:a})}},a=function(){n&&(n=!1,i&&window.cancelAnimationFrame(i))};return{start:function(){n||(r=0,t=performance.now(),n=!0,i=window.requestAnimationFrame(o))},stop:a}}var m=function(){return(0,o.hd)(600,1200)},g=function(){return(0,o.hd)(1,3)},Z=function(){return{width:(0,o.hd)(5,20),height:(0,o.hd)(5,20)}},y=function(){return(0,o.vF)()};function b(e){return Array.isArray(e)?(0,o.DQ)(e):(0,r.Z)(e,Function)?e():e}function w(){var e=!1,n=null,t=null,r=[],a=null,l={},c=function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=function(){var e=i.value;if(l[e])return"continue";var n=new Image;n.src=e,n.onerror=function(){h.error('Failed to load particle image "'.concat(e,'"'))},l[e]=n},a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)o()}catch(c){t=!0,r=c}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}};return{getIsInstalled:function(){return e},addParticles:function(e){for(var n=e.x,t=e.y,s=e.numParticles,u=void 0===s?150:s,d=e.spread,p=void 0===d?60:d,f=e.heading,h=void 0===f?90:f,v=e.airDrag,w=void 0===v?.9:v,x=e.color,R=void 0===x?y:x,T=e.gravity,C=void 0===T?800:T,k=e.velocity,E=void 0===k?m:k,S=e.size,I=void 0===S?Z:S,P=e.lifetime,_=void 0===P?g:P,D=e.flip,U=void 0===D||D,B=e.image,A=void 0===B?void 0:B,G=b(p),N=b(h),O=(0,o.Id)(G),M=(0,o.Id)(-N),L=b(u),X=0;X<L;X++){var F=M+(0,o.hd)(-O/2,O/2),W=b(E),z=b(I),j=z.width,H=z.height,V=b(_),Y=b(R),q=b(w),$=b(n),K=b(t),Q=b(A);"string"===typeof Q&&(l[Q]||c([Q]),Q=l[Q]),r.push((0,i.Z)({seed:(0,o.hd)(0,1e5),x:$,y:K,gravity:C,airDrag:q,scaleX:1,scaleY:1,rotation:(0,o.hd)(0,(0,o.Id)(360)),velocityX:Math.cos(F)*W,velocityY:Math.sin(F)*W,angularVelocity:(0,o.hd)((0,o.Id)(-400),(0,o.Id)(400)),color:Y,alpha:1,width:j,height:H,flip:U,lifetime:V,lifetimeRemaining:V},Q?{image:Q,type:"image"}:{type:(0,o.DQ)(["rectangle","ellipse"])}))}null===a||void 0===a||a.start()},clearParticles:function(){r=[]},uninstall:function(){e&&(n&&document.body.contains(n)&&document.body.removeChild(n),a&&a.stop(),n=null,t=null,e=!1,l={})},install:function(){e||(n=function(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex="999999",e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight,e.id="replit-particles-simulation",e.setAttribute("role","image"),e.ariaHidden="true",e}(),(t=n.getContext("2d"))&&(document.body.appendChild(n),a=v((function(e){var i=e.deltaTime,a=e.stop;if(n&&t){var l=t,c=window.scrollX,s=window.scrollY;n.width!==document.documentElement.clientWidth&&(n.width=document.documentElement.clientWidth),n.height!==document.documentElement.clientHeight&&(n.height=document.documentElement.clientHeight),t.clearRect(0,0,n.width,n.height),r.map((function(e){return function(e){var n=e.particle,t=e.deltaTime;n.velocityY+=n.gravity*t/1e3,n.x+=n.velocityX*t/1e3,n.y+=n.velocityY*t/1e3,n.rotation+=n.angularVelocity*t/1e3,n.velocityX*=n.airDrag,n.velocityY*=n.airDrag,n.flip&&(n.scaleY=2*(0,o.WE)(n.lifetimeRemaining,.5));var r=(0,o.NC)(n.velocityX,n.velocityY),i=(0,o.$G)(n.velocityX,n.velocityY),a=r+.05*f.noise2D(n.seed,n.lifetimeRemaining);n.velocityX=Math.cos(a)*i,n.velocityY=Math.sin(a)*i,n.lifetimeRemaining-=t/1e3,n.lifetimeRemaining<=0?n.alpha=0:n.alpha=1-(n.lifetime-n.lifetimeRemaining)/n.lifetime}({particle:e,deltaTime:i})})),r.map((function(e){return function(e){var n=e.particle,t=e.ctx,r=e.scrollX,i=e.scrollY,o=n.width*n.scaleX,a=n.height*n.scaleY,l=n.x-r,c=n.y-i;t.save(),t.translate(l,c),t.rotate(n.rotation),t.globalAlpha=n.alpha,"image"===n.type?t.drawImage(n.image,-o/2,-a/2,o,a):"rectangle"===n.type?(t.fillStyle=n.color,t.fillRect(-o/2,-a/2,o,a)):"ellipse"===n.type&&(t.fillStyle=n.color,t.beginPath(),t.ellipse(0,0,o/2,a/2,0,0,2*Math.PI),t.fill()),t.restore()}({particle:e,ctx:l,scrollX:c,scrollY:s})})),0===(r=r.filter((function(e){return e.lifetimeRemaining>0}))).length&&a()}})),e=!0))},preloadImages:c,unloadImages:function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;delete l[a]}}catch(c){t=!0,r=c}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}}}},46808:function(e,n,t){"use strict";t.d(n,{$:function(){return h},s:function(){return r}});var r,i=t(14251),o=t(44747),a=t(9941),l=t(67294),c=t(53144),s=t(35923),u=t(91131),d=t(42895),p=(0,s.Q)(),f=(0,u.cn)(p);function h(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preloadImages,n=(0,a.Z)((0,u.KO)(f),1),t=n[0],r=(0,d.T)();l.useEffect((function(){return t.install(),function(){t.uninstall()}}),[t]),l.useEffect((function(){e&&t.preloadImages(e)}),[t,e]);var s=function(e){r||t.addParticles(e)},p=function(e){var n=e.element,t=(0,o.Z)(e,["element"]);if(!r){var a=(0,c.tj)(n),l=a.x,u=a.y;s((0,i.Z)({x:l,y:u},t))}},h=function(e){r||t.addParticles((0,i.Z)({numParticles:125,spread:360,velocity:function(){return(0,c.hd)(400,900)},size:function(){return{width:(0,c.hd)(5,15),height:(0,c.hd)(5,25)}}},e))},v=function(e){var n=e.element,t=(0,o.Z)(e,["element"]);if(!r){var a=(0,c.tj)(n),l=a.x,s=a.y;h((0,i.Z)({x:l,y:s},t))}},m=function(e){var n=e.direction,a=(0,o.Z)(e,["direction"]);r||t.addParticles((0,i.Z)({heading:n},a))},g=function(e){var n=e.element,a=e.direction,l=(0,o.Z)(e,["element","direction"]);if(!r){var s=(0,c.tj)(n),u=s.x,d=s.y;t.addParticles((0,i.Z)({x:u,y:d,numParticles:100,velocity:function(){return(0,c.hd)(400,1500)},spread:60,size:function(){return{width:(0,c.hd)(5,15),height:(0,c.hd)(5,25)}},heading:a},l))}};return{fireBurst:s,fireBurstFrom:p,fireCircularBurst:h,fireCircularBurstFrom:v,fireDirectionalBurst:m,fireDirectionalBurstFrom:g}}!function(e){e[e.East=0]="East",e[e.NorthEast=45]="NorthEast",e[e.North=90]="North",e[e.NorthWest=135]="NorthWest",e[e.West=180]="West",e[e.SouthWest=225]="SouthWest",e[e.South=270]="South"}(r||(r={}))},53144:function(e,n,t){"use strict";t.d(n,{$G:function(){return p},DQ:function(){return l},Id:function(){return u},NC:function(){return d},WE:function(){return h},hd:function(){return c},tj:function(){return o},vF:function(){return s}});var r=t(6611),i=t.n(r);function o(e){var n=function(e){var n=e.getBoundingClientRect();return{x:n.left+n.width/2,y:n.top+n.height/2}}(e);return{x:n.x+window.scrollX,y:n.y+window.scrollY}}function a(e,n){return i()(e,n,!1)}function l(e){return e[a(0,e.length-1)]}function c(e,n){return i()(e,n,!0)}function s(){return"hsl(".concat(a(0,360),", 100%, 70%)")}function u(e){return e*Math.PI/180}function d(e,n){return Math.atan2(n,e)}function p(e,n){return Math.sqrt(Math.pow(e,2)+Math.pow(n,2))}function f(e,n){return(e%n+n)%n}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n-Math.abs(f(e,2*n)-n)}},54854:function(e,n,t){"use strict";function r(e,n){if(!e)return null;var t=e[n];return t?Array.isArray(t)?null:t:null}t.d(n,{Z:function(){return r}})},47024:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(14251),i=t(52875),o=t(44747),a=t(9941),l=t(35944),c=t(67294),s=t(32692),u=t(31230),d=t(50319);function p(){var e=(0,s.Z)(["\n  mutation SetFollowing($input: setFollowingInput!) {\n    setFollowing(input: $input) {\n      ... on FollowResult {\n        targetUser {\n          id\n          isFollowedByCurrentUser\n          followerCount\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}var f={},h=(0,u.Ps)(p());var v=t(93058),m=t(88075),g=t(92002),Z=t(60379),y=t(98967),b=t(60977),w=function(e){var n=e.user,t=e.subtle,s=e.targetName,u=(0,o.Z)(e,["user","subtle","targetName"]),p=t?void 0:"primary",w=(0,a.Z)(c.useState(!1),2),x=w[0],R=w[1],T=n.isFollowedByCurrentUser,C=(0,v.Z)().showError,k=(0,a.Z)(function(e){var n=(0,r.Z)({},f,e);return d.D(h,n)}({onCompleted:function(e){var n,t,r;"NotFoundError"===(null===(n=e.setFollowing)||void 0===n?void 0:n.__typename)&&C(e.setFollowing.message),"UserError"===(null===(t=e.setFollowing)||void 0===t?void 0:t.__typename)&&C(e.setFollowing.message),"UnauthorizedError"===(null===(r=e.setFollowing)||void 0===r?void 0:r.__typename)&&R(!0)}}),2),E=k[0],S=k[1].loading,I=T?"Following":"Follow";return null!=s&&(I="".concat(I," ").concat(s)),(0,l.BX)(l.HY,{children:[(0,l.tZ)(Z.zx,(0,i.Z)((0,r.Z)({type:"button"},u),{colorway:T?void 0:p,text:I,iconLeft:T?(0,l.tZ)(m.Z,{}):(0,l.tZ)(g.Z,{}),onClick:function(e){e.stopPropagation(),E({variables:{input:{targetUserId:n.id,shouldFollow:!T}}}),T||(0,b.j)(b.U3.USER_FOLLOWED)},disabled:S,dataCy:"follow-button"})),(0,l.tZ)(Z.u_,{onRequestClose:function(){return R(!1)},isOpen:x,children:(0,l.tZ)(y.Z,{onSuccess:function(){(0,b.j)(b.U3.SIGNUP_FROM_FOLLOW_BUTTON_SUCCESSFUL)},onFailure:function(e){var n=e.error;C(n)},title:"Sign up to follow your favorite Replers.",description:"You\u2019ll then be able to follow "+n.username})})]})}},86800:function(e,n,t){"use strict";t.d(n,{JM:function(){return p},SL:function(){return u}});var r=t(14251),i=t(32692),o=t(31230),a=t(37887);function l(){var e=(0,i.Z)(['\n  fragment ReplEnvironment2CurrentUserLayoutFlags on CurrentUser {\n    id\n    flagGhostrunner: gate(feature: "flag-ghostrunner")\n  }\n']);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  query ReplEnvironment2LayoutFlags {\n    currentUser {\n      id\n      ...ReplEnvironment2CurrentUserLayoutFlags\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var s={},u=(0,o.Ps)(l()),d=(0,o.Ps)(c(),u);function p(e){var n=(0,r.Z)({},s,e);return a.a(d,n)}},79611:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(67294),i=t(11163);function o(e,n){var t=(0,i.useRouter)();(0,r.useEffect)((function(){}),[e,t]),(0,r.useEffect)((function(){if("SubscriptionExpiredError"===(null===e||void 0===e?void 0:e.__typename)){var r=e.replId,i=e.isOwner,o=n.split("/")[1].slice(1);t.replace({pathname:"/expiredPrivateRepl",query:{isOwner:i,ownerUsername:o,replId:r}},t.asPath)}}),[e,t,n])}},5804:function(e,n,t){"use strict";t.d(n,{JL:function(){return x},L8:function(){return Z},M6:function(){return g},QH:function(){return y},nr:function(){return m}});var r=t(67573),i=t(14251),o=t(69779),a=t(35944),l=t(67294),c=t(69346),s=t(81255),u=t(1144),d=t(46197),p=t(44365),f=t(72917),h=t(7243),v=t(68480);function m(e,n){var t,r=(null===(t=n.tags)||void 0===t?void 0:t.length)?n.tags.join(","):null;return{href:{pathname:"/postsFeed",query:{boardSlug:r,q:e}},as:{pathname:r?"/community/".concat(r):"/community/all",query:{q:e}}}}function g(e,n){return n?{href:{pathname:"/postsFeed",query:{boardSlug:e,order:n.order}},as:{pathname:"/community/".concat(e),query:(0,i.Z)({},n.order!==p.eR?{order:n.order.toLowerCase()}:{})}}:{href:{pathname:"/postsFeed",query:{boardSlug:e}},as:"/community/".concat(e)}}function Z(e){return g("all",e)}function y(e,n){var t=n.tags?n.tags.join(","):"all";return{href:{pathname:"/postsFeed",query:{boardSlug:t,order:(0,p.Zb)(e)}},as:{pathname:"/community/".concat(t),query:(0,i.Z)({},e!==p.eR?{order:(0,p.Zb)(e)}:{})}}}var b=c.K.div,w=v.Mz+32;function x(e){var n,t,i=e.tagGroups,p=e.params,m=(0,o.Z)(i.official).concat((0,o.Z)(i.community)).map((function(e){var n,t=Boolean(null===(n=p.tags)||void 0===n?void 0:n.includes(e.id)),r=t?Z(p):g(e.id,p);return(0,a.tZ)(f.t,{tag:e,link:r,isActive:t},e.id)})),y=(0,l.useState)(!1),x=y[0],R=y[1],T=(0,l.useRef)(null);return(0,l.useEffect)((function(){if(T.current){var e=new window.IntersectionObserver((function(e){e.forEach((function(e){window.scrollY<e.boundingClientRect.top-w?R(!1):R(!e.isIntersecting)}))}),{root:null,rootMargin:"".concat(-w,"px 0px 0px 0px"),threshold:1}),n=T.current;return e.observe(n),function(){e.unobserve(n),e.disconnect()}}}),[]),(0,a.BX)(c.Z,{children:[(0,a.tZ)(b,{ref:T}),(0,a.BX)(c.Z,{css:[s.l0.colWithGap(16),x&&(0,r.Z)({},d.A.desktop,[s.l0.position.fixed,s.l0.overflowY("auto"),s.l0.height("calc(100vh - ".concat(v.Mz,"px)")),s.l0.py(32),{top:v.Mz}])],children:[(0,a.tZ)(u.x,{color:"dimmer",children:"TOP TAGS"}),(0,a.BX)(c.Z,{children:[(0,a.tZ)(h.Z,{gap:8,inset:16,css:[(n={},(0,r.Z)(n,d.A.desktop,[s.l0.display.none]),(0,r.Z)(n,"marginLeft","calc(-1 * ".concat(s.TV.space16,")")),(0,r.Z)(n,"marginRight","calc(-1 * ".concat(s.TV.space16,")")),n)],children:m}),(0,a.tZ)(c.Z,{css:(t={},(0,r.Z)(t,d.A.mobile,[s.l0.display.none]),(0,r.Z)(t,d.A.desktop,[s.l0.colWithGap(32)]),t),children:(0,a.tZ)(c.Z,{css:[s.l0.colWithGap(8),s.l0.align.start],children:m})})]})]})]})}},4924:function(e,n,t){"use strict";t.d(n,{Vs:function(){return b},ZP:function(){return x},p0:function(){return w}});var r=t(14251),i=t(52875),o=t(35944),a=(t(67294),t(41664)),l=t.n(a),c=t(70917),s=t(60379),u=t(53427),d=t(69928),p=t(5804),f=t(72917),h=t(88046),v=t(82447),m=t(45273),g=t(94718),Z=s.KD.a,y=(0,c.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function b(e){var n=e.tags,t=e.maxVisible,r=void 0===t?3:t,i=e.onTagClick,a=n.slice(0,r),l=n.length-a.length;return(0,o.BX)(s.G7,{css:[s.l0.rowWithGap(4),s.l0.align.center],children:[a.map((function(e){return(0,o.tZ)(f.t,{small:!0,tag:e,link:(0,p.M6)(e.id),onClick:i},e.id)})),l>0?(0,o.BX)(s.xv,{variant:"small",color:"dimmest",children:["+",l]}):null]})}function w(e){var n=e.repl,t=e.showOwner,a=e.maxVisibleTags,c=e.onReplClick,p=e.onUserClick,f=e.onTagClick,w=n.owner;return(0,o.BX)(s.G7,{css:[s.l0.colWithGap(16)],children:[(0,o.BX)(s.G7,{css:[s.l0.rowWithGap(8),s.l0.align.start,s.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(u.ZP,{size:84,iconUrl:n.iconUrl,alt:n.title}),(0,o.BX)(s.G7,{css:[s.l0.flex.growAndShrink(1),s.l0.colWithGap(4)],children:[(0,o.tZ)(l(),(0,i.Z)((0,r.Z)({passHref:!0},(0,h.j3)(n)),{children:(0,o.tZ)(Z,{css:[{color:"inherit"},y],onClick:c,children:(0,o.tZ)(s.xv,{variant:"subheadBig",children:n.title})})})),t&&w?(0,o.tZ)(s.G7,{css:[{maxWidth:"fit-content",zIndex:1}],children:(0,o.tZ)(g.Z,{username:w.username,children:(0,o.tZ)(v.ZP,{user:w,children:(0,o.BX)(Z,{css:[{color:"inherit"},s.l0.rowWithGap(4),s.l0.align.center,s.l0.pr(16)],onClick:p,children:[(0,o.tZ)(m.Z,{src:w.image,username:w.username,size:16,layout:"intrinsic"}),(0,o.tZ)(s.xv,{children:w.username})]})})})}):null,n.description?(0,o.tZ)(s.xv,{color:"dimmer",maxLines:2,css:[s.l0.maxWidth(450)],children:n.description}):null]})]}),(0,o.BX)(s.G7,{css:[s.l0.rowWithGap(8),s.l0.justify.spaceBetween,s.l0.flex.wrap],children:[(0,o.tZ)(d.Z,{css:[s.l0.pb(2)],repl:n}),a?(0,o.tZ)(s.G7,{css:[s.l0.position.relative,s.l0.pt(2),{zIndex:1}],children:(0,o.tZ)(b,{tags:n.tags,maxVisible:a,onTagClick:f})}):null]})]})}function x(e){var n=e.repl,t=e.showOwner,r=e.maxVisibleTags,i=e.onReplClick,a=e.onUserClick,l=e.onTagClick,c=e.dataCy;return(0,o.tZ)(s.Tg,{css:[s.l0.borderRadius(8),s.l0.p(8),s.l0.position.relative,s.gU.filledAndOutlined,{border:"1px solid "+s.TV.outlineDimmest}],dataCy:c,children:(0,o.tZ)(w,{repl:n,showOwner:t,maxVisibleTags:r,onReplClick:i,onUserClick:a,onTagClick:l})})}},69928:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(35944),i=(t(67294),t(69346)),o=t(81255),a=t(12530),l=t(51995),c=t(75026),s=t(27843),u=t(34847);function d(e){var n=e.repl;return(0,r.BX)(i.Z,{css:[o.l0.rowWithGap(16),o.l0.align.center],children:[(0,r.tZ)(a.Z,{small:!0,count:n.runCount,tooltip:(0,u.Z)("runs",n.runCount),children:(0,r.tZ)(l.Z,{})}),(0,r.tZ)(a.Z,{small:!0,count:n.commentCount,tooltip:(0,u.Z)("comment",n.commentCount),children:(0,r.tZ)(c.Z,{})}),(0,r.tZ)(a.Z,{small:!0,count:n.likeCount,tooltip:(0,u.Z)("like",n.likeCount),children:(0,r.tZ)(s.Z,{})})]})}},72917:function(e,n,t){"use strict";t.d(n,{g:function(){return x},t:function(){return b}});var r=t(14251),i=t(52875),o=t(35944),a=(t(67294),t(70917)),l=t(41664),c=t.n(l),s=t(69346),u=t(93160),d=t(81255),p=t(1144),f=t(44044),h=t(67629),v=t(16857),m=(0,a.iv)({border:"1px solid "+d.TV.accentPrimaryDefault,backgroundColor:"transparent"}),g=function(e){var n=e.isActive,t=e.small;return(0,a.iv)([d.l0.p(t?4:8),d.l0.align.center,d.l0.rowWithGap(4),d.l0.fontSize(12),n?m:f.gU.outlined,d.l0.borderRadius(16),{color:"inherit","&:hover":m}])};function Z(e){var n=e.tag,t=e.isActive,r=e.isRemovable,i=e.small,a=i?"small":"text";return(0,o.tZ)(u.Z,{elevated:t,css:[d.l0.borderRadius(16)],children:(0,o.BX)(u.Z,{elevated:t,css:[g({isActive:t,small:i})],children:[(0,o.BX)(s.Z,{css:[d.l0.flex.row,d.l0.align.center,d.l0.flex.shrink(1)],children:[(0,o.tZ)(p.x,{variant:a,color:"dimmest",children:"#"}),(0,o.tZ)(p.x,{color:"dimmer",variant:a,css:[d.l0.flex.shrink(1)],children:n.id})]}),n.isOfficial&&!i?(0,o.tZ)(v.Z,{}):null,r?(0,o.tZ)(h.Z,{size:i?12:16}):null]})})}var y=s.K.a;function b(e){var n=e.tag,t=e.link,a=e.isActive,l=e.small,s=e.onClick;return(0,o.tZ)(c(),(0,i.Z)((0,r.Z)({},t),{passHref:!0,css:[d.l0.flex.shrink(1),{backgroundColor:"red"}],children:(0,o.tZ)(y,{css:[{color:"inherit"},d.l0.flex.shrink(1)],onClick:s,children:(0,o.tZ)(Z,{tag:n,isActive:a,small:l,isRemovable:a})})}))}var w=s.K.button;function x(e){var n=e.tag,t=e.onClick,r=e.isActive,i=e.small;return(0,o.tZ)(w,{css:[d.l0.reset.button],onClick:t,children:(0,o.tZ)(Z,{tag:n,isActive:r,small:i,isRemovable:!0})})}},46197:function(e,n,t){"use strict";t.d(n,{A:function(){return i}});var r=t(57263),i={mobile:"@media (max-width: ".concat(r.j.tabletMin,"px)"),desktop:"@media (min-width: ".concat(r.j.tabletMin+1,"px)")}},44365:function(e,n,t){"use strict";t.d(n,{Qf:function(){return c},Zb:function(){return l},eR:function(){return o}});var r=t(90317),i=t(54854),o=r.vX.Hot,a={hot:r.vX.Hot,new:r.vX.New,top:r.vX.Top,votes:r.vX.Top};function l(e){return e.toLowerCase()}function c(e){var n=(0,i.Z)(e,"after")||void 0,t=(0,i.Z)(e,"q")||void 0,r=(0,i.Z)(e,"boardSlug")||void 0,c=r&&"all"!==r?r.split(","):void 0,s=(0,i.Z)(e,"order")||l(o),u=a[s]||o,d=(0,i.Z)(e,"count"),p=d?parseInt(d,10):void 0;return void 0!==p&&Number.isNaN(p)&&(p=void 0),{tags:c,order:u,count:p,searchQuery:t,after:n}}},12530:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(35944),i=t(67294),o=t(1144),a=t(81255),l=t(69346),c=t(81456);function s(e){var n=e.count,t=e.children,s=e.tooltip,u=e.small,d=(0,c.d)(n);return(0,r.BX)(l.Z,{"aria-label":s,"data-microtip-position":"left",role:"tooltip",css:[a.l0.rowWithGap(4),a.l0.align.center,a.l0.color.foregroundDimmer,{userSelect:"none",lineHeight:1}],children:[i.cloneElement(t,{size:u?12:void 0}),(0,r.tZ)(o.x,{variant:u?"small":void 0,color:"dimmer",children:d})]})}},19923:function(e,n,t){"use strict";t.d(n,{Gp:function(){return D},Oh:function(){return K},V3:function(){return M},Xl:function(){return X},Yd:function(){return W},_b:function(){return q},gX:function(){return ne},h2:function(){return N},on:function(){return B},q7:function(){return J},vs:function(){return P},w9:function(){return j},zp:function(){return V}});var r=t(14251),i=t(32692),o=t(31230),a=t(7900),l=t(37887),c=t(50319);function s(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplateModelSolution on ReplTemplateModelSolution {\n    id\n    visibleAfterSubmitting\n    visibleAfterPassingTests\n    visibleAfterDueDate\n    repl {\n      id\n      url\n      nextPagePathname\n    }\n    canStudentFork\n    studentFork {\n      id\n      url\n      nextPagePathname\n    }\n  }\n"]);return s=function(){return e},e}function u(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplate on ReplTemplate {\n    id\n    isPublished\n    isGroupProject\n    allowSelfGrouping\n    imageUrl\n    url\n    dueDate\n    modelSolution {\n      id\n      ...TeamProfileReplTemplateModelSolution\n    }\n    userSubmissionGroup {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  fragment TeamProfileRepl on Repl {\n    id\n    title\n    description\n    slug\n    timeCreated\n    url\n    pinnedToProfile\n    nextPagePathname\n    templateInfo {\n      label\n      iconUrl\n    }\n    template {\n      id\n      ...TeamProfileReplTemplate\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamProfileStack on Stack {\n    id\n    title\n    repls {\n      id\n      ...TeamProfileRepl\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamEduProfile on Team {\n    id\n    username\n    displayName\n    isAdmin\n    archived\n    needsMigrationToStacks\n    defaultTemplateStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n      capabilities {\n        isExpired: isExpiring(daysFromNow: 0)\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamProProfile on Team {\n    id\n    username\n    displayName\n    isMember\n    isAdmin\n    archived\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment TeamProfileAllStacks on Team {\n    id\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function m(){var e=(0,i.Z)(["\n  fragment TeamCreateReplSubmissionOutput on CreateReplSubmissionOutput {\n    ... on Repl {\n      id\n      nextPagePathname\n      url\n      template {\n        id\n        ...TeamProfileReplTemplate\n      }\n    }\n    ... on UserError {\n      message\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function g(){var e=(0,i.Z)(["\n  query TeamProProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamProProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function Z(){var e=(0,i.Z)(["\n  query TeamEduProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function y(){var e=(0,i.Z)(["\n  mutation TeamProProfilePinRepl($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return y=function(){return e},e}function b(){var e=(0,i.Z)(["\n  mutation TeamProProfileUnpinRepl($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return b=function(){return e},e}function w(){var e=(0,i.Z)(["\n  mutation TeamProfileArrangeStackItem($input: ArrangeStackItemInput!) {\n    arrangeStackItem(input: $input) {\n      ... on Team {\n        id\n        ...TeamProfileAllStacks\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function x(){var e=(0,i.Z)(["\n  mutation TeamProfileUpdateReplTemplate($input: UpdateReplTemplateInput!) {\n    updateReplTemplate(input: $input) {\n      ... on ReplTemplate {\n        id\n        repl {\n          id\n          ...TeamProfileRepl\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function R(){var e=(0,i.Z)(["\n  mutation TeamProfileMigrateTeamToStacks($teamId: Int!) {\n    migrateTeamToStacks(teamId: $teamId) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return R=function(){return e},e}function T(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolution(\n    $input: CreateReplTemplateModelSolutionInput!\n  ) {\n    createReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function C(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolutionFork(\n    $input: CreateReplTemplateModelSolutionForkInput!\n  ) {\n    createReplTemplateModelSolutionFork(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return C=function(){return e},e}function k(){var e=(0,i.Z)(["\n  mutation TeamCreateReplSubmission($templateId: Int!) {\n    createReplSubmission(templateId: $templateId) {\n      ...TeamCreateReplSubmissionOutput\n    }\n  }\n  ","\n"]);return k=function(){return e},e}var E={},S=(0,o.Ps)(s()),I=(0,o.Ps)(u(),S,a.Pc),P=(0,o.Ps)(d(),I),_=(0,o.Ps)(p(),P),D=(0,o.Ps)(f(),_),U=(0,o.Ps)(h(),_),B=(0,o.Ps)(v(),_),A=(0,o.Ps)(m(),I),G=(0,o.Ps)(g(),U);function N(e){var n=(0,r.Z)({},E,e);return l.a(G,n)}var O=(0,o.Ps)(Z(),D);function M(e){var n=(0,r.Z)({},E,e);return l.a(O,n)}var L=(0,o.Ps)(y());function X(e){var n=(0,r.Z)({},E,e);return c.D(L,n)}var F=(0,o.Ps)(b());function W(e){var n=(0,r.Z)({},E,e);return c.D(F,n)}var z=(0,o.Ps)(w(),B);function j(e){var n=(0,r.Z)({},E,e);return c.D(z,n)}var H=(0,o.Ps)(x(),P);function V(e){var n=(0,r.Z)({},E,e);return c.D(H,n)}var Y=(0,o.Ps)(R(),D);function q(e){var n=(0,r.Z)({},E,e);return c.D(Y,n)}var $=(0,o.Ps)(T(),P);function K(e){var n=(0,r.Z)({},E,e);return c.D($,n)}var Q=(0,o.Ps)(C(),P);function J(e){var n=(0,r.Z)({},E,e);return c.D(Q,n)}var ee=(0,o.Ps)(k(),A);function ne(e){var n=(0,r.Z)({},E,e);return c.D(ee,n)}},29243:function(e,n,t){"use strict";t.d(n,{VK:function(){return f},dx:function(){return d}});var r=t(14251),i=t(32692),o=t(31230),a=t(20147),l=t(37887);function c(){var e=(0,i.Z)(["\n  fragment UserCardUser on User {\n    id\n    fullName\n    username\n    isHacker\n    url\n    bio\n    image\n    isModerator: hasRole(role: MODERATOR)\n    isAdmin: hasRole(role: ADMIN)\n    followerCount\n    followCount\n    isFollowedByCurrentUser\n    isFollowingCurrentUser\n    socials {\n      id\n      url\n      type\n    }\n    roles(only: [MODERATOR, PATRON, CONTENT_CREATOR, REPLIT_REP]) {\n      id\n      name\n      key\n      tagline\n    }\n    ...UserLabelUser\n  }\n  ","\n"]);return c=function(){return e},e}function s(){var e=(0,i.Z)(["\n  query UserCard($username: String!) {\n    currentUser {\n      id\n    }\n    userByUsername(username: $username) {\n      id\n      ...UserCardUser\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var u={},d=(0,o.Ps)(c(),a.w),p=(0,o.Ps)(s(),d);function f(e){var n=(0,r.Z)({},u,e);return l.a(p,n)}},94718:function(e,n,t){"use strict";t.d(n,{Z:function(){return I}});var r=t(14251),i=t(52875),o=t(35944),a=t(67294),l=t(44778),c=t(70804),s=t(69346),u=t(60379),d=t(90317),p=t(29243),f=t(57731),h=t(77365),v=t(41664),m=t.n(v),g=t(82447),Z=t(34901),y=t(47024),b=t(85565),w=t(30880),x=t(57981),R=t(93373),T=t(53924),C=t(33319),k=t(34847),E=s.K.span;function S(e){var n,t=e.user,a=e.isCurrentUser,c=void 0!==a&&a;return(0,o.tZ)(s.Z,{css:[u.l0.colWithGap(16)],children:(0,o.BX)(s.Z,{css:[u.l0.colWithGap(8)],children:[(0,o.BX)(s.Z,{css:[u.l0.rowWithGap(12)],children:[(0,o.tZ)(m(),{href:"/@"+t.username,target:"_blank",rel:"noreferrer",children:(0,o.tZ)("a",{children:(0,o.tZ)(f.Z,{size:48,src:t.image,alt:t.username,css:[{border:"solid 1px ".concat(u.TV.backgroundHighest),backgroundColor:u.TV.backgroundDefault}]})})}),(0,o.BX)(s.Z,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(4)],children:[(0,o.BX)(s.Z,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(m(),(0,i.Z)((0,r.Z)({passHref:!0},(0,g.Ru)(t)),{children:(0,o.tZ)(s.Z,{tag:"a",css:[u.l0.flex.growAndShrink(1)],children:(0,o.tZ)(u.xv,{css:[{color:u.TV.foregroundDefault,fontWeight:400}],variant:"subheadBig",children:t.fullName||t.username})})})),t.isFollowingCurrentUser?(0,o.tZ)(u.DR,{css:[u.l0.minWidth("fit-content")],text:"Follows you"}):null]}),(0,o.tZ)(s.Z,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:(0,o.tZ)(m(),{href:"/@"+t.username,target:"_blank",rel:"noreferrer",children:(0,o.tZ)("a",{children:(0,o.BX)(u.xv,{color:"dimmest",css:[{fontWeight:300}],children:["@",t.username]})})})})]})]}),(0,o.BX)(s.Z,{css:[u.l0.rowWithGap(16),u.l0.align.center],children:[c?null:(0,o.tZ)(y.Z,{user:t,subtle:!0,stretch:!0,small:!0}),(null===t||void 0===t||null===(n=t.socials)||void 0===n?void 0:n.length)&&!c?t.socials.slice(0,3).map((function(e){return"twitter"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(b.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"facebook"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(w.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"linkedin"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(x.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"github"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(R.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"youtube"===e.type?(0,o.tZ)("a",{target:"_blank",rel:"noreferrer",children:(0,o.tZ)(T.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"website"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(C.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):void 0})):null]}),(0,o.BX)(s.Z,{css:[u.l0.rowWithGap(8),u.l0.flex.growAndShrink(1)],children:[(0,o.BX)(u.xv,{variant:"small",color:"dimmer",children:[(0,o.tZ)("span",{css:{color:u.TV.foregroundDefault,fontWeight:u.TV.fontWeightMedium},children:t.followerCount})," ",(0,k.Z)("follower",t.followerCount)]}),(0,o.BX)(u.xv,{variant:"small",color:"dimmer",children:[(0,o.tZ)("span",{css:{color:u.TV.foregroundDefault,fontWeight:u.TV.fontWeightMedium},children:t.followCount})," ","following"]})]}),t.bio?(0,o.tZ)(u.xv,{css:{overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"},multiline:!0,children:(0,o.tZ)(l.ZP,{properties:{target:"_blank"},children:t.bio})}):null,t.roles&&t.roles.length||t.isAdmin?(0,o.BX)(s.Z,{css:[u.l0.flex.row,u.l0.flex.wrap,u.l0.pt(4),{display:"inline-flex",gap:"8px"}],children:[t.isHacker?(0,o.tZ)(Z._.Hacker,{}):null,t.isAdmin?(0,o.tZ)(Z._.Admin,{}):null,t.roles.map((function(e){if(e.key===d.SM.Moderator&&t.isAdmin)return null;var n=e.tagline?{"aria-label":e.tagline,"data-microtip-position":"top-right",role:"tooltip"}:void 0,a=u.TV.foregroundDefault,l=(0,o.tZ)(Z._.Default,{name:e.name},e.id);return e.key===d.SM.Moderator?l=(0,o.tZ)(Z._.Moderator,{},e.id):e.key===d.SM.ContentCreator?l=(0,o.tZ)(Z._.ContentCreator,{},e.id):e.key===d.SM.ReplitRep?l=(0,o.tZ)(Z._.ReplitRep,{},e.id):e.key===d.SM.Patron&&(l=(0,o.tZ)(Z._.Patron,{},e.id)),(0,o.tZ)("div",{children:(0,o.tZ)(s.Z,(0,i.Z)((0,r.Z)({},n),{css:[{color:a,fontSize:u.TV.fontSizeSmall}],children:l}))},e.id)}))]}):null]})})}function I(e){var n,t=e.username,r=e.children,i=e.inline,l=e.onUserClick,d=(0,a.useState)(!1),f=d[0],v=d[1],m=(0,a.useState)(!1),g=m[0],Z=m[1],y=(0,a.useRef)(!1);(0,a.useEffect)((function(){f&&(y.current=!0);var e=setTimeout((function(){Z(f)}),200);return function(){clearTimeout(e)}}),[f]);var b=(0,p.VK)({variables:{username:t},skip:!1===y.current}),w=b.data,x=b.loading,R=null===w||void 0===w?void 0:w.userByUsername,T=(null===w||void 0===w||null===(n=w.currentUser)||void 0===n?void 0:n.id)===(null===R||void 0===R?void 0:R.id);return(0,o.BX)(c.Z,{disableFocusLock:!0,isOpen:g,onClickOutside:function(){return Z(!1)},maxWidth:300,growToMaxWidth:!0,css:[{padding:16,background:u.TV.backgroundHigher,border:"solid 1px "+u.TV.backgroundHighest}],children:[i?(0,o.tZ)("span",{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:r}):(0,o.tZ)(E,{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:r}),(0,o.BX)(E,{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:[!x&&(R?(0,o.tZ)(S,{user:R,onUserClick:l,isCurrentUser:T}):(0,o.tZ)(u.xv,{color:"dimmer",children:"User doesn\u2019t exist"})),x?(0,o.tZ)(s.Z,{css:[u.l0.center,u.l0.width("100%"),u.l0.height("100%")],children:(0,o.tZ)(h.Z,{})}):null]})]})}},20147:function(e,n,t){"use strict";t.d(n,{w:function(){return c}});var r=t(32692),i=t(31230),o=t(16092);function a(){var e=(0,r.Z)(["\n  fragment UserLabelUser on User {\n    id\n    username\n    ...UserLinkUser\n  }\n  ","\n"]);return a=function(){return e},e}function l(){var e=(0,r.Z)(["\n  fragment UserLabelWithImageUser on User {\n    id\n    image\n    ...UserLabelUser\n  }\n  ","\n"]);return l=function(){return e},e}var c=(0,i.Ps)(a(),o._);l()},16092:function(e,n,t){"use strict";t.d(n,{P:function(){return c},_:function(){return l}});var r=t(32692),i=t(31230);function o(){var e=(0,r.Z)(["\n  fragment UserLinkUser on User {\n    id\n    url\n    username\n  }\n"]);return o=function(){return e},e}function a(){var e=(0,r.Z)(["\n  fragment UserLinkCurrentUser on CurrentUser {\n    id\n    url\n    username\n  }\n"]);return a=function(){return e},e}var l=(0,i.Ps)(o()),c=(0,i.Ps)(a())},26082:function(e,n,t){"use strict";var r=t(5152),i=t.n(r);n.Z=i()((function(){return Promise.all([t.e(8966),t.e(8628),t.e(5117),t.e(7068)]).then(t.bind(t,87068)).then((function(e){return e.EditReplTemplate}))}),{loadableGenerated:{webpack:function(){return[87068]}}})},70710:function(e,n,t){"use strict";t.d(n,{I$:function(){return R},Du:function(){return T},Cd:function(){return k}});var r=t(14251),i=t(32692),o=t(31230),a=t(9523);function l(){var e=(0,i.Z)(['\n  fragment ReplEnvironmentTourCurrentUser on CurrentUser {\n    id\n    hasSeenOldWorkspaceTour: tourSeen(name: "workspace-desktop-tour")\n  }\n']);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentTourRepl on Repl {\n    id\n    lesson {\n      id\n    }\n  }\n"]);return c=function(){return e},e}var s=(0,o.Ps)(l()),u=(0,o.Ps)(c()),d=t(86800),p=t(65711),f=t(6695);function h(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentHeaderLeftCurrentUser on CurrentUser {\n    id\n    isFirewallMode\n  }\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentHeaderLeftRepl on Repl {\n    id\n    isAlwaysOn\n    slug\n    url\n    ...WorkspaceHeaderReplMetadataRepl\n  }\n  ","\n"]);return v=function(){return e},e}var m=(0,o.Ps)(h()),g=(0,o.Ps)(v(),f.s),Z=t(37887);function y(){var e=(0,i.Z)(["\n  fragment ReplEnvironment2CurrentUser on CurrentUser {\n    id\n    image\n    isFirewallMode\n    ...CrosisContextCurrentUser\n    ...ReplEnvironment2CurrentUserLayoutFlags\n    editorPreferences {\n      ...CurrentUserPreferences\n    }\n    ...ReplEnvironmentHeaderLeftCurrentUser\n    ...ReplEnvironmentTourCurrentUser\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return y=function(){return e},e}function b(){var e=(0,i.Z)(["\n  fragment ReplEnvironment2Repl on Repl {\n    id\n    title\n    layoutState\n    description\n    multiplayers {\n      id\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n    origin {\n      id\n    }\n    language\n    config {\n      isVnc\n      isServer\n    }\n    lesson {\n      id\n    }\n    ...CrosisContextRepl\n    ...ReplEnvironmentHeaderLeftRepl\n  }\n  ","\n  ","\n"]);return b=function(){return e},e}function w(){var e=(0,i.Z)(["\n  query ReplEnvironment2($url: String!) {\n    repl(url: $url) {\n      ... on Repl {\n        id\n        ...CrosisContextRepl\n        ...ReplEnvironment2Repl\n        ...ReplEnvironmentTourRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n        isOwner\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironment2CurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return w=function(){return e},e}var x={},R=(0,o.Ps)(y(),a.D,d.SL,p.wO,m,s),T=(0,o.Ps)(b(),a.C,g),C=(0,o.Ps)(w(),a.C,T,u,R);function k(e){var n=(0,r.Z)({},x,e);return Z.a(C,n)}},54223:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return vf}});var r=t(34727),i=t(9941),o=t(70655),a=t(35944),l=t(70917),c=t(15519),s=t(92098),u=t(19246),d=t(68480),p=t(23384),f=t(15902),h=t(12215),v=t(53931),m=t(11163),g=t(67294),Z=t(60665),y=t(14251),b=t(32692),w=t(31230),x=t(37887);function R(){var e=(0,b.Z)(["\n  query RepricingAnnouncement {\n    currentUser {\n      id\n      url\n      username\n      pricesUpdate {\n        __typename\n        ... on CurrentUserPricesUpdateOptionOutputObject {\n          option\n        }\n      }\n    }\n  }\n"]);return R=function(){return e},e}var T={},C=(0,w.Ps)(R());function k(e){var n=(0,y.Z)({},T,e);return x.a(C,n)}var E=t(9625),S=t(19536),I=t(60379),P=t(53202),_=t(38164),D=t(90317),U=t(73147),B=t(59247),A=new Date("2023-01-05");function G(){var e,n=k().data,t=(0,h.Z)("workspace","repricing-announcement"),r=t.shouldDisplay,i=t.dismiss,o=t.register,l=(0,m.useRouter)(),c=(0,p.D)({controlName:"flag-hacker2022-for-president"});return g.useEffect((function(){c&&o()}),[o,c]),(0,f.Vg)(l)?null:c?"CurrentUserPricesUpdateOptionOutputObject"!==(null===n||void 0===n||null===(e=n.currentUser)||void 0===e?void 0:e.pricesUpdate.__typename)?null:n.currentUser.pricesUpdate.option===D.c1.General?(0,a.tZ)(N,{shouldDisplay:r,dismiss:i}):(0,a.tZ)(L,{shouldDisplay:r,dismiss:i,isHacker:n.currentUser.pricesUpdate.option===D.c1.LegacyHacker}):null}function N(e){var n=e.shouldDisplay,t=e.dismiss,r=k().data;if(!(null===r||void 0===r?void 0:r.currentUser))return null;var i,o={slides:[{title:"Introducing new levels of Boosts!",subtitle:(0,a.tZ)(a.HY,{children:"We've now added even more power with additional levels starting at 4x the base resources and going all the way up to 32x of the base resources."}),text:(0,a.BX)(a.HY,{children:["Boosts are a way to allow your Repls to utilize more resources and make them faster."," ",(0,a.tZ)("a",{href:U.TT.ABOUT_BOOSTED_REPLS,onClick:t,target:"_blank",children:"Learn more"})]}),backgroundImage:"/public/images/repricing-announcement.png",backgroundColor:(i=Z.S.values.global.accentPrimaryDefault,(0,l.iv)({backgroundColor:i})),position:"center"}],date:A};return(0,a.tZ)(v.Z,{announcement:o,showModal:n,onRequestClose:t})}function O(e){var n=e.price,t=e.period;return(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(2),I.l0.align.center],children:[(0,a.tZ)(_.Z,{}),(0,a.BX)(I.xv,{children:[n,"/",t," (",(0,S.$E)(n),"/",t,")"]})]})}function M(e){var n=e.variant;return(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(32),I.l0.align.center],children:[(0,a.tZ)(I.G7,{css:[{width:40}],children:(0,a.tZ)(E.Z,{variant:n})}),(0,a.tZ)(I.xv,{css:[{width:150}],children:(0,S.Pr)(n)}),(0,a.tZ)(O,{price:B.z4[n],period:"day"})]})}function L(e){var n=e.isHacker,t=e.shouldDisplay,r=e.dismiss;return(0,a.tZ)(I.u_,{isOpen:t,onRequestClose:r,centered:!0,fitContent:!0,children:(0,a.BX)(I.G7,{css:[I.l0.colWithGap(24)],children:[(0,a.BX)(I.G7,{css:[I.l0.colWithGap(12)],children:[(0,a.tZ)(I.xv,{variant:"subheadBig",children:"Announcing more power and updated pricing"}),(0,a.tZ)(I.xv,{multiline:!0,children:n?"We\u2019re launching more powerful machines for a more powerful  experience. Our new pricing and Hacker plan benefits reflect these changes.":"We\u2019re launching more powerful machines for a more powerful  experience. Our new pricing reflects these changes."})]}),(0,a.BX)(I.G7,{css:[I.l0.colWithGap(16)],children:[(0,a.tZ)(I.xv,{variant:"subheadDefault",children:"Boosted Repls"}),n?(0,a.tZ)(I.xv,{children:"One 4x Boost included with Hacker plan, then:"}):null,(0,a.BX)(I.G7,{css:[I.l0.colWithGap(8)],children:[(0,a.tZ)(M,{variant:"boost_2cpu_2ram"}),(0,a.tZ)(I.RX,{}),(0,a.tZ)(M,{variant:"boost_4cpu_4ram"}),(0,a.tZ)(I.RX,{}),(0,a.tZ)(M,{variant:"boost_8cpu_8ram"}),(0,a.tZ)(I.RX,{}),(0,a.tZ)(M,{variant:"boost_16cpu_16ram"})]})]}),(0,a.BX)(I.G7,{css:[I.l0.colWithGap(8)],children:[(0,a.tZ)(I.xv,{variant:"subheadDefault",children:"Always On Repls"}),(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(4)],children:[n?(0,a.tZ)(I.xv,{children:"One included with Hacker plan, then "}):null,(0,a.tZ)(O,{price:20,period:"day"})]})]}),n?null:(0,a.BX)(I.G7,{css:[I.l0.colWithGap(8)],children:[(0,a.tZ)(I.xv,{variant:"subheadDefault",children:"Private Repls"}),(0,a.tZ)(I.G7,{css:[I.l0.rowWithGap(4)],children:(0,a.tZ)(O,{price:300,period:"month"})})]}),(0,a.BX)(I.xv,{multiline:!0,children:["For any Always On or Boost Power Ups you're currently paying for using Cycles, your pricing won\u2019t change until March 2023."," ",n?"In addition, your Hacker plan benefits won\u2019t change until March 2023.":"Similarly, if you've purchased the Private Repls Power Up, your pricing won't change until March 2023."]}),(0,a.BX)(I.G7,{css:[I.l0.flex.row,I.l0.align.center,I.l0.justify.spaceBetween],children:[(0,a.tZ)(I.ZP,{text:"Learn more",iconRight:(0,a.tZ)(P.ExternalLink,{}),href:U.TT.REPRICING_BLOG_POST,target:"_blank",css:{width:120}}),(0,a.tZ)(I.zx,{text:"Got it",onClick:r,colorway:"primary",css:{width:120}})]})]})})}var X=t(70338),F=t(69779),W=t(91131),z=t(52875),j=t(69346),H=t(81255),V=t(33279),Y=t(5257),q=t(57263),$=t(53800);function K(e,n){var t=0,r=[];return n.forEach((function(n){var i=n.from,o=n.to,a=e.slice(t,i);a&&r.push({text:a,match:!1});var l=e.slice(i,o);l&&r.push({text:l,match:!0}),t=o})),t<e.length&&r.push({text:e.slice(t),match:!1}),r}var Q=(0,l.iv)({transitionProperty:"color",transitionDuration:q.H.duration,transitionTimingFunction:q.H.timingFunction}),J=(0,l.iv)([I.l0.flex.shrink(1),I.l0.truncate,Q]),ee={normal:{matched:I.TV.foregroundDefault,unmatched:I.TV.foregroundDimmer},dimmed:{matched:I.TV.foregroundDimmer,unmatched:I.TV.foregroundDimmest}};function ne(e){var n,t=null===(n=e.highlight)||void 0===n?void 0:n.filter((function(e){return e.to>0})),r=e.dimmed?ee.dimmed:ee.normal;return(null===t||void 0===t?void 0:t.length)?(0,a.tZ)(I.G7,{css:J,children:K(e.text,t).map((function(e,n){return(0,a.tZ)("span",{css:Q,style:{fontWeight:e.match?I.TV.fontWeightBold:I.TV.fontWeightRegular,color:e.match?r.matched:r.unmatched},children:e.text},e.text+n)}))}):(0,a.tZ)(I.G7,{style:{color:r.matched},css:[J,Q],children:e.text})}var te=t(54992),re=t(21131),ie=t(18172),oe=(0,W.cn)({chat:"unread"}),ae=(0,W.cn)(null,(function(e,n,t){n(oe,(function(e){return(0,ie.ZP)(e,(function(e){t.indicatorType?e[t.paneType]=t.indicatorType:delete e[t.paneType]}))}))}));function le(e){var n=e.paneType,t=(0,re.Z)((function(){return(0,W.cn)((function(e){return n?e(oe)[n]:void 0}))}),[n]);return(0,W.Dv)(t)}var ce=(0,l.iv)([I.l0.borderRadius("full"),I.l0.position.absolute,I.l0.top(-3),I.l0.right(-3)]);function se(e){var n=e.color,t=void 0===n?I.TV.redStronger:n,r=e.small?6:8;return(0,a.tZ)(I.G7,{style:{backgroundColor:t,width:r,height:r},css:ce})}var ue=(0,l.iv)({transitionDuration:q.H.duration,transitionTimingFunction:q.H.timingFunction}),de={background:(0,l.iv)([ue,{transitionProperty:"background-color"}]),opacity:(0,l.iv)([ue,{transitionProperty:"opacity"}]),color:(0,l.iv)([ue,{transitionProperty:"color"}])},pe={root:(0,l.iv)([I.l0.p(8),de.background,I.l0.align.center,I.l0.rowWithGap(8)]),iconSurface:(0,l.iv)([I.l0.p(8),I.l0.borderRadius(8),I.l0.position.relative,de.background])},fe={root:(0,l.iv)([de.opacity,{opacity:.7}]),active:(0,l.iv)({opacity:1})};function he(e){var n=e.pane,t=e.active,r=e.highlight,i=(0,$.Se)(),o=i.Icon({pane:n,size:16}),l=i.getTitle(n),c=le({paneType:n.type});return(0,a.BX)(I.Tg,{elevated:t,css:pe.root,children:[(0,a.tZ)(I.Tg,{elevated:!0,css:pe.iconSurface,children:(0,a.BX)(I.G7,{css:[fe.root,e.active&&fe.active],children:[o,c?(0,a.tZ)(se,{}):null]})}),(0,a.tZ)(ne,{dimmed:!t,text:l,highlight:r})]})}var ve=(0,l.iv)([I.l0.p(8),de.background]);function me(e){return(0,a.tZ)(I.Tg,{elevated:e.active,css:ve,children:e.children})}var ge={root:(0,l.iv)([ve,I.l0.rowWithGap(8),I.l0.align.center]),iconText:(0,l.iv)([I.l0.rowWithGap(8),I.l0.align.start]),description:(0,l.iv)([I.l0.truncate,I.l0.flex.growAndShrink(1),{fontSize:I.TV.fontSizeSmall}]),shortcut:(0,l.iv)({justifySelf:"end",marginLeft:"auto"})};function Ze(e){return(0,a.BX)(I.Tg,{elevated:e.active,css:ge.root,children:[(0,a.BX)(I.G7,{css:[ge.iconText],children:[(0,a.tZ)(I.G7,{css:[fe.root,e.active&&fe.active],children:(0,g.cloneElement)(e.icon)}),(0,a.tZ)(ne,{dimmed:!e.active,text:e.text,highlight:e.highlight})]}),e.description?(0,a.tZ)(I.G7,{style:{color:e.active?I.TV.foregroundDimmer:I.TV.foregroundDimmest},css:ge.description,children:e.description}):null,e.shortcut?(0,a.tZ)(I.G7,{css:ge.shortcut,children:(0,a.tZ)(V.Z,{shortcut:e.shortcut,small:!0})}):null]})}function ye(e){var n=e.item,t=e.active,r=n.data,i=n.match.render,o="openPane"===r.type?r.pane:void 0,l=i&&"content"in i?i.content:void 0,c=i&&"ranges"in i?i.ranges:void 0;if(l)return(0,a.tZ)(me,{active:t,children:(0,g.cloneElement)(l,{active:t})});var s=o&&!(0,te.KM)(o)?o:null,u=r.label,d=r.icon;return s?(0,a.tZ)(he,{active:t,pane:s,highlight:c}):(0,a.tZ)(Ze,{active:t,icon:d,text:u,highlight:c,description:r.description,shortcut:r.keyboardShortcut})}var be=t(8941),we={root:(0,l.iv)([I.l0.px(8),I.l0.pb(2),I.l0.rowWithGap(4),I.l0.align.center,{marginTop:8}]),text:(0,l.iv)([I.l0.flex.shrink(1)])};function xe(e){var n=e.path.slice(e.currentPathIndex+1).filter((function(e){return e.data.label}));if(!n.length)return null;var t=(0,F.Z)(new Set(n.map((function(e){return e.data.label}))));return(0,a.tZ)(I.G7,{css:we.root,children:t.map((function(e,n){return(0,a.BX)(g.Fragment,{children:[n>0?(0,a.tZ)(be.Z,{size:12,color:I.TV.foregroundDimmest}):null,(0,a.tZ)(I.xv,{variant:"small",color:"dimmest",css:we.text,children:e})]},e+n)}))})}var Re=I.KD.div,Te={root:(0,l.iv)([I.l0.flex.shrink(1),I.l0.overflow("auto"),I.l0.pb(8)]),item:(0,l.iv)([{cursor:"pointer"}])};function Ce(e){var n=e.index,t=e.item,r=e.items[n+1];return!!r&&(!!r.isSection||t.path.length!==r.item.path.length)}function ke(e){var n=e.items.length>0;return(0,a.tZ)(Re,(0,z.Z)((0,y.Z)({},e.getMenuProps()),{css:Te.root,style:n?void 0:{height:0,padding:0},children:e.isLoading||n?e.items.map((function(n,t){if(n.isSection)return n.name?(0,a.tZ)(xe,{path:n.path,currentPathIndex:e.currentPathIndex},n.path.map((function(e){return e.data.label})).join("")):null;var r=n.item,i=n.index,o=i===e.highlightedIndex;return(0,a.BX)(g.Fragment,{children:[(0,a.tZ)(Re,(0,z.Z)((0,y.Z)({css:Te.item},e.getItemProps({item:r,index:i})),{children:(0,a.tZ)(ye,{item:r,active:o})})),Ce({item:r,index:t,items:e.items})?(0,a.tZ)(I.Tg,{elevated:!0,style:{margin:8,height:1}}):null]},(0,Y.k)(r))})):null}))}var Ee=(0,g.memo)(ke),Se=(q.H.duration,q.H.timingFunction,{container:(0,l.iv)([I.l0.p(8)]),surface:(0,l.iv)([I.gU.filled,I.l0.viewStyle,I.l0.flex.row,I.l0.align.center,I.l0.flex.growAndShrink(1),I.l0.height(32),{"&:focus-within":I.kN[":focus"]}]),input:(0,l.iv)([I.l0.viewStyle,I.l0.flex.growAndShrink(1),I.l0.fontSize("default"),I.l0.height("100%"),I.l0.px(4),{backgroundColor:"transparent",border:"0 none",outline:"0 none","::placeholder":{color:I.TV.foregroundDimmest},"&:hover::placeholder":{color:I.TV.foregroundDimmer},"&:focus::placeholder, &:hover:focus::placeholder":{color:I.TV.foregroundDimmest}}]),closeButton:(0,l.iv)([I.l0.reset.button,I.l0.viewStyle,I.l0.center,I.l0.height(32),I.l0.px(4),I.l0.cursor.pointer,I.l0.color.foregroundDimmest,{"&:hover":{color:I.TV.foregroundDefault}}])}),Ie={root:(0,l.iv)([I.l0.reset.button,I.l0.viewStyle,I.l0.rowWithGap(4),I.l0.align.center,I.l0.borderRadius(0),I.l0.px(4),I.l0.cursor.pointer,I.l0.color.foregroundDimmer,{"&:hover":{color:I.TV.foregroundDefault}}]),text:(0,l.iv)([I.l0.truncate,I.l0.flex.shrink(1),{fontSize:I.TV.fontSizeDefault}])};function Pe(e){var n=e.command.data,t=n.label,r=n.icon;return(0,a.BX)("button",{css:Ie.root,onClick:e.onClick,children:[(0,g.cloneElement)(r,{size:16}),(0,a.tZ)(I.G7,{css:Ie.text,children:t}),(0,a.tZ)(be.Z,{size:12})]})}function _e(e){return(0,a.tZ)(a.HY,{children:e.path.map((function(n,t){if(0===t)return null;var r=n.data.label+t;return(0,a.tZ)(Pe,{command:n,onClick:function(){return e.onClick(t)}},r)}))})}var De=t(67629),Ue=t(77365),Be=j.K.div,Ae={root:(0,l.iv)([H.l0.flex.growAndShrink(1),H.l0.overflow("hidden"),H.l0.maxHeight("70vh"),H.l0.borderRadius(8)]),inputRow:(0,l.iv)([H.l0.pr(8),I.gU.nofill,H.l0.flex.row,H.l0.align.center,{"&&:hover":{backgroundColor:"transparent"}}]),input:(0,l.iv)([Se.input,H.l0.py(8)])};function Ge(e){var n=(0,Y.Z)({isOpen:!0,onSelect:e.onSelect,initialCommand:e.initialCommand,insertSectionHeaders:!0}),t=n.combobox,r=n.items.length>0,i=n.path.length>1,o=Boolean(n.inputValue)||i;return(0,a.BX)(I.Tg,{css:Ae.root,elevated:!0,children:[(0,a.BX)(Be,(0,z.Z)((0,y.Z)({},t.getComboboxProps()),{css:Ae.inputRow,children:[(0,a.tZ)(_e,{path:n.path,onClick:function(e){return n.resetToIndex({index:e,focus:!0})}}),(0,a.tZ)("input",(0,y.Z)({style:{paddingLeft:i?0:8},css:Ae.input},t.getInputProps({value:n.inputValue,autoFocus:!0,ref:n.inputRef,onChange:function(e){return n.setInputValue(e.currentTarget.value)},onKeyDown:function(t){"Enter"===t.key&&0===n.items.length&&e.onSubmit?e.onSubmit(t.currentTarget.value):"ArrowLeft"!==t.key&&"ArrowRight"!==t.key?"Backspace"===t.key&&n.handleBackspace():n.handleLeftRightArrow(t.key)},placeholder:n.placeholder}))),o?(0,a.tZ)("button",{css:Se.closeButton,onClick:function(){n.setInputValue(""),n.resetToIndex({index:0,focus:!0})},children:n.isLoading?(0,a.tZ)(Ue.Z,{}):(0,a.tZ)(De.Z,{})}):null,!o&&n.keyboardShortcut?(0,a.tZ)(V.Z,{shortcut:n.keyboardShortcut,small:!0}):null]})),r?(0,a.tZ)(I.Tg,{elevated:!0,style:{height:1}}):null,(0,a.tZ)(Ee,{items:n.itemsWithSections||[],getMenuProps:t.getMenuProps,getItemProps:t.getItemProps,highlightedIndex:t.highlightedIndex,isLoading:n.isLoading,currentPathIndex:n.path.length-1})]})}var Ne=t(99408),Oe=t(93910),Me=t(14994),Le=t(41238),Xe=t(39715),Fe=t(91550),We=t(3218),ze=t(91296),je=t.n(ze),He=t(50009),Ve=t(87653),Ye=t(88961),qe=t(46806),$e=t(63736);function Ke(e){var n=e.path,t=e.line;return(0,a.BX)(I.G7,{css:[I.l0.colWithGap(4),I.l0.align.start,I.l0.flex.growAndShrink(1),I.l0.py(4)],children:[(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(4)],children:[(0,a.tZ)($e.Z,{path:n,size:12}),(0,a.BX)(I.xv,{variant:"small",color:"dimmest",children:[n,":",t.lineNumber]})]}),(0,a.tZ)(He.xK,{source:t.content,matches:t.matches})]})}function Qe(){return(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(8)],children:[(0,a.tZ)(Ye.Z,{}),(0,a.tZ)(I.xv,{color:"dimmest",children:"Something went wrong searching your Repl's contents. Please try again."})]})}function Je(){return(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(8)],children:[(0,a.tZ)(Ye.Z,{}),(0,a.tZ)(I.xv,{color:"dimmest",children:"Displaying only part of the results, try being more specific with your search."})]})}function en(){return(0,a.tZ)(I.G7,{children:(0,a.tZ)(I.xv,{color:"dimmest",children:"Nothing came up searching your Repl's content."})})}var nn={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"};function tn(e){var n,t=je()((function(e,n,t){(0,qe.C)(e).then(n).catch(t)}),200);return(0,Xe.fA)({type:"context",description:"Search through your files",label:"Search",icon:(0,a.tZ)(Ve.Z,{}),keyboardShortcut:e.keyboardShortcut?nn:void 0},{match:(0,Xe.zf)({defaultScore:2}),commands:function(){var l=(0,r.Z)((function(r){var l,c,s,u,d,p,f,h,v,m,g,Z;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r.search?!r.active&&e.activeOnly?[2,[]]:(l=Math.random(),n=l,[4,new Promise((function(n,i){t({query:r.search,container:e.container},n,i)}))]):[2,[]];case 1:if(c=o.sent(),s=c.results,u=c.error,d=c.isPartialResult,l!==n)return[2,[]];if(null!==u)return r.active?[2,[{data:{type:"error",label:"error",icon:(0,a.tZ)(Ye.Z,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(Qe,{})}}}}]]:[2,[]];p=[],f=!0,h=!1,v=void 0;try{for(m=function(){var e=(0,i.Z)(Z.value,2),n=e[0];e[1].forEach((function(e){var t=e.matches[0].column;p.push((0,Xe.fA)({type:"openFile",label:n,icon:(0,a.tZ)($e.Z,{path:n}),deeplink:{path:n,line:e.lineNumber,col:t}},{match:function(){var i=We.Z.match(r.search,e.content);return{score:(null===i||void 0===i?void 0:i.score)||1,render:{content:(0,a.tZ)(Ke,{path:n,line:e})},key:[n,e.lineNumber,t].join(":")}}}))}))},g=Object.entries(s)[Symbol.iterator]();!(f=(Z=g.next()).done);f=!0)m()}catch(y){h=!0,v=y}finally{try{f||null==g.return||g.return()}finally{if(h)throw v}}if(0===p.length&&r.active)return[2,[{data:{type:"output",label:"",icon:(0,a.tZ)(I.G7,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(en,{})}}}}]];if(r.active){if(0===p.length)return[2,[{data:{type:"output",label:"",icon:(0,a.tZ)(I.G7,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(en,{})}}}}]];d&&p.push({data:{type:"error",label:"error",icon:(0,a.tZ)(Ye.Z,{})},match:function(){return{score:1/0,render:{content:(0,a.tZ)(Je,{})}}}})}return[2,p]}}))}));return function(e){return l.apply(this,arguments)}}()})}var rn=t(95068),on=t(12727),an=t(42456),ln=t(57353),cn=t(18374),sn=t(8357),un=t(22371),dn=t(65456);function pn(){var e=(0,Ne.Z)().fs,n=(0,g.useState)({isLoading:!0,isTutorial:!1}),t=n[0],r=n[1];return(0,g.useEffect)((function(){e.watchDir(".",{onChange:function(e){r({isLoading:!1,isTutorial:e.some((function(e){return e.type===dn.Tv.Directory&&e.filename===un.V}))})},onMoveOrDelete:function(){r({isLoading:!1,isTutorial:!1})},onError:function(){r({isLoading:!1,isTutorial:!1})}})}),[e]),t}var fn=t(40705),hn=t(25497);var vn=t(69128),mn=t(63377);function gn(){var e=(0,b.Z)(["\n  query WorkspaceEduPaneEnabled($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isModelSolution\n        isProject\n        isProjectFork\n        owner {\n          __typename\n          ... on Team {\n            id\n            isAdmin\n          }\n          ... on User {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return gn=function(){return e},e}var Zn={},yn=(0,w.Ps)(gn());function bn(){var e,n=function(e){var n=(0,y.Z)({},Zn,e);return x.a(yn,n)}({variables:{replId:(0,mn.Z)()}}).data,t="Repl"===(null===n||void 0===n||null===(e=n.repl)||void 0===e?void 0:e.__typename)?null===n||void 0===n?void 0:n.repl:null;if(!t)return!1;var r=t.owner;return!!r&&(t.isProjectFork&&!t.isModelSolution&&"Team"===r.__typename&&r.isAdmin)}function wn(){var e=(0,b.Z)(["\n  fragment WorkspaceToolPanesRepl on Repl {\n    isProjectFork\n    isModelSolution\n    isProject\n    isProjectFork\n    owner {\n      __typename\n      ... on Team {\n        id\n        isAdmin\n      }\n      ... on User {\n        id\n      }\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n    lang {\n      id\n      key\n      engine\n      supportsGit\n      hasLibSearch\n      supportsPackager3\n      hasDAP\n    }\n    config {\n      isServer\n      isVnc\n    }\n  }\n"]);return wn=function(){return e},e}function xn(){var e=(0,b.Z)(["\n  query WorkspaceToolPanes($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...WorkspaceToolPanesRepl\n      }\n    }\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n  ","\n"]);return xn=function(){return e},e}var Rn={},Tn=(0,w.Ps)(wn()),Cn=(0,w.Ps)(xn(),Tn);var kn=t(92876),En=t(50217),Sn=t(75240),In=t(45528),Pn=t(18962),_n=t(87194),Dn=t(9523);function Un(){var e=(0,b.Z)(["\n  query ReplEnvironment2LoadCurriculum($id: String!) {\n    currentUser {\n      id\n      isTeacher: hasRole(role: TEACHER)\n      ...CrosisContextCurrentUser\n    }\n    repl(id: $id) {\n      ... on Repl {\n        id\n        isProject\n        isProjectFork\n        isModelSolution\n        isModelSolutionFork\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        language\n        origin {\n          id\n          ...CrosisContextRepl\n          origin {\n            id\n            ...CrosisContextRepl\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Un=function(){return e},e}var Bn={},An=(0,w.Ps)(Un(),Dn.D,Dn.C);var Gn=t(25108),Nn=(0,W.cn)(!1);function On(){return(0,W.Dv)(Nn)}function Mn(){var e,n,t=(0,mn.Z)(),i=(0,Ne.Z)().fs,a=function(e){var n=(0,y.Z)({},Bn,e);return x.a(An,n)}({variables:{id:t}}).data,l=(0,W.b9)(Nn),c="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null,s="CurrentUser"===(null===a||void 0===a||null===(e=a.currentUser)||void 0===e?void 0:e.__typename)?a.currentUser:null,u="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)&&a.repl.isModelSolutionFork,d=u?c&&(null===(n=c.origin)||void 0===n?void 0:n.origin):c&&c.origin||null,p=(0,In.b)("Repl"===(null===d||void 0===d?void 0:d.__typename)?{repl:d,currentUser:s||void 0}:null);g.useEffect((function(){c&&s&&c.isProject&&i.stat(".lesson").then((function(e){e.exists||i.createDir(".lesson")}))}),[i,s,c]),g.useEffect((function(){if(c&&(c.isProjectFork||u)&&d&&p){var e=(0,Sn.Z)({onUnrecoverableError:function(e){Gn.error(e),kn.$e((function(n){n.setTag("curriculum-authoring",!0),n.setExtra("originId",d.id),kn.Tb(e)}))}}),n=(0,_n.Z)({container:e});e.connect({context:p,fetchConnectionMetadata:function(){return(0,En.Z)({url:"/data/repls/".concat(c.id,"/get_repl_origin_guest_connection_metadata")})}});var t=e.onConnectionStateChanged(function(){var a=(0,r.Z)((function(r){var a,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(r!==Pn.e.CONNECTED)return[3,8];t(),o.label=1;case 1:return o.trys.push([1,6,7,8]),[4,i.copyDirFromRemote(".lesson",".lesson",n)];case 2:return(a=o.sent()).error?(kn.$e((function(e){e.setTag("curriculum-authoring",!0),e.setExtra("originId",d.id),kn.Tb(new Error("Error copying lesson: ".concat(a.error)))})),[3,5]):[3,3];case 3:return[4,i.stat(".lesson/instructions.md")];case 4:o.sent().exists&&l(!0),o.label=5;case 5:return[3,8];case 6:return c=o.sent(),kn.$e((function(e){e.setTag("curriculum-authoring",!0),kn.Tb(c)})),[3,8];case 7:return e.destroy(),[7];case 8:return[2]}}))}));return function(e){return a.apply(this,arguments)}}());return function(){return e.destroy()}}}),[i,p,c,d,u,l])}function Ln(){var e,n=function(e){var n=(0,y.Z)({},Rn,e);return x.a(Cn,n)}({variables:{replId:(0,mn.Z)()}}).data,t="Repl"===(null===n||void 0===n||null===(e=n.repl)||void 0===e?void 0:e.__typename)?null===n||void 0===n?void 0:n.repl:null;return t?{repl:t,currentUser:(null===n||void 0===n?void 0:n.currentUser)||null}:{repl:null,currentUser:null}}var Xn=["education","tutorial","instructions","docs","chat","threadInbox","packager","git","debugger","shell","runnerOutput","envEditor","webview","vnc","database","neon","replAuth","markdown","autograder","unitTests","preferences","adminPanel","deployments","sshConfigurator","ghostwriterChat"],Fn=["shell","git","packager","envEditor","database","unitTests","preferences","multiplayer","adminPanel"];function Wn(){var e=Ln(),n=e.repl,t=e.currentUser,r=(0,m.useRouter)(),o=(0,f.T3)(),a=(0,p.D)({controlName:"flag-neon-databases"}),l=(0,p.D)({controlName:"flag-deployments"}),c=(0,p.D)({controlName:"flag-repl-auth-sidebar"}),s=(0,p.D)({controlName:"flag-series-of-tubes"}),u=(0,p.D)({controlName:"flag-ghostwriter-chat-ext"}),d=(0,vn.Z)().language,h=bn(),v=On(),Z=pn().isTutorial,y=(0,fn.x)(),b=function(){var e=(0,Ne.Z)().dotReplit,n=(0,g.useState)(!1),t=n[0],r=n[1];return(0,g.useEffect)((function(){return e.watch((function(e){var n,t;e.error?e.error===hn.Yt.NotFound&&r(!1):r(Boolean(null===e||void 0===e||null===(n=e.config)||void 0===n||null===(t=n.debugger)||void 0===t?void 0:t.support))}))})),t}(),w=(null===t||void 0===t?void 0:t.isAdmin)||Boolean(r.query.debug);return(0,re.Z)((function(){var e=[];if(!n||!t)return e;var r=Boolean(n.config.isServer),p=Boolean(n.config.isVnc),f=n.lang.supportsGit,m=n.lang.key.startsWith("html"),g=!m,x=Boolean(null===y||void 0===y?void 0:y.packageSearch),R=n.isProject||n.isProjectFork,T=b,C=!m,k=!m&&s,E=Boolean(c&&y),S=[[{type:"shell"},!0],[{type:"instructions"},v],[{type:"markdown",data:{path:""}},!0],[{type:"threadInbox"},!0],[{type:"chat"},!0],[{type:"docs"},!0],[{type:"webview"},r||m],[{type:"vnc"},p],[{type:"runnerOutput"},!m],[{type:"git"},f],[{type:"packager"},x],[{type:"envEditor"},g],[{type:"debugger"},T],[{type:"tutorial"},Z],[{type:"database"},C],[{type:"neon"},a],[{type:"replAuth"},E],[{type:"autograder"},R],[{type:"unitTests"},!R&&null!==d],[{type:"education"},Boolean(h)],[{type:"preferences"},!0],[{type:"adminPanel"},w],[{type:"deployments"},l],[{type:"sshConfigurator"},k],[{type:"ghostwriterChat"},u]],I=!0,P=!1,_=void 0;try{for(var D,U=S[Symbol.iterator]();!(I=(D=U.next()).done);I=!0){var B=(0,i.Z)(D.value,2),A=B[0];B[1]&&(o&&!Fn.includes(A.type)||e.push(A))}}catch(G){P=!0,_=G}finally{try{I||null==U.return||U.return()}finally{if(P)throw _}}return function(e,n){return e.sort((function(e,t){return n.indexOf(e.type)-n.indexOf(t.type)}))}(e,o?Fn:Xn)}),[n,t,a,l,c,s,u,d,h,v,Z,y,b,w,o])}var zn=function(e,n,t){return{match:t||Xe.pl,data:{type:"openPane",pane:e,label:n.getTitle(e),icon:n.Icon({pane:e})}}};function jn(){var e=(0,$.Se)();return(0,re.Z)((function(){return(0,W.cn)((function(n){var t=n(rn.EP);return{data:{type:"context",label:"Recent",icon:(0,a.tZ)(Me.Z,{})},commands:function(n){var r=n.search;return t.map((function(n){var t=(0,te.Dp)({path:n});return zn({type:t,data:{path:n}},e,(function(e){return r?(0,Xe.pl)(e):{score:10}}))}))}}}))}),[e])}function Hn(){var e=(0,$.Se)(),n=Wn();return(0,re.Z)((function(){return(0,W.cn)((function(t){var r=t(on.Eh).map((function(e){return t(e.data).type})),i=[],o=!0,a=!1,l=void 0;try{for(var c,s=n[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var u=c.value;(0,te.b)(u.type)&&r.includes(u.type)||i.push(zn(u,e))}}catch(d){a=!0,l=d}finally{try{o||null==s.return||s.return()}finally{if(a)throw l}}return i}))}),[n,e])}var Vn={type:"context",icon:(0,a.tZ)(Le.Z,{}),label:"",description:"Search for tools and files"};function Yn(e){var n=e.paneId,t=(0,Ne.Z)(),r=t.fs,i=t.container,o=Hn(),l=jn(),c=(0,an.A)(),s=(0,ln.T)(),u=function(e){var n=e.paneId,t=(0,sn.D)();return(0,re.Z)((function(){return function(e){var r=e.path,i={type:(0,te.Dp)({path:r}),data:{path:r}};t({paneId:n,data:i,makeActive:!0})}}),[n,t])}({paneId:n}),d=(0,re.Z)((function(){return(0,W.cn)((function(e){var n=e(o),t=e(l),d={data:{type:"context",label:"Search",icon:(0,a.tZ)(cn.Z,{})},commands:function(){return[(0,Fe.i)({openFile:u,fs:r,shouldHideFile:s,getRecentFiles:c}),tn({container:i})]}},p={data:{type:"context",label:"Tools",icon:(0,a.tZ)(cn.Z,{})},commands:function(){return(0,F.Z)(n)}};return{data:Vn,commands:function(){return[t,d,p]}}}))}),[i,r,c,o,s,l,u]);return(0,W.Dv)(d)}var qn=(0,W.cn)(!1),$n=(0,W.cn)(null,(function(e,n,t){if(e(qn))return n(Kn,null),void n(qn,!1);t&&n(Kn,t),n(qn,!0)})),Kn=(0,W.cn)(null),Qn=(0,W.cn)([]);function Jn(){var e=function(){var e=Hn();return(0,re.Z)((function(){return(0,W.cn)((function(n){var t=n(Qn),r=n(e),i={data:{type:"context",label:"Tools",icon:(0,a.tZ)(cn.Z,{})},commands:function(){return r}};return{data:Oe.$,commands:function(){return(0,F.Z)(t).concat([i])}}}))}),[e])}(),n=(0,re.Z)((function(){return(0,W.cn)((function(n){var t=n(e),r=n(Kn);return r?[t,r]:t}))}),[e]);return(0,W.Dv)(n)}var et=t(58967),nt=t(16965),tt=t(47875);function rt(e,n){if("object"!==typeof n)return null;var t="string"===typeof n.action?n.action:null;if(!t)return null;if("layout"===e){if("split"===t){var r="string"===typeof n.pane?{type:n.pane}:{type:"commands",data:{autoFocus:!1}};return{action:n.action,placement:n.placement,pane:r}}if("reset"===t)return{action:"resetLayout"}}if("file"===e){var i="string"===typeof n.path?n.path:null;return i&&("openOrCreate"===n.action||"delete"===n.action)?{action:n.action,path:i}:null}if("tabs"===e){if("close"===t&&"string"===typeof n.type)return{action:"closeTab",type:n.type};if("open"===t)return{action:"openTab",pane:"string"===typeof n.type?{type:n.type}:{type:"commands",data:{autoFocus:!1}}}}return"codegen"===e&&"generate"===t&&"string"===typeof n.prompt?{action:"generate",prompt:n.prompt}:null}var it=t(71171),ot=t.n(it),at=t(72676),lt=t(68963),ct=t(15961),st=t(57416),ut=t(50146),dt=t(63567),pt=t(46242),ft=t(51894),ht=t(17780),vt=t(57418),mt=t(3032),gt=t(78120);function Zt(e){return yt.apply(this,arguments)}function yt(){return(yt=(0,r.Z)((function(e){var n;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:if(!ht.l)throw new Error("Expected apolloClient");return[4,ht.l.query({query:ft.R1,variables:{input:e}})];case 1:if("GenerateCodeResult"!==(n=t.sent().data).generateCode.__typename)throw new Error(n.generateCode.__typename);return[2,n.generateCode.code]}}))}))).apply(this,arguments)}var bt=(0,W.cn)(null,(function(e,n){n(at.iH,{tiling:null,floating:[]})})),wt=((0,W.cn)(null,(function(e,n){var t=ot()(),r=e(rn.g4);n(at.iH,(0,ie.ZP)(r,(function(e){(0,lt.m)(e,{id:ot()(),relativeTo:["tiling"],placement:"replace",panes:[t]})})))})),(0,W.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,i,a,l,c,s,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:switch(r=t.action,i=t.fs,r.action){case"openOrCreate":return[3,1];case"delete":return[3,7];case"split":return[3,9];case"openTab":return[3,10];case"closeTab":return[3,11];case"resetLayout":return[3,12];case"clearLayout":return[3,13];case"generate":return[3,14]}return[3,17];case 1:return[4,i.stat(r.path)];case 2:return o.sent().exists?[3,6]:[4,i.writeFile(r.path,"")];case 3:return o.sent(),[4,i.flush()];case 4:return o.sent(),[4,i.persist({skipDebounce:!0})];case 5:o.sent(),o.label=6;case 6:return n(mt.U,{path:r.path}),[3,17];case 7:return[4,i.deleteFile(r.path)];case 8:return o.sent(),[3,17];case 9:return a=e(st.J1),n(ct.g2,{panes:[r.pane],placement:r.placement,makeActive:!1,relativeTo:a||["tiling"]}),[3,17];case 10:return n(pt.Q0,{pane:r.pane}),[3,17];case 11:return"*"===r.type?n(bt,{}):n(ut.AW,r.type),[3,17];case 12:return n(dt.B,{}),[3,17];case 13:return n(bt,{}),[3,17];case 14:return(l=e(rn.QP))||(c=e(on.Eh).find((function(n){return"codeEditor"===e(n.data).type})))&&"codeEditor"===(s=e(c.data)).type&&(l=s.data.path),l?[4,Zt({language:(0,vt.Sf)(l),replId:t.replId,prompt:r.prompt})]:[2];case 15:return u=o.sent(),[4,new Promise((function(e,n){if(l)var t=i.watchTextFile(l,{onError:function(t){n(t),e()},onReady:function(n){var r=n.writeChange,i=n.initialContent;r(gt.as.of({from:i.length,insert:u},i.length)),t(),e()}});else n(new Error("Expected path"))}))];case 16:return o.sent(),[3,17];case 17:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())),xt="https://llmide.amasad.repl.co";function Rt(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,r.Z)((function(e){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch(xt+"/"+encodeURIComponent(e),{mode:"cors"})];case 1:return[4,n.sent().json()];case 2:return[2,{json:n.sent(),error:null}];case 3:return[2,{json:null,error:n.sent()}];case 4:return[2]}}))}))).apply(this,arguments)}var Ct=(0,W.cn)(!1),kt=(0,W.cn)(!1);function Et(e){var n=e.isOpen,t=e.onDone,a=(0,Ne.Z)().fs,l=(0,nt.Z)(t),c=(0,tt.Q)("flagGhostrunner"),s=(0,mn.Z)(),u=(0,re.Z)((function(){return(0,W.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,c,u,d,p,f,h,v,m;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e(tt.H).flagGhostrunner?(n(Ct,!0),[4,Rt(t)]):[2];case 1:if((r=o.sent()).error)return n(Ct,!1),n(kt,!0),[2];if(c=function(e){if("object"!==typeof e)return{error:"not an object",actions:null};var n=e&&"result"in e?e.result:null;if(!Array.isArray(n))return{error:"no commands",actions:null};var t=[],r=!0,o=!1,a=void 0;try{for(var l,c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var s=l.value;if("object"===typeof s){var u=!0,d=!1,p=void 0;try{for(var f,h=Object.entries(s)[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=(0,i.Z)(f.value,2),g=rt(v[0],v[1]);g&&t.push(g)}}catch(m){d=!0,p=m}finally{try{u||null==h.return||h.return()}finally{if(d)throw p}}}}}catch(m){o=!0,a=m}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return 0===t.length?{error:"no commands",actions:null}:{error:null,actions:t}}(r.json),!c.actions)return n(Ct,!1),n(kt,!0),[2];u=!0,d=!1,p=void 0,o.label=2;case 2:o.trys.push([2,7,8,9]),f=c.actions[Symbol.iterator](),o.label=3;case 3:return(u=(h=f.next()).done)?[3,6]:(v=h.value,[4,n(wt,{fs:a,action:v,replId:s})]);case 4:o.sent(),o.label=5;case 5:return u=!0,[3,3];case 6:return[3,9];case 7:return m=o.sent(),d=!0,p=m,[3,9];case 8:try{u||null==f.return||f.return()}finally{if(d)throw p}return[7];case 9:return n(Ct,!1),l.current(),[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())}),[l,a,s]),d=(0,W.b9)(u);return(0,g.useEffect)((function(){if(c&&n&&window.webkitSpeechRecognition){var e=new window.webkitSpeechRecognition;e.onresult=function(e){var n=e.results[0][0].transcript;d(n)},e.start()}}),[d,c,n]),d}function St(){var e=(0,W.Dv)(Ct);return(0,W.Dv)(kt)?(0,a.tZ)(It,{}):e?(0,a.tZ)(I.Tg,{elevated:!0,css:[I.l0.coverContainer,I.l0.borderRadius(8),I.l0.center],children:(0,a.tZ)(Ue.Z,{})}):null}function It(){var e=(0,W.b9)(kt);return(0,g.useEffect)((function(){var n=setTimeout((function(){e(!1)}),600);return function(){clearTimeout(n)}}),[e]),(0,a.tZ)(I.Tg,{elevated:!0,css:[I.l0.coverContainer,I.l0.borderRadius(8),I.l0.center],children:(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(8),I.l0.align.center],children:[(0,a.tZ)(Ye.Z,{color:I.TV.accentNegativeDefault}),(0,a.tZ)(I.xv,{children:"Something went wrong, try again"})]})})}function Pt(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0}).enabled,t=(0,W.b9)(Qn);(0,g.useEffect)((function(){if(n)return t((function(n){return(0,F.Z)(n).concat([e])})),function(){t((function(n){return n.filter((function(n){return n!==e}))}))}}),[t,e,n])}function _t(){var e=(0,W.Dv)(qn),n=(0,W.b9)($n),t=Jn(),r=(0,Ne.Z)().session,i=(0,et.Z)("commandBar").trackTimeToLoadFileStart,o=(0,pt.TO)();(0,g.useEffect)((function(){return r.onCommandBarToggled((function(t){t!==e&&n()}))}),[r,n,e]),(0,g.useEffect)((function(){r.setIsCommandBarOpen(e)}),[r,e]);var l=Et({onDone:n,isOpen:e});return(0,a.BX)(I.u_,{hideCloseButton:!0,isOpen:e,onRequestClose:n,noPadding:!0,children:[(0,a.tZ)(Ge,{onSubmit:l,onSelect:function(e){if("openFile"===e.data.type){var t=e.data.deeplink;i(t.path),r.openFile(t.path),r.updateDeeplink(t)}"openPane"===e.data.type&&o({pane:e.data.pane}),"action"===e.data.type&&e.data.run(),n()},initialCommand:t}),(0,a.tZ)(St,{})]})}var Dt=(0,g.memo)(_t),Ut=t(46701),Bt=t(1144),At=t(41709),Gt=t(80856),Nt=t(11731);function Ot(){var e=(0,W.b9)(Nt.a4),n=(0,Gt.Z)({moveOrDeleteFile:e}),t=n.isConverging,r=n.didContentsDiverge,i=n.showMoreDetail,o=n.failedFiles,l=n.failedFilesOptions,c=n.selectedFile,s=n.setSelectedFile,u=n.reviewingPrompt,d=n.onChoice,p=n.local,f=n.remote,h=[I.l0.minHeight("7em"),I.l0.maxHeight("50vh"),I.l0.overflowY("auto"),{"> div":{display:"flex",alignItems:"stretch",width:"100%",height:"100%"},"> div > .cm-editor":{flex:"1 1 auto",width:"100%"}}];return(0,a.tZ)(I.u_,{css:[{maxHeight:"90%",maxWidth:"90%"}],preventClose:!0,isOpen:r,onRequestClose:function(){},children:(0,a.BX)(I.G7,{css:[I.l0.colWithGap(24)],children:[(0,a.tZ)(Bt.h,{level:3,variant:"headerDefault",children:"Replit is out of sync!"}),(0,a.BX)(Bt.x,{multiline:!0,children:["Sometimes Replit has trouble making sure everyone's code is the same. Let us know which version of"," ",o.length>1?"these files":"this file"," you'd like to keep."," ",o.length>1?(0,a.BX)("strong",{children:["There are ",o.length," files impacted by this."]}):""]}),t?(0,a.tZ)(P.Loader,{}):(0,a.BX)(a.HY,{children:[l.length?(0,a.tZ)(I.Ph,{initialSelectedItem:l[0],selectedItem:l.find((function(e){return e.path===c})),items:l,onChange:function(e){s(e.path)}}):null,i?(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(16),I.l0.justify.start,I.l0.align.center,I.l0.pt(16),I.l0.p(8),I.l0.backgroundColor.redDimmest,I.l0.font.code],children:[(0,a.tZ)(Bt.x,{variant:"subheadDefault",children:"Debug View"}),(0,a.BX)(Bt.x,{children:["Divergence type: ",null===u||void 0===u?void 0:u.case]})]}):null,(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(8)],children:[(0,a.BX)(I.G7,{css:[I.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,a.tZ)(Bt.x,{variant:"subheadDefault",children:"My changes"}),(0,a.tZ)(I.Tg,{elevated:!0,css:[I.l0.flex.growAndShrink(1),I.l0.py(8)],children:(0,a.tZ)(I.G7,{css:h,children:(0,a.tZ)(At.q,{diffViewer:p})})}),(0,a.BX)(I.G7,{css:[I.l0.pt(16)],children:[(0,a.tZ)(Bt.x,{multiline:!0,css:[I.l0.textAlign.center],children:"This might disrupt other people's work or create unexpected bugs."}),(0,a.tZ)(I.zx,{onClick:function(){d("local")},text:"Reset to Mine"})]})]}),(0,a.BX)(I.G7,{css:[I.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,a.tZ)(Bt.x,{variant:"subheadDefault",children:"Shared changes"}),(0,a.tZ)(I.Tg,{elevated:!0,css:[I.l0.flex.growAndShrink(1),I.l0.py(8)],children:(0,a.tZ)(I.G7,{css:h,children:(0,a.tZ)(At.q,{diffViewer:f})})}),(0,a.BX)(I.G7,{css:[I.l0.pt(16),I.l0.justify.end],children:[(0,a.tZ)(Bt.x,{multiline:!0,css:[I.l0.textAlign.center],children:"This is the safest option and won't disrupt other's work."}),(0,a.tZ)(I.zx,{onClick:function(){d("remote")},text:"Sync to Shared",colorway:"primary"})]})]})]})]})]})})}var Mt=t(60523),Lt=t(2858),Xt=t(35621);function Ft(e){var n=e.children,t=g.useRef({fileMap:new Map});return(0,a.tZ)(Mt.Z.Provider,{value:t,children:n})}function Wt(e){var n=e.ui,t=e.services,r=e.replId,i=e.replLanguage,o=e.children,l=(0,re.Z)((function(){return{id:r,language:i}}),[r,i]);return(0,a.tZ)($.kz,{value:n,children:(0,a.tZ)(Ft,{children:(0,a.tZ)(Lt.Z.Provider,{value:t,children:(0,a.tZ)(Xt.Z.Provider,{value:l,children:o})})})})}var zt=t(25602),jt=t(89390),Ht=t(5768),Vt=function(){var e=(0,r.Z)((function(e,n){var t,r,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return(0,zt.u9)()?[4,(0,zt.mv)(e)]:[2,!1];case 1:return t=o.sent(),r=t.path,i=t.line,a=t.col,r?(n.openFile(r,{line:i,col:a}),[2,!0]):[2,!1]}}))}));return function(n,t){return e.apply(this,arguments)}}();function Yt(){return function(){var e=(0,Ne.Z)(),n=e.fs,t=e.session,i=e.dotReplit,a=(0,mn.Z)(),l=(0,W.Dv)(rn.QP),c=(0,nt.Z)(l),s=(0,g.useState)(!1),u=s[0],d=s[1],p=(0,W.Dv)(Ht.Mn),f=(0,g.useRef)(!1);(0,g.useEffect)((function(){if(u&&!f.current)if(l){var e=(0,zt.YM)({path:l}),n=window.location.hash;if(n.slice(1)!==l&&!n.startsWith(e+":")){var t=new URL(window.location.href);t.hash=e,window.history.pushState(null,"",t)}}else{if(!window.location.hash)return;history.pushState("",document.title,window.location.pathname+window.location.search)}}),[u,l]),(0,g.useEffect)((function(){function e(){return(e=(0,r.Z)((function(){var e;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return p?c.current?(d(!0),[2]):[4,Vt(n,t)]:[2];case 1:return e=r.sent(),d(!0),e||c.current||"saved"===p||(0,jt.P)(n,t,i,a),[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t,i,a,c,p]),(0,g.useEffect)((function(){if(p){var e=function(){var e=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return f.current=!0,[4,Vt(n,t)];case 1:return e.sent(),f.current=!1,[2]}}))}));return function(){return e.apply(this,arguments)}}();return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}}),[p,n,t])}(),null}var qt=t(24888),$t=t(1557),Kt=t(37424);function Qt(){var e=(0,Ne.Z)().fs,n=(0,g.useState)(!1),t=n[0],r=n[1],i=(0,g.useState)(!1),o=i[0],l=i[1],c=(0,Kt.D)();(0,g.useEffect)((function(){if(!o)return e.onDiskQuotaExceeded((function(){r(!0)}))}),[e,o]);var s=function(){r(!1)};return(0,a.tZ)(I.u_,{isOpen:t,onRequestClose:s,children:(0,a.BX)(I.G7,{css:[I.l0.colWithGap(24)],children:[(0,a.BX)(I.h4,{level:3,variant:"headerDefault",children:["Oops! This Repl's disk is full"," ",(0,a.tZ)($t.Z,{color:I.TV.accentNegativeDefault,size:20})]}),(0,a.BX)(I.xv,{multiline:!0,variant:"subheadDefault",children:["Please free up space by deleting some files. You can open the file tree by clicking the ",(0,a.tZ)(qt.Z,{})," icon on the left."]}),(0,a.tZ)(I.xv,{multiline:!0,children:"You can check how much space you are using from the Repl Resources section under the file tree."}),(0,a.tZ)(I.xv,{multiline:!0,variant:"small",children:"We apologize for the inconvenience. We are working on a solution to allow you to boost your disk limits."}),(0,a.BX)(I.G7,{css:I.l0.rowWithGap(8),tag:"label",children:[(0,a.tZ)(I.XZ,{id:c,checked:o,onChange:function(e){return l(Boolean(e.currentTarget.value))}}),(0,a.tZ)(I.xv,{multiline:!0,variant:"small",children:"Do not show this message again for this session."})]}),(0,a.tZ)(I.zx,{onClick:s,text:"Close"})]})})}var Jt=t(63848),er=t(92271);function nr(){var e=(0,Jt.K)(),n=(0,W.Dv)(rn._E),t=(0,er.P9)();if(!e)return null;var r=e.rect,i="detachPreview"===e.type?e.progress:1,o="detachPreview"===e.type?e.rect.height:8,l="detachPreview"===e.type&&i<.98?H.TV.foregroundDefault:H.TV.accentPrimaryDefault,c="detachPreview"===e.type?void 0:H.TV.accentPrimaryDimmer;return(0,a.tZ)("div",{style:{position:"absolute",border:"1px ".concat(i<.98?"dashed":"solid"),pointerEvents:"none",width:r.width,height:r.height,backgroundColor:c,borderColor:l,borderRadius:o,zIndex:t,opacity:"detachPreview"===e.type?.5*i:.2,transform:"translate(".concat(Math.round(r.x),"px, ").concat(Math.round(r.y),"px)"),transition:n?"transform 140ms, width 140ms, height 140ms, border-radius 140ms":void 0},children:"detachPreview"===e.type?(0,a.tZ)(tr,{progress:i}):null})}function tr(e){var n=e.progress;return(0,a.tZ)("div",{style:{width:"100%",height:"100%",transform:"scale(".concat(n,")"),background:"radial-gradient(transparent, ".concat(H.TV.backgroundHighest,")"),borderRadius:"100%"}})}var rr=(0,g.memo)(nr),ir=t(43530),or=t(4368),ar=t(92002);function lr(){var e=(0,b.Z)(["\n  query ExtensionStore {\n    extensionList {\n      id\n      url\n      name\n      description\n      user {\n        id\n        username\n        displayName\n      }\n    }\n  }\n"]);return lr=function(){return e},e}var cr=(0,w.Ps)(lr());function sr(){var e=(0,p.D)({controlName:"flag-iframe-extensions"}),n=(0,W.b9)(ct.g2),t=g.useCallback((function(e){n({panes:[{data:e,type:"extension"}],makeActive:!0,placement:"rightOf"})}),[n]);return Pt({match:Xe.pl,commands:function(e){return e.active||""!==e.search?[{match:Xe.pl,data:{type:"action",label:"URL",icon:(0,a.tZ)(ar.Z,{}),description:"Add an extension by URL",run:function(){var e=prompt("insert extension url");e&&t({url:e,name:"Extension"})}}},{match:Xe.pl,data:{type:"context",label:"Store",icon:(0,a.tZ)(or.Z,{}),description:"Browse the extension store"},commands:function(){var e=(0,r.Z)((function(e){var n,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e.active?[4,null===ht.l||void 0===ht.l?void 0:ht.l.query({query:cr})]:[2,[]];case 1:return!(n=o.sent())||n.error?[2,[]]:(r=n.data.extensionList)?[2,r.map((function(e){return{match:Xe.pl,data:{type:"action",label:e.name,icon:(0,a.tZ)(or.Z,{}),description:null!==(i=e.description)&&void 0!==i?i:"",run:function(){e.url&&t({url:e.url,name:e.name})}}}}))]:[2,[]]}}))}));return function(n){return e.apply(this,arguments)}}()},{match:Xe.pl,data:{type:"action",label:"Docs",icon:(0,a.tZ)(ir.Z,{}),description:"Read the extensions docs",run:function(){t({url:"/extensions-docs",name:"Extension"})}}}]:[]},data:{type:"context",label:"Extensions",icon:(0,a.tZ)(or.Z,{}),description:"Manage extensions"}},{enabled:e}),null}var ur=t(51995),dr=t(91082),pr=t(83475),fr=t(9117),hr=t(48920),vr=t(11070),mr=t(1879),gr={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"Enter"};function Zr(){var e=(0,W.b9)($n),n=(0,g.useState)(!1),t=n[0],r=n[1],i=(0,an.A)(),o=(0,Ne.Z)(),l=o.fs,c=o.container,s=o.runner,u=(0,pr.L7)(s),d=(0,ln.T)(),p=(0,mt.C)();(0,fr.x)(Oe.q,{run:function(){e()}}),(0,fr.x)(Fe.q,{run:function(){e(Fe.i({openFile:p,fs:l,shouldHideFile:d,getRecentFiles:i}))}}),(0,fr.x)(nn,{run:function(){e(tn({container:c,keyboardShortcut:!0}))}}),Pt(Fe.i({openFile:p,fs:l,shouldHideFile:d,getRecentFiles:i,keyboardShortcut:!0}));var f=(0,tt.Q)("flagGhostrunner");return Pt(tn({container:c,activeOnly:f})),Pt({match:Xe.pl,data:{type:"action",icon:(0,a.tZ)(ur.Z,{}),label:"Run",description:"Run Repl",run:function(){s.run()},keyboardShortcut:gr}},{enabled:u===hr.A.IDLE}),(0,fr.x)(gr,{run:function(){u===hr.A.RUNNING&&s.stopRun(),s.run()},enabled:u!==hr.A.OFFLINE}),Pt({match:Xe.pl,data:{type:"action",icon:(0,a.tZ)(dr.Z,{}),label:"Stop",description:"Stop Repl",run:function(){s.stopRun()}}},{enabled:u===hr.A.RUNNING}),Pt({match:(0,Xe.zf)({defaultScore:.5}),data:{type:"action",label:"Create",icon:(0,a.tZ)(ar.Z,{}),description:"Create a new Repl",run:function(){r(!0)}}}),(0,a.tZ)(mr.Z,{isOpen:t,onRequestClose:function(){return r(!1)},maxWidth:600,centered:!0,children:(0,a.tZ)(vr.Z,{})})}var yr=(0,g.memo)(Zr),br=t(67573);var wr=t(48505),xr=t(56124),Rr=t(48869),Tr=t(42895),Cr=t(6307);function kr(e,n,t){var r=!!/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)?32:0;if(t){var i=2/3,o=Math.max(e.width,r*i),a=Math.max(e.height,r*i),l="left"===t?1:-1,c=n?0:l*(o-e.width)/2,s=n?l*(a-e.height)/2:0;return{width:n?e.width:o,height:n?a:e.height,x:n?e.x:e.x-(o-e.width)/2+c,y:n?e.y-(a-e.height)/2+s:e.y}}var u=Math.max(e.width,r),d=Math.max(e.height,r);return{width:n?e.width:u,height:n?d:e.height,x:n?e.x:e.x-(u-e.width)/2,y:n?e.y-(d-e.height)/2:e.y}}var Er,Sr="--grip-color",Ir="var(".concat(Sr,")"),Pr=(0,l.iv)((Er={},(0,br.Z)(Er,Sr,H.TV.outlineDimmest),(0,br.Z)(Er,":active, :hover",(0,br.Z)({},Sr,H.TV.foregroundDefault)),Er)),_r=(0,l.iv)([H.l0.position.absolute,H.l0.center,{minWidth:8,minHeight:8},Pr]),Dr=(0,l.iv)({":hover":{transform:"scaleX(4)"}}),Ur=(0,l.iv)({":hover":{transform:"scaleY(4)"}}),Br=(0,l.iv)([H.l0.height("200vh"),H.l0.width("200vw"),{transform:"translate(-50%, -50%)"}]),Ar=(0,l.iv)([{backgroundColor:Ir,transition:"background-color"},H.l0.borderRadius(4)]),Gr=(0,l.iv)([Ar,{transitionDuration:"140ms"}]);function Nr(e){var n=e.snapped,t=e.stacked;return"left"===n?t?(0,a.tZ)(Rr.Z,{color:Ir}):(0,a.tZ)(be.Z,{color:Ir}):t?(0,a.tZ)(xr.Z,{color:Ir}):(0,a.tZ)(wr.Z,{color:Ir})}var Or=function(e){var n,t,r;return n=100/e*1,t=.08,r=.12,Math.min(Math.max(n,t),r)},Mr=function(e){return{default:(0,l.iv)([H.l0.height("horizontal"===e?2:24),H.l0.width("horizontal"===e?24:2),Ar]),active:(0,l.iv)([H.l0.height("horizontal"===e?1:"calc(100%)"),H.l0.width("horizontal"===e?"calc(100%)":1),H.l0.backgroundColor.accentPrimaryDefault]),shared:(0,l.iv)([H.l0.borderRadius(4),{transitionProperty:"width, height, background-color",transitionTimingFunction:"ease-out"}])}},Lr=Mr("horizontal"),Xr=Mr("vertical");function Fr(e){var n=e.rect,t=e.onPointerDown,r=e.onDoubleClick,i=e.stacked,o=e.snapped,l=e.zIndexHovered,c=e.zIndex,s=e.isActive,u=kr(n,i,o),d=(0,Tr.T)(),p=(i?n.width:n.height)<24,f=i?Lr:Xr,h=i?"row-resize":"col-resize";return(0,a.BX)(a.HY,{children:[(0,a.BX)(j.Z,{onPointerDown:t,onDoubleClick:r,onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},style:{width:u.width,height:u.height,transform:"translate(".concat(u.x,"px, ").concat(u.y,"px)"),visibility:p?"hidden":void 0,cursor:h},css:[_r,{zIndex:c},!s&&{":hover":{zIndex:l}}],children:[(0,a.tZ)(j.Z,{css:[H.l0.coverContainer,!s&&(i?Ur:Dr),s&&Br]}),o?(0,a.tZ)(Nr,{snapped:o,stacked:i}):(0,a.tZ)(j.Z,{className:"grip-line",style:{transitionDuration:d?"0s":"".concat(Or(i?n.width:n.height),"s")},css:[Gr,s?f.active:f.default,f.shared]})]}),s?(0,a.tZ)(Cr.a,{cursor:h}):null]})}var Wr=t(12771),zr=t(46689);function jr(e,n){var t=n.leftPath,r=n.percent,i=n.snapPercent,o=void 0===i?0:i,a=(0,Wr.KC)(e,t);if(!a||!(0,zr.r)(a))throw new Error("Expected leftNode");var l=(0,zr.I)(t),c=(0,Wr.KC)(e,l);if("split"!==(null===c||void 0===c?void 0:c.type))throw new Error("Expected splitNode");var s=c.children.indexOf(a);if(-1===s)throw new Error("Expected leftNodeIndex");var u=s+1,d=c.children[u];if(!d)throw new Error("Expected rightNode");if(r<=o){if(a.percent=0,r<0&&s>0)for(var p=Math.abs(r),f=s-1;p>0;){var h=c.children[f];if(h.percent>p){h.percent-=p;break}if(p-=h.percent,h.percent=0,0===f)break;f--}var v=c.children.reduce((function(e,n){return n===d?e:e+n.percent}),0);d.percent=100-v}else{var m=a.percent+d.percent,g=c.children.slice(s).reduce((function(e,n){return e+n.percent}),0);if(r>m-o){if(a.percent=Math.min(g,Math.max(m,r)),d.percent=0,r>m&&u<c.children.length-1)for(var Z=r-m,y=u+1;Z>0;){var b=c.children[y];if(b.percent>Z){b.percent-=Z;break}if(Z-=b.percent,b.percent=0,y===c.children.length-1)break;y++}}else{var w=a.percent-r;d.percent=d.percent+w,a.percent=r}}}var Hr=t(37806);function Vr(e){var n=e.layout,t=e.splitPath,r=e.tilingOptions,i=function(e,n){var t=n.splitPath,r=(0,Wr.KC)(e,t);if(!r||"split"!==r.type)throw new Error("Expected split node");for(var i=100,o=(0,zr.I)(t);o.length;){var a=(0,Wr.KC)(e,o);if(!a)break;o=(0,zr.I)(o),"split"===a.type&&a.stacked===r.stacked&&(i*=a.percent/100)}return i}(n,{splitPath:t}),o=(0,Wr.KC)(n,t);if("split"!==(null===o||void 0===o?void 0:o.type))throw new Error("Expected split node");var a=r.size,l=r.gap,c=r.headerHeight,s=r.inset,u=void 0===s?{top:0,bottom:0,left:0,right:0}:s,d=o.children.length,p=o.stacked?l*(d-1)+c*d:l*(d-1);return i/100*((o.stacked?a.height-(u.top+u.bottom):a.width-(u.left+u.right))-p)}var Yr=t(74418),qr=(0,W.cn)(null),$r=(0,W.cn)(null,(function(e,n,t){if("end"!==t.type)if("update"!==t.type){var r=e(rn.g4),i=t.stacked?window.innerHeight:window.innerWidth,o=(0,Wr.KC)(r,t.leftPath);if(!o||!(0,zr.r)(o)){var a=new Error("Expected left node");throw n(Hr.xm,{error:a,tags:{layoutstate:!0}}),a}var l=(0,zr.I)(t.leftPath),c=o.percent,s=at.pc/i*100,u=null;try{u=Vr({splitPath:l,layout:r,tilingOptions:e(at.Hs)})}catch(w){throw n(Hr.xm,{error:w,tags:{layoutstate:!0}}),w}if(null===u)throw new Error("Expected resizeDistance");n(qr,{stacked:t.stacked,leftPath:t.leftPath,startPercent:c,resizeDistance:u,snapPercent:s,initialLayout:r})}else{var d=e(qr);if(!d){var p=new Error("Expected tilingResize");throw n(Hr.xm,{error:p,tags:{layoutstate:!0}}),p}var f=d.stacked,h=d.leftPath,v=d.startPercent,m=d.resizeDistance,g=d.initialLayout,Z=d.snapPercent,y=v+(f?t.moveDelta.y:t.moveDelta.x)/m*100,b=(0,ie.ZP)(g,(function(e){jr(e,{leftPath:h,percent:y,snapPercent:Z})}));n(at.iH,b)}else n(qr,null)}));var Kr=t(64824),Qr=(0,W.cn)(null,(function(e,n,t){var r=e(rn.g4),i=(0,ie.ZP)(r,(function(e){jr(e,{leftPath:t.leftPath,percent:t.percent})}));n(at.iH,i)}));var Jr=t(93096),ei=t.n(Jr);function ni(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=e.pageX,i=e.pageY,o={x:r,y:i},a={x:0,y:0};n.start&&n.start({mouse:o,shiftKey:e.shiftKey});var l=ei()((function(e){var t={x:e.pageX,y:e.pageY};a={x:t.x-o.x,y:t.y-o.y},n.move({delta:a,shiftKey:e.shiftKey,mouse:t})}),t),c=function(){l.cancel(),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",c),document.removeEventListener("touchcancel",c),n.end&&n.end({delta:a,shiftKey:e.shiftKey})};document.addEventListener("pointermove",l),document.addEventListener("pointerup",c),document.addEventListener("touchcancel",c)}function ti(e){var n=e.handleId,t=(0,W.Dv)((0,on.vv)(n)),r=(0,W.b9)($r),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(0,g.useRef)(e),t=(0,W.b9)(Qr),r=(0,Kr.lV)((0,g.useCallback)((function(e){return e(rn.g4)}),[]));return(0,g.useCallback)((function(i){i.snapped?t({leftPath:i.leftPath,percent:n.current}):Promise.resolve(r()).then((function(r){var o=(0,Wr.KC)(r,i.leftPath);if(!o||!(0,zr.r)(o))throw new Error("Expected split or paneGroup");n.current=o.percent,t({leftPath:i.leftPath,percent:e})}))}),[e,t,r])}(),o=(0,er.bJ)(),l=function(e){var n=e.handleId,t=(0,re.Z)((function(){return(0,W.cn)((function(e){var t=e(qr);return!!t&&n===(0,Yr.xH)({leftPath:t.leftPath})}))}),[n]);return(0,W.Dv)(t)}({handleId:n});return(0,a.tZ)(Fr,{isActive:l,zIndex:l?o.active:o.normal,zIndexHovered:o.hovered,snapped:t.snapped,rect:t.rect,stacked:t.stacked,onDoubleClick:function(){i(t)},onPointerDown:function(e){ni(e,{start:function(){r({type:"start",leftPath:t.leftPath,stacked:t.stacked})},move:function(e){var n=e.delta;r({type:"update",moveDelta:n})},end:function(){r({type:"end"})}})}})}var ri=(0,g.memo)(ti),ii=t(60977);function oi(){var e=(0,b.Z)(["\n  fragment ReplEnvironmentAvatarMenuCurrentUser on CurrentUser {\n    id\n    url\n    username\n    image\n    isHacker\n  }\n"]);return oi=function(){return e},e}function ai(){var e=(0,b.Z)(["\n  query ReplEnvironmentAvatarMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentAvatarMenuCurrentUser\n    }\n  }\n  ","\n"]);return ai=function(){return e},e}var li={},ci=(0,w.Ps)(oi()),si=(0,w.Ps)(ai(),ci);var ui=t(50319);function di(){var e=(0,b.Z)(["\n  fragment MarkLessonCompleteLesson on UserCourseLesson {\n    id\n    lessonSlug\n    timeCompleted\n    course {\n      id\n      courseSlug\n    }\n  }\n"]);return di=function(){return e},e}function pi(){var e=(0,b.Z)(["\n  mutation MarkLessonAsComplete($input: CompleteUserCourseLessonInput!) {\n    completeUserCourseLesson(input: $input) {\n      ... on UpdatedUserCourseLesson {\n        __typename\n        userCourseLesson {\n          id\n          timeCompleted\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return pi=function(){return e},e}var fi={},hi=(0,w.Ps)(di()),vi=(0,w.Ps)(pi());var mi=t(6695);function gi(){var e=(0,b.Z)(["\n  fragment ReplEnvironmentHeaderCurrentUser on CurrentUser {\n    id\n    isSubscribed\n    isFirewallMode\n    isExplorer: hasRole(role: EXPLORER)\n    ...ReplEnvironmentAvatarMenuCurrentUser\n  }\n  ","\n"]);return gi=function(){return e},e}function Zi(){var e=(0,b.Z)(["\n  fragment ReplEnvironmentHeaderRepl on Repl {\n    id\n    slug\n    url\n    isAlwaysOn\n    isOwner\n    isPrivate\n    workspaceCta\n    rootOriginReplUrl\n    lang {\n      id\n      engine\n    }\n    origin {\n      id\n    }\n    currentUserPermissions {\n      editMultiplayers\n      inviteGuests\n      containerWrite\n    }\n    owner {\n      ... on Team {\n        id\n        capabilities {\n          isEducationPlan\n        }\n      }\n      ... on User {\n        id\n      }\n    }\n    template {\n      id\n      isGroupProject\n    }\n    lesson {\n      id\n      ...MarkLessonCompleteLesson\n    }\n    multiplayers {\n      id\n    }\n  }\n  ","\n"]);return Zi=function(){return e},e}function yi(){var e=(0,b.Z)(["\n  query ReplEnvironmentHeader($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        ...ReplEnvironmentHeaderRepl\n        ...WorkspaceHeaderReplMetadataRepl\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironmentHeaderCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return yi=function(){return e},e}var bi={},wi=(0,w.Ps)(gi(),ci),xi=(0,w.Ps)(Zi(),hi),Ri=(0,w.Ps)(yi(),xi,mi.s,wi);var Ti=t(26473),Ci=t(70804),ki=t(87603),Ei=t.n(ki),Si=t(66060);function Ii(e){var n=e.user,t=e.onClick;return(0,a.tZ)(Si.ZP,{placement:"bottom",tooltip:"Observe ".concat(n.username),children:function(e,r){return(0,a.tZ)(j.Z,(0,z.Z)((0,y.Z)({},e),{innerRef:r,onClick:t,children:(0,a.tZ)(I.qE,{size:24,src:n.image||null,username:n.username,ringColor:n.color,css:[H.l0.cursor.pointer,{transition:"all 0.2s ease","&:hover":{filter:"brightness(95%)",boxShadow:H.TV.shadow1}}]})}))}})}var Pi=t(94184),_i=t.n(Pi);function Di(){var e=(0,b.Z)(["\n  fragment UserListModalUser on User {\n    id\n    username\n    image\n  }\n"]);return Di=function(){return e},e}function Ui(){var e=(0,b.Z)(["\n  fragment UserListModalReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      ...UserListModalUser\n    }\n  }\n  ","\n"]);return Ui=function(){return e},e}function Bi(){var e=(0,b.Z)(["\n  query UserListModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        user {\n          id\n          ...UserListModalUser\n        }\n        permissions {\n          id\n          ...UserListModalReplPermission\n        }\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n    currentUser {\n      id\n    }\n  }\n  ","\n  ","\n"]);return Bi=function(){return e},e}var Ai={},Gi=(0,w.Ps)(Di()),Ni=(0,w.Ps)(Ui(),Gi),Oi=(0,w.Ps)(Bi(),Gi,Ni);var Mi=t(58502);function Li(){var e=(0,Ne.Z)(),n=e.session,t=e.presence;return g.useCallback((function(e){var r=e.username,i=e.id,o=t.getFollowedUser();if((null===o||void 0===o?void 0:o.username)!==r){t.followUser(r);var a=t.getActiveFileForUser(i),l=n.getActiveFile();a&&a!==l&&n.openFile(a)}else t.unfollowUser()}),[n,t])}var Xi=t(34140);function Fi(e){var n=e.hideModal,t=e.isOpen,r=(0,mn.Z)(),i=(0,Ne.Z)().presence,o=(0,Mi.Z)({presence:i});return(0,a.tZ)(I.u_,{isOpen:t,onRequestClose:n,children:(0,a.tZ)(zi,{replId:r,activeUsers:o,hideModal:n})})}function Wi(e,n){return n.some((function(n){return n.id===e}))}function zi(e){var n=e.replId,t=e.activeUsers,r=e.hideModal,i=function(e){var n=(0,y.Z)({},Ai,e);return x.a(Oi,n)}({variables:{replId:n}}),o=i.data,l=i.loading,c=i.error;if(l)return(0,a.tZ)(I.G7,{css:[I.l0.flex.row,I.l0.justify.center,I.l0.p(32)],children:(0,a.tZ)(Ue.Z,{})});if(c)return(0,a.tZ)("div",{children:c.message});if("Repl"===(null===o||void 0===o?void 0:o.repl.__typename)){var s=o.repl,u=o.currentUser,d=s.user,p=d&&t.find((function(e){return e.username===d.username})),f=s.permissions.filter((function(e){var n=e.user;return n&&Wi(n.id,t)})),h=s.permissions.filter((function(e){var n=e.user;return n&&!Wi(n.id,t)}));return(0,a.BX)(I.G7,{css:[I.l0.colWithGap(24)],children:[(0,a.tZ)(I.h4,{level:1,variant:"headerDefault",children:"Multiplayers"}),(0,a.tZ)(I.xv,{multiline:!0,children:"Users can interact with this Repl in real time."}),(0,a.tZ)(I.G7,{css:[I.l0.maxHeight(330),{overflowY:"auto"}],children:(0,a.BX)(I.G7,{children:[d?(0,a.tZ)(Hi,(0,z.Z)((0,y.Z)({},d),{isOnline:Boolean(p),color:p?p.color:"transparent",isOwner:!0,hideModal:r,canClickAvatar:Boolean(p)&&d.id!==(null===u||void 0===u?void 0:u.id),type:D.aQ.Rw})):null,f.map((function(e){var n=e.type,i=e.user;if(!i)throw new Error("Expected user");var o=t.find((function(e){return e.username===i.username}));if(!o)throw new Error("Expected user online");var l=i.id!==(null===u||void 0===u?void 0:u.id);return(0,a.tZ)(Hi,(0,z.Z)((0,y.Z)({type:n},i),{isOnline:!0,canClickAvatar:l,color:o.color,hideModal:r,isOwner:!1}),"chat-user-list-".concat(i.username))})),h.map((function(e){var n=e.type,t=e.user;if(!t)throw new Error("Expected user");return(0,a.tZ)(Hi,(0,z.Z)((0,y.Z)({type:n},t),{canClickAvatar:!1,isOnline:!1,color:"transparent",hideModal:r,isOwner:!1}),"chat-user-list-".concat(t.username))}))]})})]})}return"ReplRedirect"===(null===o||void 0===o?void 0:o.repl.__typename)?(0,a.BX)("div",{children:["This Repl has moved to"," ",(0,a.tZ)("a",{href:o.repl.replUrl,children:o.repl.replUrl})]}):"SubscriptionExpiredError"===(null===o||void 0===o?void 0:o.repl.__typename)?(0,a.BX)("div",{children:["Your subscription has expired.",(0,a.tZ)("a",{href:"/pricing",children:"Upgrade here"})]}):null}var ji={r:"read only",rw:"can edit"};function Hi(e){var n=e.type,t=e.id,r=e.username,i=e.image,o=e.isOnline,l=e.isOwner,c=e.color,s=e.hideModal,u=e.canClickAvatar,d=Li(),p=function(){u&&(d({username:r,id:t}),s())};return(0,a.BX)("div",{className:Ei().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]])+" "+(_i()("user-list-item-wrapper",{online:o})||""),children:[(0,a.BX)("div",{role:"button",onClick:p,onKeyDown:p,tabIndex:0,className:Ei().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]])+" image",children:[(0,a.tZ)("img",{src:i,alt:"",className:Ei().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]])+" "+((o?"":"offline")||"")}),(0,a.BX)(Xi.T,{children:["Observe ",r]})]}),(0,a.BX)("div",{className:Ei().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]])+" info",children:[(0,a.BX)("div",{className:Ei().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]]),children:[(0,a.BX)("a",{href:"/@".concat(r),target:"_blank",className:Ei().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]]),children:["@",r]}),!o&&" (offline)"]}),(0,a.tZ)("div",{className:Ei().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]]),children:l?"owner":ji[n]})]}),(0,a.tZ)(Ei(),{id:"8abf4fce485dcead",dynamic:[u?"pointer":"auto",c],children:".user-list-item-wrapper.__jsx-style-dynamic-selector{padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-ordinal-group:2;-webkit-order:1;-moz-box-ordinal-group:2;-ms-flex-order:1;order:1}.image.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;cursor:".concat(u?"pointer":"auto","}img.__jsx-style-dynamic-selector{width:40px;height:40px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;border:3px solid ").concat(c,";background:white;-o-object-fit:cover;object-fit:cover}.info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:var(--space-8)}img.offline.__jsx-style-dynamic-selector{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.user-list-item-wrapper.online.__jsx-style-dynamic-selector{-webkit-box-ordinal-group:1;-webkit-order:0;-moz-box-ordinal-group:1;-ms-flex-order:0;order:0}")})]})}var Vi=t(14314);function Yi(e){var n=(0,i.Z)(g.useState(!1),2),t=n[0],r=n[1],o=(0,Vi.aG)(),l=o.length-2;return 0===o.length?null:(0,a.tZ)(I.G7,{css:[I.l0.flex.row,I.l0.align.center],children:(0,a.BX)(I.G7,{tag:"ul",className:"multiplayer-users-container",css:[I.l0.px(8),I.l0.rowWithGap(4),I.l0.align.center],"aria-live":"polite","aria-relevant":"additions removals","aria-label":"online users",children:[l>0?(0,a.tZ)("li",{className:Ei().dynamic([["4498c6c3d18d139f",[q.j.mobileMax+100]]]),children:(0,a.tZ)(I.zx,{onClick:function(){return r(!0)},text:"+ ".concat(l),css:{background:"none"}})}):null,o.slice(0,2).map((function(n){return(0,a.tZ)("li",{className:Ei().dynamic([["4498c6c3d18d139f",[q.j.mobileMax+100]]]),children:(0,a.tZ)(Ii,{user:n,onClick:function(){return e.onAvatarClick(n)}})},n.id)})),(0,a.tZ)(Fi,{isOpen:t,hideModal:function(){return r(!1)}}),(0,a.tZ)(Ei(),{id:"4498c6c3d18d139f",dynamic:[q.j.mobileMax+100],children:".multiplayer-users-container.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector{list-style-type:none}@media only screen and (max-width:".concat(q.j.mobileMax+100,"px){.multiplayer-users-container.__jsx-style-dynamic-selector{display:none}}")})]})})}var qi=t(34193),$i=t(8121),Ki=t(62881),Qi=t(19526),Ji=t(18757),eo=t(64184),no=t(82893),to=t(28898),ro=t(93058),io=t(30019),oo=t(44781),ao=t(27206),lo=t(69049),co=t(6951);function so(e){var n=e.value,t=e.onButtonPress,r=e.statusText,i=void 0===r?"":r,o=e.image,l=e.filterValue,c=e.type,s=e.Icon;return(0,a.BX)("div",{className:"jsx-a16e88ad40d0e05c "+(_i()("multiplayer-item",{"is-editable":!!t})||""),children:[(0,a.BX)(Qi.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(to.Z,{size:"s",url:null!==o&&void 0!==o?o:""}),(0,a.tZ)("div",{className:"jsx-a16e88ad40d0e05c label",children:l?(0,a.tZ)(He.gr,{source:n,match:l}):"".concat(n," ").concat(i)}),!!t&&(0,a.tZ)(co.Z,{className:"remove-button",border:!1,filled:!1,"aria-label":"Remove ".concat(c||"email invite"),role:"tooltip","data-microtip-position":"left",onClick:t,children:s?(0,a.tZ)(s,{size:12,className:"jsx-a16e88ad40d0e05c"}):null})]}),(0,a.tZ)(Ei(),{id:"a16e88ad40d0e05c",children:".multiplayer-item.jsx-a16e88ad40d0e05c{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c{padding-right:var(--space-8)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c:hover{background-color:var(--background-root)}.label.jsx-a16e88ad40d0e05c{margin-right:auto}"})]})}var uo=t(4158);function po(e){var n=e.email,t=e.onInvite,r=e.onCancel;return(0,a.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa root",children:[(0,a.tZ)(io.Z,{level:3,align:"center",children:"Are you sure?"}),(0,a.BX)(oo.Z,{align:"center",children:[(0,a.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa message",children:"Adding an external user as a guest to this repl will give the user read and write access. Please confirm the below email address before inviting the user as a guest."}),(0,a.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa email",children:n})]}),(0,a.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa controls",children:[(0,a.tZ)(co.Z,{onClick:r,children:"Cancel"}),(0,a.tZ)(co.Z,{filled:!0,color:"primary",onClick:t,children:"Invite"})]}),(0,a.tZ)(Ei(),{id:"1a6ae4ac10e8f1fa",children:".root.jsx-1a6ae4ac10e8f1fa{color:var(--foreground-default);padding:var(--space-24);display:grid;grid-gap:var(--space-24)}.controls.jsx-1a6ae4ac10e8f1fa{display:grid;grid-gap:var(--space-8);grid-auto-flow:column}.message.jsx-1a6ae4ac10e8f1fa{padding-bottom:var(--space-16)}"})]})}var fo=t(75474),ho=t(34847);function vo(e){var n,t,r=e.replId,o=(0,$i.JT)({variables:{replId:r}}),l=o.data,c=o.loading,s=(null===l||void 0===l||null===(n=l.currentUser)||void 0===n?void 0:n.id)||null,u=(0,ro.Z)(),d=u.showConfirm,p=u.showError,f=(0,i.Z)(g.useState(""),2),h=f[0],v=f[1],m=(0,i.Z)((0,$i.fS)({onError:function(e){return p(e.message)},onCompleted:function(e){var n=e.addMultiplayerUser.user;(0,ii.j)(ii.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"username"});var t=n?"@".concat(n.username):"Member";d("".concat(t," added"))}}),2),Z=m[0],y=m[1],b=(0,i.Z)((0,$i.HM)({onError:function(e){return p(e.message)},onCompleted:function(e){var n=e.removeMultiplayerUser.user,t=n?"@".concat(n.username):"Member";d("".concat(t," removed"))}}),2),w=b[0],x=b[1],R="Repl"===(null===l||void 0===l?void 0:l.repl.__typename)?l.repl:null,T=(0,i.Z)((0,Ki.Sv)({onError:function(e){p(e.message)},update:function(e,n){var t,i=null===(t=n.data)||void 0===t?void 0:t.createMultiplayerInvite2;if(i)if("UserError"!==i.__typename){if("MultiplayerInvite"===i.__typename){var o=i.email;return(0,ii.j)(ii.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"email"}),void d("Invited ".concat(o," via email"))}if("ReplPermission"===i.__typename){e.modify({id:e.identify({__typename:"Repl",id:r}),fields:{permissions:function(n){var t=e.writeFragment({data:i,fragment:Ki.L1});return(0,F.Z)(n).concat([t])}}});var a=i.user;(0,ii.j)(ii.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"email"});var l=a?"@".concat(a.username):"Member";d("".concat(l," added"))}}else p(i.message)}}),2),C=T[0],k=T[1],E=(0,i.Z)((0,Ki.Ej)({onError:function(e){return p(e.message)},onCompleted:function(e){if("UserError"!==e.deleteMultiplayerInvite.__typename){if("MultiplayerInvite"===e.deleteMultiplayerInvite.__typename){var n=e.deleteMultiplayerInvite.email;d("Invite for ".concat(n," deleted"))}}else p(e.deleteMultiplayerInvite.message)}}),2),S=E[0],I=E[1];if(R&&!R.owner)throw new Error("Cannot manage members on anon repls");if((null===R||void 0===R?void 0:R.owner)&&"Team"!==(null===R||void 0===R?void 0:R.owner.__typename))throw new Error("Expect repl owned by a team");var P,_,U,B="Team"===(null===R||void 0===R||null===(t=R.owner)||void 0===t?void 0:t.__typename)?R.owner:null,A=null!==(P=null===R||void 0===R?void 0:R.permissions.reduce((function(e,n){return n.user?(0,F.Z)(e).concat([n.user.username]):e}),[]))&&void 0!==P?P:[],G=null===R||void 0===R?void 0:R.permissions.reduce((function(e,n){if(!n.user)return e;var t=n.user;return!h||We.Z.filter(h,[t.username]).length>0?((null===B||void 0===B?void 0:B.members.some((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.id)===t.id})))||e.users.push(t),e):e}),{users:[]}),N=null===R||void 0===R?void 0:R.multiplayerInvites.filter((function(e){return!h||We.Z.filter(h,[e.email]).length>0})),O=null===B||void 0===B?void 0:B.members.reduce((function(e,n){if(!n.user)return e;var t=n.user;if(!(!h||We.Z.filter(h,[t.username]).length>0))return e;var r=n.permissions&&n.permissions!==D.SV.Member,i=null===R||void 0===R?void 0:R.permissions.find((function(e){var n;return e.user&&(null===(n=e.user)||void 0===n?void 0:n.id)===t.id}));return r?e.teamAdmins.push(t):(null===i||void 0===i?void 0:i.type)?e.withPermission.push(t):e.withoutPermission.push(t),e}),{teamAdmins:[],withPermission:[],withoutPermission:[]}),M=null===O||void 0===O?void 0:O.teamAdmins.some((function(e){return e.id===s})),L=(null!==(_=null===G||void 0===G?void 0:G.users.length)&&void 0!==_?_:0)+(null!==(U=null===N||void 0===N?void 0:N.length)&&void 0!==U?U:0),X=null===R||void 0===R?void 0:R.currentUserPermissions.editMultiplayers,W=null===R||void 0===R?void 0:R.currentUserPermissions.inviteGuests,z=Boolean(O&&!O.teamAdmins.length&&!O.withPermission.length&&(!(null===G||void 0===G?void 0:G.users.length)&&!(null===N||void 0===N?void 0:N.length)&&W||!W&&!O.withoutPermission.length)),j=(0,i.Z)(g.useState(null),2),H=j[0],V=j[1];return(0,a.BX)("div",{className:Ei().dynamic([["dc131772cdbb2add",[q.j.mobileMax]]])+" root",children:[(0,a.BX)(Qi.gC,{spacing:2,align:"stretch",children:[(0,a.BX)(Qi.Ug,{children:[(0,a.BX)(io.Z,{level:5,foreground:c?3:1,children:[X?"Add or remove members from this repl":null,c?"Loading...":null]}),X&&W&&!c?(0,a.tZ)("div",{"aria-label":" Add team members or invite external guests via email or username","data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip",className:Ei().dynamic([["dc131772cdbb2add",[q.j.mobileMax]]])+" information-icon-container",children:(0,a.tZ)(uo.Z,{})}):null]}),W?(0,a.tZ)(lo.Z,{existingUsernames:A,onSubmit:function(e){!!e.match(/.+@.+/)&&!k.loading?V(e):y.loading||Z({variables:{username:e,replId:r,type:"rw"}}),v("")},placeholder:X?"Search for users or invite guests":"Filter users",isDisabled:c,onChange:function(e){return v(e)}}):(0,a.tZ)(ao.ZP,{disabled:c,value:h,onChange:function(e){return v(e.currentTarget.value)},placeholder:X?"Filter team members to add or remove":"Filter team members"}),(0,a.tZ)(qi.Z,{isOpen:!!H,onRequestClose:function(){return V(null)},children:H?(0,a.tZ)(po,{email:H,onInvite:function(){C({variables:{email:H,replId:r,type:"rw"}}),V(null)},onCancel:function(){return V(null)}}):null}),(0,a.BX)("div",{className:Ei().dynamic([["dc131772cdbb2add",[q.j.mobileMax]]])+" "+(_i()("multiplayers-list",{"is-empty":z})||""),children:[(null===O||void 0===O?void 0:O.withPermission.length)?(0,a.tZ)("div",{className:Ei().dynamic([["dc131772cdbb2add",[q.j.mobileMax]]])+" list-heading",children:(0,a.BX)(Qi.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(Ji.Z,{size:12}),(0,a.BX)(oo.Z,{foreground:2,size:"small",children:[null===O||void 0===O?void 0:O.withPermission.length," member",1===(null===O||void 0===O?void 0:O.withPermission.length)?"":"s"," with access"]})]})}):null,null===O||void 0===O?void 0:O.withPermission.map((function(e){return(0,a.tZ)(so,{value:e.username,image:e.image,statusText:"(can edit)",type:"member",onButtonPress:M?function(){x.loading||w({variables:{replId:r,username:e.username}})}:void 0,Icon:De.Z},e.id)})),!!L&&(0,a.tZ)("div",{className:Ei().dynamic([["dc131772cdbb2add",[q.j.mobileMax]]])+" list-heading",children:(0,a.BX)(Qi.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(Ji.Z,{size:12}),(0,a.BX)(oo.Z,{foreground:2,size:"small",children:[(0,ho.Z)("guest",L,!0),"with access"]})]})}),null===G||void 0===G?void 0:G.users.map((function(e){return(0,a.tZ)(so,{value:e.username,image:e.image,statusText:"(can edit)",type:"guest",onButtonPress:M?function(){x.loading||w({variables:{replId:r,username:e.username}})}:void 0,Icon:De.Z},e.id)})),null===N||void 0===N?void 0:N.map((function(e){return(0,a.tZ)(so,{value:e.email,statusText:"(pending)",onButtonPress:M?function(){I.loading||S({variables:{replId:r,email:e.email}})}:void 0,Icon:De.Z},e.email)})),!W&&(null===O||void 0===O?void 0:O.withoutPermission.length)?(0,a.tZ)("div",{className:Ei().dynamic([["dc131772cdbb2add",[q.j.mobileMax]]])+" list-heading",children:(0,a.BX)(Qi.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(eo.Z,{size:12}),(0,a.BX)(oo.Z,{foreground:2,size:"small",children:[(0,ho.Z)("member",null===O||void 0===O?void 0:O.withoutPermission.length,!0),"without access"]})]})}):null,!W&&(null===O||void 0===O?void 0:O.withoutPermission.map((function(e){return(0,a.tZ)(so,{value:e.username,image:e.image,type:"member",onButtonPress:X?function(){y.loading||Z({variables:{replId:r,username:e.username,type:"rw"}})}:void 0,Icon:ar.Z},e.id)}))),(null===O||void 0===O?void 0:O.teamAdmins.length)?(0,a.tZ)("div",{className:Ei().dynamic([["dc131772cdbb2add",[q.j.mobileMax]]])+" list-heading",children:(0,a.BX)(Qi.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(no.Z,{size:12}),(0,a.tZ)(oo.Z,{foreground:2,size:"small",children:"Team admins cannot be removed from repls"})]})}):null,null===O||void 0===O?void 0:O.teamAdmins.map((function(e){return(0,a.tZ)("div",{className:Ei().dynamic([["dc131772cdbb2add",[q.j.mobileMax]]])+" "+(_i()("multiplayer-item",{"is-editable":X})||""),children:(0,a.BX)(Qi.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(to.Z,{size:"s",url:e.image}),(0,a.tZ)("div",{className:Ei().dynamic([["dc131772cdbb2add",[q.j.mobileMax]]])+" label",children:h?(0,a.tZ)(He.gr,{source:e.username,match:h}):e.username})]})},e.id)})),z?(0,a.BX)(oo.Z,{foreground:2,align:"center",children:['No members matching "',h,'" found']}):null]}),X||c?null:(0,a.tZ)(oo.Z,{foreground:2,size:"small",children:"Only admins can add and remove members to multiplayer"}),X&&W?(0,a.tZ)(fo.Z,{replId:r}):null]}),(0,a.tZ)(Ei(),{id:"dc131772cdbb2add",dynamic:[q.j.mobileMax],children:".root.__jsx-style-dynamic-selector{padding:var(--space-16);color:var(--foreground-default)}.multiplayers-list.__jsx-style-dynamic-selector{background-color:var(--background-root);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);height:300px;overflow-y:auto}.multiplayers-list.is-empty.__jsx-style-dynamic-selector{display:grid;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:var(--space-16);word-break:break-word}.multiplayer-item.__jsx-style-dynamic-selector{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector{padding-right:var(--space-8)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector:hover{background-color:var(--background-root)}.list-heading.__jsx-style-dynamic-selector{padding:var(--space-16)var(--space-16)0}.label.__jsx-style-dynamic-selector{margin-right:auto}.information-icon-container.__jsx-style-dynamic-selector{margin-left:5px}@media screen and (min-width:".concat(q.j.mobileMax,"px){.root.__jsx-style-dynamic-selector{padding:var(--space-48)}}")})]})}var mo=t(15153);function go(e){var n=e.children,t=e.showPopover,r=(0,h.Z)("announcement","add-guest-new-user"),o=r.shouldDisplay,l=r.register,c=r.dismiss,s=(0,i.Z)(g.useState(!1),2),u=s[0],d=s[1],p=(0,i.Z)(g.useState(!1),2),f=p[0],v=p[1];g.useEffect((function(){t&&!f&&l()}),[f,l,t]);var m=o&&!f;return(0,a.BX)(Ci.Z,{onClickOutside:function(){return v(!0)},isOpen:m,showArrow:!0,borderColor:"var(--accent-purple-default)",children:[n,(0,a.BX)(Qi.gC,{spacing:2,align:"stretch",children:[(0,a.BX)(Qi.Ug,{spacing:1,children:[(0,a.tZ)(mo.Z,{}),(0,a.tZ)(io.Z,{level:5,children:"Invite guests to your repl!"})]}),(0,a.BX)(oo.Z,{children:[" ","Add external guests to your repl for interviews and collaborative projects."," "]}),(0,a.tZ)(Qi.Ug,{spacing:1,justify:"end",children:(0,a.tZ)(co.Z,{loading:u,onClick:function(){d(!0),c()},children:"Got it"})})]})]})}var Zo=t(17467);function yo(e){var n=e.replId;return(0,a.tZ)(I.G7,{css:[I.l0.p(16)],children:(0,a.BX)(I.G7,{css:[I.l0.flex.column,I.l0.colWithGap(8),I.l0.align.stretch],children:[(0,a.tZ)(I.xv,{variant:"subheadDefault",children:"Invite"}),(0,a.tZ)(Zo.Z,{replId:n}),(0,a.tZ)(fo.Z,{replId:n})]})})}var bo=t(88055),wo=((0,W.cn)(null,(function(e,n,t){var r=e(on.Eh).find((function(e){return e.isDialog}));r?n(bo.$,r.paneId):n(xo,t)})),(0,W.cn)(null,(function(e,n,t){var r=e(on.Eh).find((function(e){return e.isDialog}));if(r){var i=e(r.data);i.type!==i.type?(n(bo.$,r.paneId),n(xo,t)):n(sn.v,{paneId:r.paneId,data:t.pane})}else n(xo,t)}))),xo=(0,W.cn)(null,(function(e,n,t){if(!e(on.Eh).find((function(e){return e.isDialog}))){var r=e(rn.g4),i=e(on.CK),o=ot()(),a=i.x+i.width,l=i.y+i.height,c=t.maxWidth||a,s=t.maxHeight||l,u=Math.min(c,.8*a),d=Math.min(s,.8*l),p={width:u,height:d,x:a/2-u/2-i.x,y:l/2-d/2-i.y},f=(0,ie.ZP)(r,(function(e){try{(0,lt.m)(e,{id:ot()(),isFloating:!0,panes:[o],rect:p})}catch(t){throw n(Hr.xm,{error:t,tags:{layoutstate:!0}}),t}}));n(at.iH,f),n(st.W1,o);var h=(0,on.z)(o),v=e(h);n(st.W1,o),n(h,(0,z.Z)((0,y.Z)({},v),{isDialog:!0})),n(v.data,t.pane)}})),Ro=(0,W.cn)(null,(function(e,n){var t=e(on.Eh).find((function(e){return e.isDialog}));t&&n(bo.$,t.paneId)})),To=t(35642),Co=t(61756),ko=t(26082),Eo=t(17495),So=t(42325),Io=t(88075);function Po(e){var n,t=e.replId,r=e.onDone,o=e.isResubmit,l=e.lastUpdated,c=e.openIOtesterPane,s=(0,Ne.Z)().iotester,u=(0,So.CH)({variables:{replId:t}}),d=s.lastRunAt.getTime()>l,p=(0,Eo.xh)({variables:{replId:t}}).data,f="Repl"===(null===p||void 0===p?void 0:p.repl.__typename)?p.repl:null,h=(null===f||void 0===f?void 0:f.template)||null,v=(null===h||void 0===h?void 0:h.dueDate)||null,m=(new Date).toISOString(),g=(0,ro.Z)(),Z=g.showConfirm,y=g.showError,b=(0,i.Z)((0,Eo.xA)({variables:{replId:t},onCompleted:function(e){var n=e.submitRepl;"UserError"!==n.__typename?"Repl"===n.__typename&&(Z("Repl submitted"),r()):y(n.message)},onError:function(e){y(e.message)}}),2),w=b[0],x=b[1],R=d&&s.lastRunDidPass;return"Repl"===(null===(n=u.data)||void 0===n?void 0:n.repl.__typename)&&u.data.repl.ioTests.length>0&&!R?(0,a.BX)(j.Z,{css:[H.l0.colWithGap(24)],children:[(0,a.tZ)(Bt.h,{variant:"headerDefault",level:2,children:d?"Fix test failures before submitting":"Run tests before submitting"}),(0,a.tZ)(Bt.x,{multiline:!0,children:d?"Input/Output tests did not pass.":"Input/Output tests have not been run since this Repl was last changed."}),(0,a.BX)(j.Z,{css:[H.l0.rowWithGap(12),H.l0.justify.end],children:[(0,a.tZ)(Co.ZP,{disabled:x.loading,colorway:"primary",onClick:function(){c(),r()},text:"View tests"}),(0,a.tZ)(Co.ZP,{disabled:x.loading,onClick:function(){return w()},iconLeft:(0,a.tZ)(Io.Z,{}),text:"Submit anyway"})]})]}):(0,a.BX)(j.Z,{css:[H.l0.colWithGap(24)],children:[(0,a.tZ)(Bt.h,{variant:"headerDefault",level:2,children:o?" Resubmit Repl":"Submit Repl"}),(0,a.tZ)(Bt.x,{multiline:!0,children:o?"This will re-notify Team admins about your submission.":"This will submit your Repl for review and notify the Team's admins."}),v&&v<m?(0,a.tZ)(Bt.x,{multiline:!0,css:[H.l0.color.accentNegativeStronger],children:"Note: Your submission is past the due date and will be marked late."}):null,(0,a.BX)(j.Z,{css:[H.l0.rowWithGap(12),H.l0.justify.end],children:[(0,a.tZ)(Co.ZP,{disabled:x.loading,onClick:r,text:"Cancel"}),(0,a.tZ)(Co.ZP,{colorway:"primary",disabled:x.loading,onClick:function(){return w()},iconLeft:(0,a.tZ)(Io.Z,{}),text:o?"Submit again":"Submit"})]})]})}var _o=t(40381),Do=t(48551),Uo=t(19923);function Bo(){var e=(0,b.Z)(["\n  query UpdateModelSolutionModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        origin {\n          id\n          ...TeamProfileRepl\n          template {\n            id\n            dueDate\n          }\n          unitTests {\n            tests {\n              id\n            }\n          }\n          ioTests {\n            id\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Bo=function(){return e},e}function Ao(){var e=(0,b.Z)(["\n  mutation UpdateModelSolution($input: UpdateReplTemplateModelSolutionInput!) {\n    updateReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Ao=function(){return e},e}var Go={},No=(0,w.Ps)(Bo(),Uo.vs);var Oo=(0,w.Ps)(Ao(),Uo.vs);var Mo,Lo=t(28479),Xo=function(e){var n,t,r,o,l,c,s,u,d,p=e.replId,f=e.onDone,h=(0,ro.Z)(),v=h.showConfirm,m=h.showError,Z=function(e){var n=(0,y.Z)({},Go,e);return x.a(No,n)}({variables:{replId:p},onCompleted:function(e){var n,t,r=e.repl;"Repl"===r.__typename&&(null===(n=r.origin)||void 0===n||null===(t=n.template)||void 0===t?void 0:t.modelSolution)&&"ReplTemplateModelSolution"===r.origin.template.modelSolution.__typename&&(S(r.origin.template.modelSolution.visibleAfterSubmitting),D(r.origin.template.modelSolution.visibleAfterPassingTests),A(r.origin.template.modelSolution.visibleAfterDueDate))}}),b=Z.data,w=Z.loading,R=(0,i.Z)(function(e){var n=(0,y.Z)({},Go,e);return ui.D(Oo,n)}({onError:function(e){return m(e)},onCompleted:function(){v("Updated solution"),f()}}),2),T=R[0],C=R[1],k=(0,i.Z)(g.useState(!1),2),E=k[0],S=k[1],P=(0,i.Z)(g.useState(!1),2),_=P[0],D=P[1],U=(0,i.Z)(g.useState(!1),2),B=U[0],A=U[1],G=(0,i.Z)(g.useState(),2),N=G[0],O=G[1],M=(0,Kt.H)();if(g.useEffect((function(){var e="Students can ";if(E||B||_){e+="view the solution after";var n=[];E&&n.push("submitting their project"),_&&n.push("passing all tests"),B&&n.push("the due date has passed");for(var t=0;t<n.length;t++)t>0&&(e+=",",t===n.length-1&&(e+=" and")),e+=" "+n[t];e+="."}else e+="never view the solution.";O(e)}),[E,_,B]),w)return(0,a.tZ)(I.G7,{css:[I.l0.center],children:(0,a.tZ)(Ue.Z,{})});var L="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)&&"Team"===(null===(n=b.repl.owner)||void 0===n?void 0:n.__typename)&&(null===(t=b.repl.owner)||void 0===t?void 0:t.id),X="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)&&(null===(r=b.repl.origin)||void 0===r||null===(o=r.template)||void 0===o?void 0:o.modelSolution);if(!X)return null;var F=X.id,W="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)&&((null===(l=b.repl.origin)||void 0===l?void 0:l.ioTests.length)||(null===(c=b.repl.origin)||void 0===c||null===(s=c.unitTests)||void 0===s?void 0:s.tests.length)),z="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)&&(null===(u=b.repl.origin)||void 0===u||null===(d=u.template)||void 0===d?void 0:d.dueDate);return(0,a.tZ)("form",{onSubmit:function(e){e.preventDefault(),L&&F&&T({variables:{input:{teamId:L,solutionId:F,visibleAfterSubmitting:E,visibleAfterPassingTests:_,visibleAfterDueDate:B}}})},children:(0,a.BX)(I.G7,{css:[I.l0.colWithGap(24)],children:[(0,a.tZ)(I.h4,{level:1,variant:"headerDefault",children:"Update solution"}),(0,a.BX)(I.G7,{css:[I.l0.colWithGap(16)],children:[(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(8)],children:[(0,a.tZ)(I.XZ,{id:M("availableAfterSubmitting"),checked:E,onChange:function(){return S(!E)}}),(0,a.tZ)("label",{htmlFor:M("availableAfterSubmitting"),children:(0,a.tZ)(I.xv,{children:"Available after submitting"})})]}),(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(8)],children:[(0,a.tZ)(I.XZ,{id:M("availableAfterPassingTests"),checked:_,onChange:function(){return D(!_)}}),(0,a.tZ)("label",{htmlFor:M("availableAfterPassingTests"),children:(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(4)],children:[(0,a.tZ)(I.xv,{children:"Available after passing tests"}),(0,a.BX)(I.xv,{children:["(",W?"".concat(W," ").concat((0,ho.Z)("test",W)," defined"):"no tests exist yet",")"]})]})})]}),(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(8),{verticalAlign:"baseline"}],children:[(0,a.tZ)(I.XZ,{id:M("availableAfterDueDate"),checked:B,onChange:function(){return A(!B)}}),(0,a.tZ)("label",{htmlFor:M("availableAfterDueDate"),children:(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(4)],children:[(0,a.tZ)(I.xv,{children:"Available after due date"}),(0,a.BX)(I.xv,{css:{textDecoration:"italic"},children:["(",z?(0,Lo.p)(z):"no due date set yet",")"]})]})})]})]}),(0,a.tZ)(I.E_,{text:"".concat(N),colorway:E||_||B?"positive":"negative"}),(0,a.tZ)(I.G7,{css:{alignItems:"end"},children:(0,a.tZ)(I.zx,{type:"submit",stretch:!1,colorway:"primary",text:"".concat(C.loading?"Saving...":"Save"),iconLeft:(0,a.tZ)(Io.Z,{}),disabled:C.loading})})]})})},Fo=(Mo={},(0,br.Z)(Mo,D.Sy.PublishTemplate,"Publish project"),(0,br.Z)(Mo,D.Sy.EditTemplate,"Edit project"),(0,br.Z)(Mo,D.Sy.Submit,"Submit"),(0,br.Z)(Mo,D.Sy.Resubmit,"Resubmit"),(0,br.Z)(Mo,D.Sy.UpdateModelSolution,"Update solution"),Mo);function Wo(e){var n=e.cta,t=e.replId,r=e.isGroupProject,o=e.openIOtesterPane,l=(0,i.Z)(g.useState(null),2),c=l[0],s=l[1],u=function(){return s(null)},d=(0,_o.Z)(),p=(0,Ne.Z)().fs,f=(0,i.Z)(g.useState(0),2),h=f[0],v=f[1];g.useEffect((function(){if(d&&!(0,Do.T3)(d)&&!(0,Do.sL)(d)){var e=p.watchTextFile(d,{onChange:function(e){e.changeSource===dn.Fl.Local&&v(Date.now())}});return e}}),[d,p,v]);var m=Boolean(c&&[D.Sy.PublishTemplate,D.Sy.EditTemplate].includes(c));return g.useEffect((function(){n===D.Sy.ReviewSubmission&&(To.Z.get("annotations/educationModalDismissed")||(s(n),To.Z.set("annotations/educationModalDismissed",!0)))}),[n]),(0,a.BX)(a.HY,{children:[Fo[n]&&(0,a.tZ)(Co.ZP,{onClick:function(){return s(n)},text:Fo[n],iconLeft:(0,a.tZ)(Io.Z,{})}),(0,a.tZ)(mr.Z,{isOpen:c===D.Sy.Submit||c===D.Sy.Resubmit,onRequestClose:u,maxWidth:512,children:(0,a.tZ)(Po,{replId:t,onDone:u,isResubmit:c===D.Sy.Resubmit,lastUpdated:h,openIOtesterPane:o})}),(0,a.tZ)(qi.Z,{preventClose:!0,isOpen:m,onRequestClose:u,width:r?"large":"medium",children:(0,a.tZ)(ko.Z,{replId:t,onDone:u})}),(0,a.tZ)(mr.Z,{isOpen:c===D.Sy.UpdateModelSolution,onRequestClose:u,maxWidth:600,children:(0,a.tZ)(Xo,{replId:t,onDone:u})})]})}var zo=t(95596),jo=t(95901),Ho=t(36228),Vo=t(6625),Yo=t(88679),qo=t(48287),$o=function(e){return e&&e.args?(e.args&&e.args.length>=3&&"sh"===e.args[0]&&"-c"===e.args[1]?e.args.slice(2):e.args).join(" "):""},Ko=function(e){var n=e.hideModal,t=(0,Ne.Z)(),l=t.dotReplit,c=t.session,s=(0,Vo.Z)(),u=(0,ro.Z)().showError,d=(0,i.Z)(g.useState(!1),2),p=d[0],f=d[1],h=(0,i.Z)(g.useState(""),2),v=h[0],m=h[1],Z=g.useCallback((function(){n(),c.openFile(Yo.Z)}),[c,n]),y=g.useCallback((function(){return u("Failed to update run command, please try again or contact support")}),[u]),b=(0,i.Z)(g.useState(null),2),w=b[0],x=b[1];g.useEffect((function(){var e=function(){var e=(0,r.Z)((function(){var e,n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,l.getConfig()];case 1:return n=r.sent(),s.current?(n.errorMessage?x({error:n.error,errorMessage:n.errorMessage}):x(null),t=null===n||void 0===n||null===(e=n.config)||void 0===e?void 0:e.run,m($o(t)),[2]):[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[l,s]);var R=g.useCallback((0,r.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),e=v?(0,qo.KQ)(v):(0,qo.xz)("run"),f(!0),[4,l.updateDotReplit([e])];case 1:return t.sent(),n(),[3,4];case 2:return t.sent(),y(),[3,4];case 3:return f(!1),[7];case 4:return[2]}}))})),[v,y,l,n]);return(0,a.BX)(I.G7,{css:[H.l0.colWithGap(8),H.l0.p(2),p&&H.l0.cursor.progress],children:[(0,a.tZ)(I.h4,{level:1,variant:"text",css:[H.l0.fontWeight.normal,H.l0.color.foregroundDimmer],children:"Run Command"}),w?(0,a.tZ)(I.xv,{children:w.errorMessage}):(0,a.BX)(a.HY,{children:[(0,a.tZ)(I.II,{value:v,onChange:function(e){return m(e.target.value)},spellCheck:!1}),(0,a.BX)(I.G7,{css:[H.l0.rowWithGap(12),H.l0.mt(12)],children:[(0,a.tZ)(Co.ZP,{onClick:Z,text:"Advanced"}),(0,a.tZ)(I.G7,{css:H.l0.flex.grow(1)}),(0,a.tZ)(Co.ZP,{colorway:"blue",text:"Save",onClick:R})]})]})]})},Qo=t(98146),Jo=t(42699),ea=t(71255),na=t(85565),ta=t(80437),ra=t(97808),ia=t(41034),oa=t(79500),aa=t(30880),la=t(57981),ca="https://linkedin.com/sharing/share-offsite";var sa="https://www.facebook.com/dialog/share?display=page&app_id=1775481339348651";var ua=function(e){var n=e.lessonSlug,t=e.courseSlug,r=(0,ro.Z)().showConfirm;if(!n||!t)return null;var i=(0,ra.QW)(t),o=(0,ra.qv)(t,n);if(!o)return null;var l=o.ordinalLabel,c=(0,ra.tD)(i.socialSharingText,o),s="".concat(c," ").concat(i.sharableLink),u=(0,ea.Z)({text:c,url:i.sharableLink}),d=function(e){var n=e.url;return"".concat(ca,"?url=").concat(encodeURIComponent(n))}({url:i.sharableLink}),p=function(e){var n=e.url,t=e.hashtag,r=e.redirectBackTo,i=new URLSearchParams;i.append("href",n),r&&i.append("redirect_uri",r),t&&(t.startsWith("#")||(t="#".concat(t)),i.append("hashtag",t));var o=i.toString();return"".concat(sa,"&").concat(o)}({url:i.sharableLink,hashtag:i.socialHashtag}),f=[{url:u,icon:na.Z,base:ea.c,cta:"Share on Twitter",color:ta.Z.brands.twitter},{url:d,icon:la.Z,base:ca,cta:"",color:ta.Z.brands.linkedin},{url:p,icon:aa.Z,base:sa,cta:"",color:ta.Z.brands.facebook}];return(0,a.BX)(j.Z,{children:[(0,a.BX)(j.Z,{css:[H.l0.rowWithGap(16),H.l0.align.center,H.l0.pr(24)],children:[(0,a.tZ)(j.Z,{css:{fontSize:48},children:"\ud83e\udd73"}),(0,a.BX)(Bt.x,{variant:"headerDefault",children:["Congrats on completing ",l,"!"]})]}),(0,a.tZ)(Bt.x,{variant:"subheadDefault",css:[H.l0.py(12)],children:"Share your progress"}),(0,a.BX)(j.Z,{css:[H.l0.position.relative,H.l0.borderRadius(8),H.l0.backgroundColor.backgroundHigher,H.l0.py(8),H.l0.px(12)],children:[(0,a.tZ)(j.Z,{css:H.l0.pr(16),children:s}),(0,a.tZ)(I.hU,{css:[H.l0.position.absolute,H.l0.top(8),H.l0.right(8)],alt:"Copy",size:18,tooltipHidden:!0,onClick:function(){r("Copied to clipboard!"),(0,oa.Z)(s),(0,Jo.l)({action:"copied_share_text",lessonSlug:n,courseSlug:t,origin:"lesson_complete_modal"})},children:(0,a.tZ)(ia.Z,{size:16})})]}),(0,a.BX)(j.Z,{css:[H.l0.rowWithGap(16),H.l0.justify.center,H.l0.pt(16),H.l0.align.center],children:[(0,a.tZ)(I.ZP,{outlined:!0,text:"Back to the learning hub",href:"/learn/".concat(t,"/hub")}),(0,a.tZ)(j.Z,{css:[H.l0.rowWithGap(8),H.l0.align.center],children:f.map((function(e){var r=e.url,i=e.icon,o=e.base,l=e.cta,c=e.color;return(0,a.tZ)(Co.ZP,{css:[{backgroundColor:c,color:"white"}],onClick:function(){window.open(r,"_blank"),(0,ii.j)(ii.U3.EXTERNAL_LINK_VIEWED,{url:o,placement:"lesson-complete-modal",campaign:t,lessonSlug:n})},text:l,iconLeft:(0,a.tZ)(i,{})},r)}))})]})]})},da=function(e){var n=e.lesson,t=(0,ro.Z)().showError,r=(0,Qo.$0)().fireCircularBurstFrom,o=(0,g.useRef)(null),l=(0,Tr.T)(),c=(0,g.useState)(!1),s=c[0],u=c[1],d=(0,i.Z)(function(e){var n=(0,y.Z)({},fi,e);return ui.D(vi,n)}({onError:function(){return t("Something went wrong")},onCompleted:function(e){var i,a;"UpdatedUserCourseLesson"!==(null===(i=e.completeUserCourseLesson)||void 0===i?void 0:i.__typename)?t((null===(a=e.completeUserCourseLesson)||void 0===a?void 0:a.message)||"Something went wrong"):e.completeUserCourseLesson.userCourseLesson.id===n.id?(o.current&&!l&&r({element:o.current}),u(!0)):t("Something went wrong")}}),2),p=d[0],f=d[1].loading;return(0,a.BX)(a.HY,{children:[null!==n.timeCompleted?(0,a.tZ)(I.zx,{ref:o,disabled:!0,text:"Lesson completed \ud83c\udf89",colorway:"primary"}):(0,a.tZ)(I.zx,{iconLeft:f?(0,a.tZ)(Ue.Z,{}):void 0,onClick:function(){(0,Jo.l)({action:"completed",lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug}),p({variables:{input:{userLessonId:n.id}}})},text:f?"Verifying\u2026":"Mark lesson as complete",colorway:"primary",css:[f&&I.pt.backgroundPulse()]}),(0,a.tZ)(I.u_,{isOpen:s,onRequestClose:function(){return u(!1)},children:(0,a.tZ)(ua,{lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug})})]})},pa=t(92162),fa=t(87514);function ha(e){var n=e.lesson,t=(0,pa.Un)(),r=(0,pa.$x)();return t?(0,a.tZ)(da,{lesson:n}):(0,a.tZ)(I.zx,{colorway:"primary",iconLeft:(0,a.tZ)(fa.Z,{}),text:"Show tutorial",onClick:function(){return r()}})}var va=t(8608),ma=t(36316);function ga(e){var n=e.repl,t=(0,i.Z)(g.useState(!1),2),r=t[0],o=t[1];return(0,a.BX)(Ci.Z,{isOpen:r,maxWidth:460,onClickOutside:function(){},padding:0,gap:8,placement:"bottom-start",growToMaxWidth:!0,zIndex:d.Is-1,elevated:!1,children:[(0,a.tZ)(I.G7,{tag:"button",dataCy:"ws-repl-info-container",onClick:function(){o(!0)},css:[I.l0.flex.growAndShrink(1),I.l0.align.center,I.l0.cursor.pointer,I.l0.rowWithGap(8),I.l0.p(4),I.l0.borderRadius(8),I.l0.color.foregroundDefault,r&&{pointerEvents:"none"},{border:"1px solid transparent",backgroundColor:"transparent","&:hover":{borderColor:I.TV.outlineDimmest}}],children:(0,a.tZ)(ma.Z,{repl:n})}),(0,a.tZ)(I.Tg,{background:"default",css:[I.l0.borderRadius(8)],children:(0,a.tZ)(va.Z,{setIsEditing:o})})]})}var Za=t(3462),ya=t(85485),ba=t(14868),wa=t(3411),xa=t(72533),Ra=t(57996),Ta=t(13693),Ca=t(48086),ka=t(34385),Ea=t(97838),Sa=t(41664),Ia=t.n(Sa),Pa=t(58889);function _a(){var e=(0,b.Z)(["\n  fragment ReplEnvironmentNavMenuCurrentUser on CurrentUser {\n    id\n    ...LayoutSidebarCurrentUser\n  }\n  ","\n"]);return _a=function(){return e},e}function Da(){var e=(0,b.Z)(["\n  query ReplEnvironmentNavMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentNavMenuCurrentUser\n    }\n  }\n  ","\n"]);return Da=function(){return e},e}var Ua={},Ba=(0,w.Ps)(_a(),Pa.d),Aa=(0,w.Ps)(Da(),Ba);var Ga={button:(0,l.iv)([I.l0.py(4),I.l0.viewStyle,I.l0.reset.button,I.l0.rowWithGap(2),I.l0.align.center,I.l0.color.foregroundDefault,I.l0.cursor.pointer,{":hover svg":{fill:I.TV.foregroundDefault}}]),surface:(0,l.iv)([I.l0.borderRadius(8),I.l0.width(200),I.l0.maxHeight("80vh"),I.l0.maxWidth("80vw"),I.l0.overflowY("auto")]),ctas:(0,l.iv)([I.l0.colWithGap(8),I.l0.p(8),{borderBottom:"1px solid",borderColor:I.TV.outlineDimmer}]),items:(0,l.iv)([{"& > a:last-of-type":I.l0.borderRadius(0,0,8,8)}]),link:(0,l.iv)([I.l0.viewStyle,I.l0.rowWithGap(4),I.l0.color.foregroundDefault,I.l0.p(8),I.l0.align.center,I.gU.listItem]),linkText:(0,l.iv)(I.l0.flex.shrink(1))},Na=(0,l.iv)([I.gU.nofill,I.l0.borderRadius(0,0,8,8),{borderTop:"1px solid ".concat(I.TV.outlineDimmer)}]);function Oa(){var e=(0,ka.Z)(Ho.y.GlobalNavButton),n=function(e){var n=(0,y.Z)({},Ua,e);return x.a(Aa,n)}().data,t=(0,wa.N)({currentUser:(null===n||void 0===n?void 0:n.currentUser)||void 0}),r=(0,g.useState)(!1),i=r[0],o=r[1],l=(0,g.useState)(null),c=l[0],s=l[1];return(0,a.BX)(a.HY,{children:[(0,a.BX)(Ci.Z,{isOpen:i,onClickOutside:function(){return o(!1)},gap:4,padding:0,placement:"bottom-start",children:[(0,a.BX)("button",{ref:e,onClick:function(){return o(!i)},css:Ga.button,"data-cy":"global-nav-dropdown-btn",children:[(0,a.tZ)(Ra.N2,{color:I.TV.foregroundDefault,size:20}),(0,a.tZ)(Rr.Z,{color:I.TV.foregroundDimmest,size:12})]}),(0,a.BX)(I.Tg,{elevated:!0,css:Ga.surface,children:[(0,a.BX)(I.G7,{css:Ga.ctas,children:[(0,a.tZ)(I.zx,{"data-cy":"global-nav-dropdown-new-repl-btn",text:"Create",iconLeft:(0,a.tZ)(ar.Z,{}),colorway:"primary",onClick:function(){o(!1),s("create")}}),(0,a.tZ)(I.zx,{text:"Power Up",iconLeft:(0,a.tZ)(Ea.Z,{}),outlined:!0,onClick:function(){o(!1),s("upgrade")}})]}),(0,a.tZ)(I.G7,{css:Ga.items,children:t.map((function(e){return(0,a.tZ)(Ia(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,a.BX)("a",{css:Ga.link,children:[e.icon,(0,a.tZ)(I.xv,{css:Ga.linkText,children:e.label}),e.tag||null]})},e.label)}))}),(0,a.tZ)(Ta.Z,{css:Na,context:Ca.HY.Workspace})]})]}),(0,a.tZ)(xa.Z,{isOpen:"upgrade"===c,onRequestClose:function(){return s(null)},context:"workspace_menu_nav"}),(0,a.tZ)(I.u_,{isOpen:"create"===c,onRequestClose:function(){return s(null)},children:(0,a.tZ)(vr.Z,{})})]})}var Ma=t(92069);function La(){var e=(0,ba.Iv)(),n=(0,ba.W8)(),t=(0,ka.Z)(Ho.y.SidebarButton),r=(n?"Close":"Open")+" sidebar",o=(0,i.Z)(g.useState(!1),2),l=o[0],c=o[1];return(0,a.tZ)(I.u,{tooltip:r,placement:"right",children:(0,a.tZ)(I.G7,{tag:"button",alt:r,innerRef:t,css:[I.l0.reset.button,I.l0.height(16),I.l0.width(16),I.l0.center,I.l0.cursor.pointer,{opacity:.75,transition:"opacity 0.1s","&:hover":{opacity:1}}],onClick:function(){e(),c(!1)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:(0,a.BX)(I.G7,{css:[I.l0.flex.row,I.l0.align.center,{height:14,width:16,border:"1px solid ".concat(I.TV.foregroundDefault),borderRadius:I.TV.borderRadius2}],children:[(0,a.tZ)(I.G7,{css:{height:"100%",width:n&&!l||!n&&l?"40%":"20%",backgroundColor:n?I.TV.foregroundDefault:"transparent",borderRight:"1px solid ".concat(I.TV.foregroundDefault),transition:"0.1s ease-out width, 0.1s background-color"}}),(0,a.tZ)(I.G7,{})]})})})}function Xa(){return(0,a.tZ)(l.xB,{styles:[{".toggle":{display:"none"}}]})}function Fa(e){var n=e.repl,t=e.currentUser;return(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(8),I.l0.align.center,I.l0.justify.start,I.l0.width("calc(50% - ".concat((pr.al.small+8)/2,"px)")),(0,br.Z)({},(0,ya.et)("tabletMax"),[I.l0.width("calc(50% - ".concat((pr.al.large+8)/2,"px)"))])],children:[(0,a.tZ)(La,{}),(0,a.tZ)(Xa,{}),(0,a.tZ)(Oa,{}),(0,a.tZ)(I.G7,{css:[I.l0.flex.shrink(1),I.l0.maxWidth(530),I.l0.align.center,{"& > span":[I.l0.viewStyle,I.l0.flex.shrink(1)]}],children:(0,a.tZ)(ga,{repl:n})}),(0,a.tZ)(Ma.m,{}),(null===t||void 0===t?void 0:t.isFirewallMode)?(0,a.tZ)(Za.Z,{isWorkspace:!0}):null]})}var Wa=t(82447),za=function(e){return function(){(0,ii.j)(ii.U3.SIDEBAR_LAYOUT_NAV_CLICK,{target:e})}},ja={button:(0,l.iv)([I.l0.py(4),I.l0.viewStyle,I.l0.reset.button,I.l0.rowWithGap(2),I.l0.align.center,I.l0.color.foregroundDefault,I.l0.cursor.pointer,{":hover svg":{fill:I.TV.foregroundDefault}}]),surface:(0,l.iv)([I.l0.borderRadius(8),I.l0.minWidth(80),{"& > a:first-of-type":I.l0.borderRadius(8,8,0,0)},{"& > a:last-of-type":I.l0.borderRadius(0,0,8,8)}]),link:(0,l.iv)([I.l0.viewStyle,I.l0.color.foregroundDefault,I.l0.p(8),I.gU.listItem])};function Ha(){var e=(0,ka.Z)(Ho.y.AvatarButton),n=function(e){var n=(0,y.Z)({},li,e);return x.a(si,n)}().data,t=(0,g.useState)(!1),r=t[0],i=t[1],o=null===n||void 0===n?void 0:n.currentUser,l=o?(0,Wa.Ru)(o):null,c=l?[{label:"Profile",trackingLabel:"Profile",as:l.as,href:l.href},{label:"Account",trackingLabel:"Account",dataCy:"avatar-dropdown-account-link",as:"/account",href:"/account"},{trackingLabel:"CLUI",label:"CLUI",as:"/~/cli",href:"/~/cli"},{trackingLabel:"Log out",label:"Log out",href:"/logout"}]:[];return(0,a.BX)(Ci.Z,{isOpen:r,onClickOutside:function(){return i(!1)},gap:4,padding:0,placement:"bottom-start",children:[(0,a.BX)("button",{ref:e,onClick:function(){i(!r)},css:ja.button,children:[(0,a.tZ)(I.qE,{size:24,src:(null===o||void 0===o?void 0:o.image)||null,username:(null===o||void 0===o?void 0:o.username)||""}),(0,a.tZ)(Rr.Z,{color:I.TV.foregroundDimmest,size:12})]}),(0,a.tZ)(I.Tg,{elevated:!0,css:ja.surface,children:c.map((function(e){return(0,a.tZ)(Ia(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,a.tZ)("a",{onClick:function(){za(e.trackingLabel)},onKeyDown:function(){za(e.trackingLabel)},css:ja.link,children:e.label})},e.label)}))})]})}var Va=t(97776),Ya=t(98099),qa=function(e){var n=(0,Ya.Z)(e,{onReceiveAnnotationUpdate:function(){}}).generalThread;return(0,g.useMemo)((function(){return n?n.messages.filter((function(e){return!1===e.seen})).length:0}),[n])},$a=t(75026);function Ka(e){var n=(0,Ya.Z)(e,{onReceiveAnnotationUpdate:function(){}}).annotations;return(0,g.useMemo)((function(){return n.reduce((function(e,n){return n.isGeneral?e:e+n.messages.filter((function(e){return!1===e.seen})).length}),0)}),[n])}var Qa={container:(0,l.iv)([I.l0.position.relative]),button:(0,l.iv)([I.l0.position.relative,I.gU.nofill,I.l0.width(32),I.l0.height(32),I.l0.borderRadius(8,0,0,8)]),notificationDot:(0,l.iv)(I.l0.display.none)},Ja=function(){var e=(0,mn.Z)(),n=qa(e),t=Ka(e),r=(0,W.b9)(Nt.rl),i=(0,W.b9)(Nt.Bm);return(0,a.tZ)(I.G7,{css:[I.l0.flex.row,I.l0.align.center,{"&:only-child .open-chat-button":[I.l0.width(24),I.l0.height(24),I.l0.borderRadius(8),I.gU.listItem],"&:only-child .notification-dot-on-button":[I.l0.display.block],"&:not(:only-child) .notification-dot-on-icon":[I.l0.display.block]}],children:(0,a.tZ)(I.hU,{alt:"Open Chat and Threads",onClick:function(){i(),r()},css:Qa.button,className:"open-chat-button",children:(0,a.BX)(a.HY,{children:[n>0||t>0?(0,a.tZ)(I.G7,{className:"notification-dot-on-button",css:Qa.notificationDot,children:(0,a.tZ)(se,{})}):null,(0,a.BX)(I.G7,{css:Qa.container,children:[n>0||t>0?(0,a.tZ)(I.G7,{className:"notification-dot-on-icon",css:Qa.notificationDot,children:(0,a.tZ)(se,{})}):null,(0,a.tZ)($a.Z,{})]})]})})})},el=[D.Sy.Submit,D.Sy.Resubmit,D.Sy.UpdateModelSolution,D.Sy.PublishTemplate,D.Sy.EditTemplate,D.Sy.ReviewSubmission],nl={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"M"},tl={root:(0,l.iv)([I.l0.height(60),I.l0.width("100%"),I.l0.top(0),I.l0.left(0),I.l0.flex.row,I.l0.align.center,I.l0.justify.spaceBetween,I.l0.py(8),I.l0.px(12),I.l0.position.absolute]),center:(0,l.iv)([I.l0.position.absolute,I.l0.height(42),I.l0.justify.center,{transform:"translate(-50%, -50%)",left:"50%",top:"50%"}]),configButton:(0,l.iv)([I.l0.position.absolute,I.l0.right(-29),I.l0.top(8)]),right:(0,l.iv)([I.l0.rowWithGap(8),I.l0.align.center,I.l0.justify.end]),socialGroup:(0,l.iv)([I.l0.flex.row,I.l0.align.stretch,I.l0.borderRadius(8)]),inviteButton:(0,l.iv)([I.gU.nofill,I.l0.borderRadius(0,8,8,0)]),divider:(0,l.iv)(I.l0.height("100%"))};function rl(e){var n,t,r,o,l=(0,m.useRouter)(),c=(0,Ne.Z)(),s=c.runner,u=c.presence,d=(0,mn.Z)(),f=(0,i.Z)(g.useState(!1),2),h=f[0],v=f[1],Z=(0,jo.e)(Ho.y.Run),b=(0,jo.e)(Ho.y.Share),w=(0,ka.Z)(Ho.y.NotificationsButton),R=(0,i.Z)(g.useState(!1),2),T=R[0],C=R[1],k=function(e){var n=(0,y.Z)({},bi,e);return x.a(Ri,n)}({variables:{id:d}}).data,E=(0,W.b9)(wo),S=Li(),P=(0,W.b9)($n),_=(0,Mi.Z)({presence:u}),D=(0,p.D)({controlName:"flag-run-button-editor"}),U="Repl"===(null===k||void 0===k?void 0:k.repl.__typename)?k.repl:null,B=(null===U||void 0===U?void 0:U.multiplayers)&&U.multiplayers.length>0,A=(0,g.useRef)(null),G=(0,g.useRef)(null),N=(0,g.useRef)(h&&(null===b||void 0===b?void 0:b.isActive));(0,g.useEffect)((function(){N.current&&!(null===b||void 0===b?void 0:b.isActive)&&v(!1),N.current=h&&(null===b||void 0===b?void 0:b.isActive)}),[b,h]),(0,g.useEffect)((function(){(null===b||void 0===b?void 0:b.isActive)&&(h&&G.current?null===b||void 0===b||b.delegateTooltip(G.current):b.delegateTooltip(A.current))}),[b,h,G]);var O="Team"===(null===U||void 0===U||null===(n=U.owner)||void 0===n?void 0:n.__typename),M=Boolean("Team"===(null===U||void 0===U||null===(t=U.owner)||void 0===t?void 0:t.__typename)&&(null===(r=null===U||void 0===U?void 0:U.owner.capabilities)||void 0===r?void 0:r.isEducationPlan)),L=el.find((function(e){return e===(null===U||void 0===U?void 0:U.workspaceCta)})),X=!M&&(null===U||void 0===U?void 0:U.currentUserPermissions.editMultiplayers);return(0,fr.x)(nl,{enabled:!M,run:function(){v(!0)}}),Pt({match:Xe.pl,data:{type:"action",label:"Multiplayer",icon:(0,a.tZ)(zo.Z,{}),description:"Open multiplayer mode",run:function(){v(!0)},keyboardShortcut:nl}},{enabled:!M}),(0,a.BX)(I.Tg,{tag:"header",css:tl.root,children:[(0,a.tZ)(Fa,{repl:e.repl,currentUser:e.currentUser}),(0,a.tZ)(I.G7,{innerRef:null===Z||void 0===Z?void 0:Z.delegateTooltip,dataCy:"ws-run-btn",onClick:function(){(null===Z||void 0===Z?void 0:Z.isActive)&&Z.next()},css:tl.center,children:D?(0,a.BX)(a.HY,{children:[(0,a.BX)(Ci.Z,{onClickOutside:function(){return C(!1)},isOpen:T,padding:8,children:[(0,a.tZ)(pr.ZP,{runner:s,disableTooltip:null===Z||void 0===Z?void 0:Z.isActive}),(0,a.tZ)(Ko,{hideModal:function(){return C(!1)}})]}),(0,a.tZ)(I.G7,{css:tl.configButton,children:(0,a.tZ)(I.hU,{alt:"Configure Repl run",size:28,onClick:function(){C((function(e){return!e}))},css:[I.l0.color.foregroundDimmest],children:(0,a.tZ)(Rr.Z,{})})})]}):(0,a.tZ)(pr.ZP,{runner:s,disableTooltip:null===Z||void 0===Z?void 0:Z.isActive})}),(0,a.BX)(I.G7,{css:tl.right,children:[(null===U||void 0===U?void 0:U.lesson)?(0,a.tZ)(ha,{lesson:U.lesson}):null,(0,a.tZ)(I.hU,{size:24,onClick:function(){P()},alt:"Search & run commands",tooltipContents:(0,a.BX)(I.G7,{children:[(0,a.tZ)(I.xv,{children:"Search & run commands"}),(0,a.tZ)(I.G7,{css:[I.l0.center,I.l0.pt(4)],children:(0,a.tZ)(V.Z,{shortcut:Oe.q})})]}),tooltipPlacement:"bottom-end",children:(0,a.tZ)(Ve.Z,{})}),(0,a.BX)(I.Tg,{css:[tl.socialGroup],background:_.length>1||X?"default":"root",children:[B?(0,a.tZ)(Ja,{}):null,B&&_.length>1?(0,a.tZ)(I.G7,{children:(0,a.tZ)(I.XA,{css:tl.divider})}):null,(0,a.tZ)(Yi,{onAvatarClick:S}),X&&(_.length>1||B)?(0,a.tZ)(I.G7,{children:(0,a.tZ)(I.XA,{css:tl.divider})}):null,X?(0,a.tZ)(a.HY,{children:(0,a.tZ)(I.G7,{innerRef:A,css:{"&:only-child .invite-button":[I.l0.borderRadius(8)]},children:(0,a.tZ)(go,{showPopover:U.currentUserPermissions.inviteGuests,children:(0,a.tZ)(I.zx,{onClick:function(){(0,ii.j)(ii.U3.INVITE_MODAL_OPENED,{language:U.lang.id,replId:U.id,source:"replEnvironment"}),v(!0)},iconLeft:(0,a.tZ)(Ti.Z,{}),text:"Invite",css:[tl.inviteButton],className:"invite-button"})})})}):null]}),L?(0,a.tZ)(Wo,{cta:L,replId:d,isGroupProject:Boolean(null===U||void 0===U||null===(o=U.template)||void 0===o?void 0:o.isGroupProject),openIOtesterPane:function(){E({pane:{type:"autograder"}})}}):null,(0,a.BX)(a.HY,{children:[(0,a.tZ)(I.G7,{innerRef:w,children:(0,a.tZ)(Va.Z,{sidebarIsOpen:!0,pathname:l.pathname,showCount:!1})}),(0,a.tZ)(Ha,{})]})]}),(0,a.tZ)(qi.Z,{isOpen:h,onRequestClose:function(){return v(!1)},children:(0,a.tZ)(I.G7,{innerRef:G,children:O?(0,a.tZ)(vo,{replId:d}):(0,a.tZ)(yo,{replId:d})})})]})}var il=(0,g.memo)(rl),ol=t(62991),al=t.n(ol),ll=t(88662),cl=t(7182),sl=t(45432),ul=t.n(sl);class dl extends g.Component{constructor(e){super(e),this._osInstance=null,this._osTargetRef=g.createRef()}osInstance(){return this._osInstance}osTarget(){return this._osTargetRef.current||null}componentDidMount(){this._osInstance=ul()(this.osTarget(),this.props.options||{},this.props.extensions),pl(this._osInstance,this.props.className)}componentWillUnmount(){ul().valid(this._osInstance)&&(this._osInstance.destroy(),this._osInstance=null)}componentDidUpdate(e){ul().valid(this._osInstance)&&(this._osInstance.options(this.props.options),e.className!==this.props.className&&pl(this._osInstance,this.props.className))}render(){const e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(this.props,["options","extensions","children","className"]);return g.createElement("div",Object.assign({className:"os-host"},e,{ref:this._osTargetRef}),g.createElement("div",{className:"os-resize-observer-host"}),g.createElement("div",{className:"os-padding"},g.createElement("div",{className:"os-viewport"},g.createElement("div",{className:"os-content"},this.props.children))),g.createElement("div",{className:"os-scrollbar os-scrollbar-horizontal "},g.createElement("div",{className:"os-scrollbar-track"},g.createElement("div",{className:"os-scrollbar-handle"}))),g.createElement("div",{className:"os-scrollbar os-scrollbar-vertical"},g.createElement("div",{className:"os-scrollbar-track"},g.createElement("div",{className:"os-scrollbar-handle"}))),g.createElement("div",{className:"os-scrollbar-corner"}))}}function pl(e,n){if(ul().valid(e)){const{host:t}=e.getElements(),r=new RegExp(`(^os-host([-_].+|)$)|${e.options().className.replace(/\s/g,"$|")}$`,"g"),i=t.className.split(" ").filter((e=>e.match(r))).join(" ");t.className=`${i} ${n||""}`}}var fl=t(85861),hl={overflowBehavior:{y:"hidden"},scrollbars:{autoHide:"leave"}};var vl=t(1855),ml=t(49906),gl=t(37432);var Zl=I.KD.button,yl=(0,l.iv)([I.l0.display.inlineFlex,I.l0.height("100%")]),bl=(0,l.iv)([I.l0.cursor.pointer,I.l0.center,I.l0.rowWithGap(4),I.l0.pl(8),I.l0.pr(4),I.l0.height("100%"),{backgroundColor:"transparent",border:"none",font:"inherit",lineHeight:"normal",color:"inherit"}]);function wl(e){var n=e.onClick;return(0,a.tZ)(I.hU,{tooltipHidden:!0,onClick:n,alt:"Close",size:18,css:[{"&& svg":{width:12,height:12,minWidth:"unset",minHeight:"unset"},borderRadius:6},I.gU.nofill],children:(0,a.tZ)(De.Z,{})})}function xl(e){var n=(0,Ne.Z)().fs,t=e.split("/"),r=t.pop(),i=t.join("/"),o=(0,g.useState)(!1),a=o[0],l=o[1],c=function(e){var n=e.path,t=e.initialExpanded,r=(0,Ne.Z)().fs;return(0,gl.Z)({path:n,initialExpanded:t,fs:r})}({path:i.length>0?i:".",initialExpanded:!0}).children,s=null===c||void 0===c?void 0:c.filter((function(e){return e.filename!==r}));return{fileName:r,parentPath:i,renaming:a,siblings:s,handleRename:function(){l(!0)},handleCancel:function(){l(!1)},handleSubmit:function(t){var r=i.length>0?i+"/"+t:t;n.moveFile(e,r),l(!1)}}}function Rl(e){var n=e.filePath,t=e.title,r=e.onClick,i=e.onClose,o=e.isActive,l=e.innerRef,c=e.icon,s=e.onPointerDown,u=xl(n),d=u.fileName,p=u.parentPath,f=u.renaming,h=u.siblings,v=u.handleRename,m=u.handleSubmit,g=u.handleCancel,Z=t.startsWith("History - ")?"History - ".concat(d):t;return(0,a.tZ)(I.u,{tooltip:n,placement:"bottom",isDisabled:!p,maxWidth:"calc(100vw - ".concat(I.TV.space16,")"),children:function(e,n){return(0,a.BX)(I.Tg,(0,z.Z)((0,y.Z)({innerRef:(0,vl.l)(l,n),css:[yl,o?I.gU.filled:I.gU.nofill,o?I.l0.color.foregroundDefault:I.l0.color.foregroundDimmer,I.l0.flex.row,I.l0.align.center,I.l0.pr(4)]},e),{children:[f?(0,a.tZ)(ml.Z,{onSubmit:m,onCancel:g,loading:!1,siblings:h||[],parentPath:p,type:dn.Tv.File,initialValue:d,rename:!0}):(0,a.BX)(Zl,{onPointerDown:s,onDoubleClick:v,css:[bl],onClick:r,children:[(0,a.tZ)(I.G7,{css:{opacity:o?1:.6},children:c||null}),(0,a.tZ)(I.xv,{children:Z})]}),(0,a.tZ)(wl,{onClick:i})]}))}})}function Tl(e){var n=e.title,t=e.onClick,r=e.onClose,i=e.isActive,o=e.innerRef,l=e.icon,c=e.onPointerDown;return(0,a.BX)(I.Tg,{innerRef:o,css:[yl,i?I.gU.filled:I.gU.nofill,i?I.l0.color.foregroundDefault:I.l0.color.foregroundDimmer,I.l0.flex.row,I.l0.align.center,I.l0.pr(4)],children:[(0,a.BX)(Zl,{css:[bl],onClick:t,onPointerDown:c,children:[(0,a.tZ)(I.G7,{css:{opacity:i?1:.6},children:l||null}),(0,a.tZ)(I.xv,{children:n})]}),(0,a.tZ)(wl,{onClick:r})]})}var Cl=t(53201),kl=t(78217);var El=I.KD.div;function Sl(e){var n=e.paneId,t=e.paneGroupId,r=e.isActive,o=e.onClick,l=e.onClose,c=e.dragGroup,s=e.scrollIntoViewIfNeeded,u=(0,re.Z)((function(){return(0,W.cn)((function(e){return e(e((0,on.z)(n)).data)}))}),[n]),d=(0,W.Dv)(u),p=(0,$.Se)(),f=p.getTitle(d),h=p.Icon({pane:d,size:16}),v=(0,g.useRef)(null);(0,g.useEffect)((function(){r&&v.current&&s(v.current)}),[s,r]);var m=(0,i.Z)((0,Cl.c)({type:cl.z.Pane,item:function(){var e,t=(null===(e=v.current)||void 0===e?void 0:e.getBoundingClientRect().width)||80;return{type:cl.z.Pane,paneId:n,width:t}},collect:function(e){return{isDragging:e.isDragging()}}}),2),Z=m[0].isDragging,y=m[1],b=(0,W.b9)(Nt.c);(0,g.useEffect)((function(){return b(Z)}),[b,Z]);var w,x=(0,kl.q6)({paneGroupId:t}).dnd,R=x&&c?function(e){1!==e.button&&ni(e,{start:x.start,move:x.update,end:x.end})}:void 0;return(0,a.tZ)(El,{css:Z?[I.l0.width(0),I.l0.visibility.hidden]:[I.l0.px(2)],onMouseDown:function(e){1===e.button&&(kn.n_({category:"pane",message:"Tab closed: "+d.type,data:{reason:"middle click"}}),(0,ii.j)(ii.U3.WS_TAB_CLOSED,{paneType:d.type}),l())},children:(0,te.KM)(d)?(0,a.tZ)(Rl,{onPointerDown:R,innerRef:R?void 0:(0,vl.l)(y,v),filePath:null!==(w=d.data.path)&&void 0!==w?w:"",title:(0,Do.UO)(f),isActive:r,icon:h,onClick:function(){kn.n_({category:"pane",message:"Tab clicked: "+d.type}),(0,ii.j)(ii.U3.WS_TAB_OPENED,{paneType:d.type}),o()},onClose:function(){kn.n_({category:"pane",message:"Tab closed: "+d.type}),(0,ii.j)(ii.U3.WS_TAB_CLOSED,{paneType:d.type}),l()}}):(0,a.tZ)(Tl,{onPointerDown:R,innerRef:R?void 0:(0,vl.l)(y,v),title:f,isActive:r,icon:h,onClick:function(){kn.n_({category:"pane",message:"Tab clicked: "+d.type}),(0,ii.j)(ii.U3.WS_TAB_OPENED,{paneType:d.type}),o()},onClose:function(){kn.n_({category:"pane",message:"Tab closed: "+d.type}),(0,ii.j)(ii.U3.WS_TAB_CLOSED,{paneType:d.type}),l()}})})}function Il(){var e=(0,b.Z)(["\n  query ReplEnvironmentHeaderContainer($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        language\n      }\n    }\n  }\n"]);return Il=function(){return e},e}var Pl={},_l=(0,w.Ps)(Il());var Dl=t(18455);function Ul(){var e=(0,Ne.Z)().presence,n=(0,i.Z)(g.useState(e.getFollowingUsers()),2),t=n[0],r=n[1];return g.useEffect((function(){return r(e.getFollowingUsers()),e.onFollowingUsersChanged((function(e){r(e.followingUsers)}))}),[e]),t}var Bl={root:(0,l.iv)([I.l0.rowWithGap(4),I.l0.align.center]),text:(0,l.iv)([I.l0.flex.shrink(1),I.l0.align.center]),username:(0,l.iv)([I.l0.flex.shrink(2),I.l0.maxWidth(140),I.l0.truncate])};function Al(){var e=Ul();return 0===e.length?null:1===e.length?(0,a.tZ)(Gl,{user:e[0]}):(0,a.BX)(I.xv,{variant:"small",color:"dimmest",css:Bl.text,children:[e.length," users are observing you"]})}function Gl(e){var n=e.user,t=n.id,r=n.username,i=n.color,o=(0,Vi.pu)([t]),l={id:t,username:r,color:i,image:null===o||void 0===o?void 0:o.get(t)};return(0,a.BX)(I.G7,{css:Bl.root,children:[(0,a.tZ)(I.qE,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,a.tZ)(I.xv,{variant:"small",color:"dimmer",css:Bl.username,children:r}),(0,a.tZ)(I.xv,{variant:"small",color:"dimmest",css:Bl.text,children:"is observing you"})]})}var Nl={root:(0,l.iv)([I.l0.rowWithGap(4),I.l0.align.center]),text:(0,l.iv)([I.l0.flex.shrink(1),I.l0.align.center]),username:(0,l.iv)([I.l0.flex.shrink(2),I.l0.maxWidth(140),I.l0.truncate])};function Ol(e){var n=e.id,t=e.username,r=e.color,i=(0,Vi.pu)([n]),o=(0,Ne.Z)().presence,l={id:n,username:t,color:r,image:null===i||void 0===i?void 0:i.get(n)};return(0,a.BX)(I.G7,{css:Nl.root,children:[(0,a.tZ)(I.qE,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,a.tZ)(I.xv,{css:Nl.text,variant:"small",color:"dimmest",children:"Observing"}),(0,a.tZ)(I.xv,{css:Nl.username,variant:"small",color:"dimmer",children:t}),(0,a.tZ)(I.hU,{alt:"Stop observing",size:18,onClick:function(){o.unfollowUser()},children:(0,a.tZ)(De.Z,{})})]})}var Ml=t(22414);var Ll=t(86601);function Xl(e){var n=e.activeFile,t=e.paneId,r=function(e){var n=(0,y.Z)({},Pl,e);return x.a(_l,n)}({variables:{replId:(0,mn.Z)()}}).data,i="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl.language:"",o=(0,W.Dv)(Nt.bg),l=(0,W.b9)(Nt.ao),c=(0,W.b9)(Nt.Ky),s=n&&(0,Do.gK)(n),u=function(e){var n=e.paneId,t=(0,Ll.Z)(),r=(0,st.cr)({paneId:n});return t&&r?t:null}({paneId:t}),d=function(e){var n=e.paneId,t=Ul();return(0,st.cr)({paneId:n})&&t.length>0?t:null}({paneId:t}),p=function(){var e=(0,nt.Z)((0,W.Dv)(Ml.$));return(0,g.useCallback)((function(){setTimeout((function(){var n;return null===(n=e.current)||void 0===n?void 0:n.focus()}),0)}),[e])}(),f=(0,st.cr)({paneId:t}),h=null;return u?h=(0,a.tZ)(Ol,{id:u.id,username:u.username,color:u.color}):s&&n?h=o?(0,a.tZ)(I.zx,{css:{backgroundColor:"transparent"},iconLeft:(0,a.tZ)(eo.Z,{}),text:"Close preview",onClick:function(){l({type:"markdown"}),p()}}):(0,a.tZ)(I.zx,{css:{backgroundColor:"transparent"},iconLeft:(0,a.tZ)(Ji.Z,{}),text:"Open preview",onClick:function(){n&&(c({type:"markdown",data:{path:n}}),p())}}):n&&(h=(0,a.tZ)(Dl.q,{filePath:n,replLanguage:i,disableKeyboardShortcut:!f})),null!==h||d?(0,a.BX)(I.G7,{css:[I.l0.px(4),I.l0.rowWithGap(8)],children:[d&&n?(0,a.tZ)(Al,{}):null,h]}):null}var Fl=t(64718),Wl=t(59369),zl=t(89295),jl=t(94860),Hl=t(73148),Vl=t(87534),Yl=t(99932),ql=t(90849),$l=t(87671),Kl=t(66843),Ql=t(53761),Jl=(0,W.cn)(null,(function(e,n,t){var r=e(rn.g4),i=e((0,on.z)(t)),o=i.rectAtom,a=i.type,l=e(o),c=(0,Wr.Rh)(r,t);if(!c){var s=new Error("Expected pane");throw n(Hr.xm,{error:s,tags:{layoutstate:!0}}),s}if("tile"!==a){var u=e(on.Eh).filter((function(e){return"tile"===e.type&&!e.isHidden})),d=e(on.M0),p={x:l.x+l.width/2,y:l.y+l.height/2},f=u.find((function(n){var t=e(n.rectAtom);return(0,Yr.V0)(p,{x:t.x,y:t.y-d,width:t.width,height:t.height+d})})),h="leftOf";f&&(h=(0,Yr.QN)(p,e(f.rectAtom)).placement),n(at.iH,(0,ie.ZP)(r,(function(e){(0,Ql.$C)(e,{paneGroupPath:c.paneGroupPath,to:(null===f||void 0===f?void 0:f.paneId)||["tiling"],placement:h})})))}else n(at.iH,(0,ie.ZP)(r,(function(e){(0,Ql.MB)(e,{paneGroupPath:c.paneGroupPath,rect:{x:l.x-16,y:l.y-16,width:l.width,height:l.height}})})))}));var ec=t(90145);function nc(e){var n=e.paneId,t=e.paneGroupId,r=(0,W.b9)(Jl),i=(0,$l.e3)(),o=(0,$l.lI)(),l=(0,$l.Bd)(),c=function(e){var n=e.paneId,t=(0,re.Z)((function(){return(0,W.cn)((function(e){return"floating"===e((0,on.z)(n)).type}))}),[n]);return(0,W.Dv)(t)}({paneId:n}),s=(0,Fl.Lo)(),u=s.maximizePaneGroup,d=s.restoreMaximizedPaneGroup;if((0,Fl.rX)({paneGroupId:t}))return(0,a.tZ)(I.hU,{onClick:function(){return d()},alt:"Restore",children:(0,a.tZ)(jl.Z,{})});var p={label:"Maximize",icon:(0,a.tZ)(zl.Z,{}),run:function(){return u({paneGroupId:t})}},f=c?[p]:[{label:"Insert Left",icon:(0,a.tZ)(Vl.Z,{}),run:function(){l({placement:"leftOf",paneId:n}),(0,ii.j)(ii.U3.WS_SPLIT_USED,{action:"opened",placement:"leftOf"})}},{label:"Insert Right",icon:(0,a.tZ)(Yl.Z,{}),run:function(){l({placement:"rightOf",paneId:n}),(0,ii.j)(ii.U3.WS_SPLIT_USED,{action:"opened",placement:"rightOf"})}},{label:"Insert Up",icon:(0,a.tZ)(ql.Z,{}),run:function(){l({placement:"above",paneId:n}),(0,ii.j)(ii.U3.WS_SPLIT_USED,{action:"opened",placement:"above"})}},{label:"Insert Down",icon:(0,a.tZ)(Hl.Z,{}),run:function(){l({placement:"below",paneId:n}),(0,ii.j)(ii.U3.WS_SPLIT_USED,{action:"opened",placement:"below"})}},p];return(i||c)&&(f.splice(f.length-1,0,{label:c?"Unfloat":"Float",icon:c?(0,a.tZ)(ec.Z,{}):(0,a.tZ)(Kl.Z,{}),run:function(){r(n)}}),f.push({label:"Close",icon:(0,a.tZ)(De.Z,{}),run:function(){o({paneGroupId:t}),(0,ii.j)(ii.U3.WS_SPLIT_USED,{action:"closed"})}})),(0,a.tZ)(Wl.Z,{resetOnSelect:!0,label:"Pane Actions",items:f,onItemClick:function(e){e.run()}})}var tc=(0,g.memo)(nc),rc=I.KD.div,ic=(0,l.iv)([I.l0.flex.growAndShrink(1),I.l0.minWidth(16),I.l0.height("100%")]);function oc(e){var n=e.paneGroupId,t=(0,kl.q6)({paneGroupId:n}),r=t.isDragging,i=t.dnd,o=(0,Fl.Lo)().toggleMaximizedPaneGroup;if(!i)return null;var l=r?"grabbing":"grab";return(0,a.tZ)(rc,{onDoubleClick:function(){o({paneGroupId:n})},css:[ic],style:{cursor:l},onPointerDown:function(e){ni(e,{start:i.start,move:i.update,end:i.end})}})}var ac=j.K.div,lc=(0,l.iv)([I.l0.width("100%"),I.l0.position.absolute,I.l0.left(0),{cursor:"ns-resize",zIndex:1,":hover":{transform:"scaleY(4)"}}]),cc=(0,l.iv)([I.l0.height("100%"),I.l0.position.absolute,I.l0.top(0),{cursor:"ew-resize",zIndex:1,":hover":{transform:"scaleX(4)"}}]),sc=(0,l.iv)([I.l0.position.absolute,{zIndex:2,transform:"scale(2)",":hover":{transform:"scale(4)"}}]);function uc(e){var n="topLeft"===e||"topRight"===e?"bottom":"top";return{transformOrigin:"".concat("topLeft"===e||"bottomLeft"===e?"right":"left"," ").concat(n)}}var dc={topLeft:(0,l.iv)([I.l0.top(0),I.l0.left(0),uc("topLeft")]),topRight:(0,l.iv)([I.l0.top(0),I.l0.right(0),uc("topRight")]),bottomLeft:(0,l.iv)([I.l0.bottom(0),I.l0.left(0),uc("bottomLeft")]),bottomRight:(0,l.iv)([I.l0.bottom(0),I.l0.right(0),uc("bottomRight")])};function pc(e){var n=e.edge,t=e.size,r=e.onPointerDown;if("top"===n||"bottom"===n)return(0,a.tZ)(ac,{onPointerDown:r,style:(0,br.Z)({height:t},n,-t),css:lc});if("right"===n||"left"===n)return(0,a.tZ)(ac,{onPointerDown:r,style:(0,br.Z)({width:t},n,-t),css:cc});var i="topLeft"===n||"bottomRight"===n?"nwse-resize":"nesw-resize";return(0,a.tZ)(ac,{onPointerDown:r,style:{height:t,width:t,cursor:i},css:[sc,dc[n]]})}var fc={height:0,width:0};var hc={width:120,height:120},vc=(0,W.cn)(null),mc=(0,W.cn)(null,(function(e,n,t){var r=e(rn.g4);if("end"===t.type)return n(vc,null),void n(at.iH,r);if("update"!==t.type){var i=e(on.Eh).find((function(e){return e.paneId===t.paneId}));if(!i){var o=new Error("Expected pane");throw n(Hr.xm,{error:o,tags:{layoutstate:!0}}),o}n(st.W1,t.paneId),n(vc,{paneId:t.paneId,edge:t.edge,rectStart:e(i.rectAtom)})}else{var a=e(vc);if(!a){var l=new Error("Expected floatingResizeState");throw n(Hr.xm,{error:l,tags:{layoutstate:!0}}),l}var c=e(on.M0),s=function(e,n){var t=n.edge,r=n.delta,i=n.minSize,o=void 0===i?fc:i,a=(0,y.Z)({},e),l=o.height,c=o.width;if(function(e){return"top"===e||"topLeft"===e||"topRight"===e}(t)){var s=e.height-r.y;a.height=Math.max(s,l),a.y=s<l?e.y+e.height-l:e.y+r.y}else if(function(e){return"bottom"===e||"bottomLeft"===e||"bottomRight"===e}(t)){var u=e.height+r.y;a.height=Math.max(u,l)}if(function(e){return"right"===e||"bottomRight"===e||"topRight"===e}(t)){var d=e.width+r.x;a.width=Math.max(d,c)}else if(function(e){return"left"===e||"bottomLeft"===e||"topLeft"===e}(t)){var p=e.width-r.x;a.width=Math.max(p,c),a.x=p<c?e.x+e.width-c:e.x+r.x}return a}(a.rectStart,{delta:t.moveDelta,edge:a.edge,minSize:hc}),u=a.paneId,d=(0,ie.ZP)(r,(function(e){var t=e.floating.find((function(e){return e.panes.includes(u)}));if(!t){var r=new Error("Expected floating");throw n(Hr.xm,{error:r,tags:{layoutstate:!0}}),r}var i=t.rect;i.x=s.x,i.y=s.y-c,i.width=s.width,i.height=s.height+c}));n(at.iH,d)}}));function gc(e){var n=e.paneId,t=e.onChange,r=(0,re.Z)((function(){return(0,W.cn)((function(e){var t=e((0,on.z)(n));return e(t.rectAtom).width}))}),[n]),i=(0,W.Dv)(r),o=(0,nt.Z)(t),a=(0,re.Z)((function(){return ei()((function(){o.current()}),500)}),[o]);return(0,g.useEffect)(a,[i,a]),null}function Zc(e){var n=(0,on.Xs)(e),t=(0,re.Z)((function(){return(0,W.cn)((function(e){var t=e(n);return e((0,on.z)(t.panes[t.activeIndex])).paneId}))}),[n]);return(0,W.Dv)(t)}function yc(e){var n=e.headerId,t=(0,W.b9)(Nt.Oe),r=(0,W.b9)(Nt.Je),o=(0,W.b9)(Nt.SG),l=(0,W.b9)(bo.U),c=(0,W.Dv)(Nt.c),s=function(e){var n=(0,on.Xs)(e),t=(0,W.Dv)((0,re.Z)((function(){return(0,W.cn)((function(e){return e(n).activeIndex}))}),[n])),r=(0,W.Dv)((0,re.Z)((function(){return(0,Kr.kv)(n,(function(e){return e.path}),al())}),[n])),i=(0,W.Dv)((0,re.Z)((function(){return(0,Kr.kv)(n,(function(e){return e.panes}),al())}),[n])),o=Zc(e),a=(0,re.Z)((function(){return(0,W.cn)((function(e){var t=e(n),r=e((0,on.z)(t.panes[t.activeIndex])),i=e(r.data);return(0,te.KM)(i)?(0,te.DQ)(i):null}))}),[n]);return{activeIndex:t,path:r,panes:i,activeTabPaneId:o,activeFile:(0,W.Dv)(a)}}(n),u=s.activeIndex,d=s.panes,p=s.activeTabPaneId,f=s.activeFile,h=function(){var e,n=(0,g.useRef)(null),t=null===(e=n.current)||void 0===e?void 0:e.osInstance(),r=(0,g.useRef)(0),i=(0,g.useRef)(0),o=(0,fl.Fg)().isDarkColorScheme,a=(0,Tr.T)();return{options:hl,handleWheel:function(e){if(t&&0!==e.deltaY&&0===e.deltaX){var n=e.deltaY<0?-1:1,o=i.current!==n?t.scroll().position.x:r.current,a=25*n,l=t.scroll().max.x;r.current=Math.max(0,Math.min(l,o-a)),i.current=n;var c=function(){if(t){var e=t.scroll().position.x,n=r.current-e,i=Math.round(e+n/10);0!==n&&(t.scroll({x:i}),window.requestAnimationFrame(c))}};window.requestAnimationFrame(c)}},ref:n,className:o?"os-theme-light":"os-theme-dark",update:(null===t||void 0===t?void 0:t.update)?function(){return t.update()}:null,scrollIntoViewIfNeeded:function(e){null===t||void 0===t||t.scroll({el:e,scroll:"ifneeded",block:"nearest"},a?0:160)}}}(),v=(0,i.Z)((0,ll.L)({accept:[dn.Tv.File,cl.z.Pane,cl.z.NewPane],hover:function(e,n){var t=n.getSourceClientOffset();t&&w({item:e,panes:d,sourceClientOffset:t.x})},collect:function(e){return{isOver:e.isOver()}},drop:function(e,t){if(!t.didDrop()){var i=null!==(null===x||void 0===x?void 0:x.index)?null===x||void 0===x?void 0:x.index:d.length;if(e.type!==dn.Tv.File&&e.type!==dn.Tv.Directory)if(e.type!==cl.z.NewPane){if("paneId"in e){var a=d.includes(e.paneId)?d.length-1:d.length;o({paneId:e.paneId,index:void 0!==i&&i<a?i:a,toPaneGroupId:n})}}else r({activate:!0,paneGroupId:n,index:i,panes:[e.pane]});else{var l=e.nodes.filter((function(e){return e.type===dn.Tv.File})).map((function(e){return{type:(0,te.Dp)({path:e.path}),data:{path:e.path}}}));l.length>0&&r({activate:!0,paneGroupId:n,index:i,panes:l})}}}}),2),m=v[0],Z=v[1],y=function(e){var n=e.isOver,t=(0,g.useState)(null),r=t[0],i=t[1],o=(0,g.useRef)(null),a=(0,g.useRef)([]);(0,g.useEffect)((function(){if(!n)return a.current=[],void i(null);o.current&&(a.current=(0,F.Z)(o.current.children).map((function(e){var n=e.getBoundingClientRect();return n.x+n.width/2})))}),[n]);var l=(0,g.useCallback)((function(e){if(0!==a.current.length){var n=e.item.type===cl.z.Pane?e.item:null,t=(null===n||void 0===n?void 0:n.paneId)||null,r=t?e.panes.indexOf(t):-1,o=(null===n||void 0===n?void 0:n.width)||80,l=a.current.map((function(e,n){return-1===r||r<n?e:e+o/2})).findIndex((function(n){return n>e.sourceClientOffset})),c=-1===l,s=-1===r?e.panes.length:e.panes.length-1;i({index:c?s:Math.min(l,s),paneId:t,width:o})}}),[]);return{tabContainerRef:o,hover:l,dropState:r}}({isOver:m.isOver}),b=y.tabContainerRef,w=y.hover,x=y.dropState,R=x?x.index:null;if((null===x||void 0===x?void 0:x.paneId)&&null!==R){var T=d.indexOf(x.paneId);T>-1&&T<R&&R++}var C=x&&null!==R?(0,F.Z)(d.slice(0,R)).concat([x],(0,F.Z)(d.slice(R))):d;return(0,a.BX)(a.HY,{children:[(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(2),I.l0.flex.growAndShrink(1),I.l0.align.center,I.l0.height("100%")],innerRef:Z,children:[(0,a.tZ)(I.G7,{css:[I.l0.flex.row,I.l0.flex.shrink(1),I.l0.align.center,I.l0.height("100%")],children:(0,a.tZ)(dl,{style:{height:"100%",width:"100%"},className:h.className,options:{overflowBehavior:{y:"hidden"},scrollbars:{autoHide:"leave",visibility:c?"hidden":"auto"}},onWheel:h.handleWheel,ref:h.ref,children:(0,a.tZ)(I.G7,{innerRef:b,css:[I.l0.flex.row,I.l0.height("100%"),I.l0.py(4),I.l0.px(2)],children:C.map((function(e,r){var i=u===r;return"string"!==typeof e?(0,a.tZ)(I.G7,{css:[I.l0.px(2)],children:(0,a.tZ)(I.G7,{css:[I.l0.borderRadius(8),I.l0.width(e.width),I.l0.height(28),I.l0.backgroundColor.accentPrimaryDimmest,{border:"1px dashed ".concat(I.TV.accentPrimaryDefault)}]})},"preview"):(0,a.tZ)(Sl,{dragGroup:1===d.length,paneId:e,paneGroupId:n,isActive:i,onClick:function(){t(e)},onClose:function(){l(e)},scrollIntoViewIfNeeded:h.scrollIntoViewIfNeeded},e)}))})})}),(0,a.tZ)(I.hU,{alt:"New tab",tooltipHidden:!0,onClick:function(){r({paneGroupId:n,activate:!0,panes:[{type:"commands",data:{autoFocus:!0}}]})},children:(0,a.tZ)(ar.Z,{})}),(0,a.tZ)(oc,{paneGroupId:n})]}),(0,a.tZ)(Xl,{headerId:n,paneId:p,activeFile:f}),(0,a.tZ)(I.G7,{css:I.l0.px(4),children:(0,a.tZ)(tc,{paneId:p,paneGroupId:n})}),h.update?(0,a.tZ)(gc,{paneId:p,onChange:h.update}):null]})}var bc=(0,g.memo)(yc),wc=(0,l.iv)([I.l0.borderRadius(8,8,0,0),I.l0.position.absolute,I.l0.flex.row,I.l0.align.center],{borderBottom:"1px solid ".concat(I.TV.backgroundHigher)}),xc=["top","right","left","topRight","topLeft"];function Rc(e){var n=e.headerId,t=function(e){var n=e.headerId,t=(0,on.Xs)(n),r=(0,re.Z)((function(){return(0,W.cn)((function(e){return"floating"===e(t).path[0]}))}),[t]);return(0,W.Dv)(r)}({headerId:n}),r=Zc(n),i=(0,W.b9)(mc);return t?(0,a.tZ)(a.HY,{children:xc.map((function(e){return(0,a.tZ)(pc,{size:8,edge:e,onPointerDown:function(n){ni(n,{start:function(){i({type:"start",paneId:r,edge:e})},move:function(e){var n=e.delta;i({type:"update",moveDelta:n})},end:function(){i({type:"end"})}})}},e)}))}):null}var Tc=(0,g.memo)(Rc);function Cc(e){var n=e.headerId,t=(0,on.Xs)(n),r=Zc(n),i=(0,Fl.XP)({paneGroupId:n}),o=(0,re.Z)((function(){return(0,W.cn)((function(e){return e(e(t).rectAtom)}))}),[t]),l=(0,W.Dv)(o),c=(0,er.w8)(r),s=(0,kl.cI)({paneId:r}),u=i||l,d=(0,kl.FD)({paneId:r}),p=(0,st.Xo)();return(0,a.BX)(I.Tg,{elevated:!0,css:wc,style:{transform:s?"scale(".concat(s.scale,")"):void 0,transformOrigin:s?"".concat(s.originX," bottom"):void 0,width:u.width,height:u.height,top:Math.round(u.y),left:Math.round(u.x),zIndex:c,transitionProperty:d?"all":void 0,transitionDuration:d?"140ms":void 0,transitionTimingFunction:d?"ease-out":void 0},onMouseDown:function(){p(r)},children:[(0,a.tZ)(bc,{headerId:n}),(0,a.tZ)(Tc,{headerId:n})]})}var kc=(0,g.memo)(Cc);function Ec(){var e=(0,b.Z)(["\n  query BrowserNotifications($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      image\n    }\n  }\n"]);return Ec=function(){return e},e}var Sc=(0,w.Ps)(Ec());function Ic(e){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,r.Z)((function(e){var n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return null===ht.l?[2]:[4,ht.l.query({query:Sc,variables:{username:e}})];case 1:return[2,null===(t=r.sent().data)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.image]}}))}))).apply(this,arguments)}function _c(){return"Notification"in window?"true"===To.Z.get(Gc,"string")?"dismissed":window.Notification.permission:"denied"}function Dc(){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){try{window.Notification.requestPermission().then()}catch(n){return[2,new Promise((function(e){window.Notification.requestPermission((function(n){e(n)}))}))]}return[2,window.Notification.requestPermission()]}))}))).apply(this,arguments)}function Bc(){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,Dc()];case 1:return e.sent(),Nc(!1),[2]}}))}))).apply(this,arguments)}var Gc="notifications/dismissedModal";function Nc(e){To.Z.set(Gc,String(e))}var Oc={};function Mc(){return(Mc=(0,r.Z)((function(e){var n,t,r,i,a,l,c,s,u,d,p;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=e.title,t=e.body,r=e.badge,i=e.icon,a=e.iconByUsername,l=e.tag,c=e.onClick,s=e.cacheDuration,u=void 0===s?0:s,!document.hidden&&document.hasFocus()?[2]:"granted"!==_c()?[2]:(d=Date.now(),l in Oc&&Oc[l]+u>d?[2]:a?[4,Ic(a)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return p=new window.Notification(n,{body:t,badge:r||"/public/images/logo-grayscale.png",icon:i||"/public/images/icon-square.png",tag:l}),setTimeout((function(){p.close()}),1e4),p.addEventListener("click",(function(){window.focus(),p.close()})),c&&p.addEventListener("click",c),Oc[l]=d,[2]}}))}))).apply(this,arguments)}var Lc=t(20431);var Xc=t(93160),Fc=t(13482),Wc=["bottom","right","left","bottomRight","bottomLeft"],zc=(0,l.iv)([H.l0.coverContainer,H.l0.borderRadius(0,0,8,8)]),jc="--fixed-position-offset-x",Hc="--fixed-position-offset-y",Vc=function(e){return"var(".concat(e,")")},Yc=(0,l.iv)({transform:"translate(".concat(Vc(jc),", ").concat(Vc(Hc),")")}),qc=(0,l.iv)([H.l0.coverContainer,!Fc.gn&&{"& .cm-editor > .cm-tooltip":Yc,"& .cm-editor > .cm-tooltip.cm-tooltip-thread":{left:"0px !important",transform:"translateY(".concat(Vc(Hc),"px)")},".cm-custom-context-menu":Yc}]);function $c(e){var n,t=e.resizable&&e.onResizeControlPointerDown?Wc.map((function(n){return(0,a.tZ)(pc,{size:8,edge:n,onPointerDown:function(t){if(!e.onResizeControlPointerDown)throw new Error("Expected onResizeControlMouseDown");e.onResizeControlPointerDown(t,n)}},n)})):null,r=e.rect;return(0,a.tZ)(j.Z,{style:(n={zIndex:e.zIndex,position:"absolute",width:r.width,height:r.height,transform:"translate(".concat(Math.round(r.x),"px, ").concat(Math.round(r.y),"px)"),transition:e.animate?"transform 140ms ease-out":void 0,transitionTimingFunction:"ease-out",visibility:e.hidden?"hidden":void 0,opacity:e.hidden?0:void 0},(0,br.Z)(n,jc,-e.viewportInset.x+"px"),(0,br.Z)(n,Hc,-e.viewportInset.y+"px"),n),css:{"&:hover":{zIndex:e.zIndexHovered}},children:(0,a.BX)(Xc.Z,{onMouseDown:e.onMouseDown,onContextMenu:e.onMouseDown,elevated:!0,css:zc,className:e.className,children:[(0,a.tZ)(j.Z,{innerRef:e.innerRef,css:qc,children:e.children}),t]})})}var Kc=(0,l.iv)([H.l0.width("100%"),H.l0.flex.growAndShrink(1),{overflow:"auto"}]);function Qc(e){return(0,a.tZ)(j.Z,{css:Kc,style:{pointerEvents:e.disableInteractions?"none":void 0,userSelect:e.disableInteractions?"none":void 0},children:e.children})}var Jc=t(24894),es=(0,W.cn)((function(e){return Boolean(e(kl.sx)||e(vc)||e(qr)||e(Nt.c)||e(Jc.xM))}));var ns=t(46091);var ts={base:(0,l.iv)([I.l0.position.absolute,I.l0.borderRadius(8),{pointerEvents:"none",border:"1px solid",transitionProperty:"border, box-shadow",transitionDuration:q.H.duration,transitionTimingFunction:q.H.timingFunction}]),floating:(0,l.iv)([{borderColor:I.TV.outlineDimmest},I.l0.shadow(2)]),dragging:(0,l.iv)([{borderColor:I.TV.outlineStronger},I.l0.shadow(3)]),active:(0,l.iv)([{borderColor:I.TV.outlineDimmer}])};function rs(e){var n=function(e){var n=e.paneId,t=(0,re.Z)((function(){return(0,W.cn)((function(e){if(e(Fl.Xu))return null;var t=e((0,on.z)(n)),r=n===e(kl.WB),i=n===e(st.J1),o="floating"===t.type;if(!(o||r||i))return null;var a=e(on.M0),l=e(t.rectAtom);return{style:{width:l.width+2,height:l.height+a+2,top:-(a+1),left:-1},isActive:i,isBeingDragged:r,isFloating:o}}))}),[n]);return(0,W.Dv)(t)}({paneId:e.paneId});return n?(0,a.tZ)(I.G7,{css:[ts.base,n.isFloating&&ts.floating,n.isActive&&ts.active,n.isBeingDragged&&ts.dragging],style:n.style}):null}var is=(0,g.memo)(rs);var os=t(10693);function as(e){var n=e.paneId,t=(0,W.Dv)(on.CK),r=(0,W.Dv)((0,on.z)(n)),o=(0,Fl.Je)(n),l=(0,st.cr)({paneId:n}),c=(0,kl.cI)({paneId:n}),s=(0,W.b9)(mc),u=(0,st.Xo)(),d="floating"===r.type&&!r.isDialog,p=(0,kl.FD)({paneId:n}),f=Boolean(o),h=(0,er.MD)(n),v=(0,W.Dv)(es),m=function(e){var n=e.paneId,t=(0,re.Z)((function(){return(0,W.cn)((function(e){if(e(Fl.Xu)===n)return e(Fl.Ep);var t=e((0,on.z)(n));return e(t.rectAtom)}))}),[n]);return(0,W.Dv)(t)}({paneId:n}),g={x:t.x+m.x,y:t.y+m.y},Z=function(e){var n=e.paneId,t=(0,i.Z)((0,ll.L)({accept:[dn.Tv.File,cl.z.Pane,cl.z.NewPane],collect:function(e){return{isOver:e.isOver()}},hover:function(e,t){var r=t.getClientOffset();r&&a.drag({pageX:r.x,pageY:r.y,over:n})},drop:function(e,t){var r=t.getClientOffset();if(r)if(e.type!==cl.z.Pane){if(e.type===dn.Tv.File||e.type===dn.Tv.Directory){var i=e.nodes.filter((function(e){return e.type===dn.Tv.File})).map((function(e){return{type:(0,te.Dp)({path:e.path}),data:{path:e.path}}}));i.length>0&&a.drop({type:"newPaneGroup",panes:i,pageX:r.x,pageY:r.y,over:n})}if(e.type===cl.z.NewPane){var o=e.pane;a.drop({type:"newPaneGroup",panes:[o],pageX:r.x,pageY:r.y,over:n})}}else a.drop({type:"pane",paneId:e.paneId,pageX:r.x,pageY:r.y,over:n})}}),2),r=t[0].isOver,o=t[1],a=(0,ns.s)({isOver:r});return o}({paneId:n}),y="tile"===r.type;return(0,a.BX)(a.HY,{children:[r.isDialog?(0,a.tZ)(ss,{}):null,(0,a.BX)($c,{css:{transform:c?"scale(".concat(c.scale,")"):void 0,transformOrigin:c?"".concat(c.originX," top"):void 0},innerRef:y?Z:void 0,zIndex:h.normal,zIndexHovered:h.hovered,hidden:r.isHidden,viewportInset:g,active:l,rect:m,animate:p,floating:f,resizable:d,onMouseDown:function(){u(n)},onResizeControlPointerDown:function(e,t){ni(e,{start:function(){s({type:"start",paneId:n,edge:t})},move:function(e){var n=e.delta;s({type:"update",moveDelta:n})},end:function(){s({type:"end"})}})},children:[(0,a.tZ)(is,{paneId:n}),(0,a.tZ)(os.Z,{bsod:!0,tags:(0,re.Z)((function(){return{paneType:r.type}}),[r.type]),children:(0,a.tZ)(Qc,{disableInteractions:v,children:(0,a.tZ)(cs,{paneId:n,dataAtom:r.data,isHidden:r.isHidden})})},n)]})]})}function ls(e){var n=e.paneId,t=e.isHidden,r=e.dataAtom,i=(0,W.Dv)(r),o=(0,$.Se)().Content,l=(0,W.b9)(pt.zx),c=function(e){l({fromPaneId:n,data:e})};return(0,a.tZ)(o,{pane:i,options:{paneId:n,isHidden:t,replacePane:c,openPane:c}})}var cs=(0,g.memo)(ls);function ss(){var e=(0,W.b9)(Ro);return(0,a.tZ)(I.G7,{onClick:function(){return e()},css:[I.l0.coverContainer,I.l0.position.fixed,I.l0.backgroundColor.backgroundOverlay]})}var us=(0,g.memo)(as),ds=(0,W.cn)((function(e){var n=e(st.J1);if(!n)return null;var t=e((0,on.z)(n)).rectAtom,r=e(t),i=e(on.M0);return{x:r.x,y:r.y-i,width:r.width,height:r.height+i}}));function ps(){var e=(0,W.Dv)(ds),n=(0,Ll.Z)();return e&&n?(0,a.tZ)("div",{css:[H.l0.position.absolute,H.l0.width(e.width),H.l0.height(e.height),H.l0.borderRadius(4),{boxShadow:"0 0 0 3px ".concat(n.color),pointerEvents:"none",zIndex:3,transform:"translate(".concat(Math.round(e.x),"px, ").concat(Math.round(e.y),"px)")}]}):null}var fs=(0,g.memo)(ps),hs=t(77723),vs=40,ms=(0,W.cn)({}),gs=(0,W.cn)(null,(function(e,n,t){n(ms,(function(e){return(0,ie.ZP)(e,(function(e){e[t.id]=t.preferredHeight}))}))}));var Zs=(0,W.cn)([]),ys=(0,W.cn)(0),bs=(0,W.cn)(null,(function(e,n,t){var r=t.height,i=t.sections,o=r-i.length*vs;n(ys,r),n(Zs,i.map((function(e){var n=e.id,t=e.percent;return{id:n,height:0===t?0:o*(t/100)}})))}));function ws(e){return(0,W.Dv)(function(e){return(0,re.Z)((function(){return(0,W.cn)((function(n){var t;return vs+((null===(t=n(Zs).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)||0)}))}),[e])}(e))}var xs=(0,W.cn)((function(e){return e(Zs).map((function(e){return e.id}))}));var Rs=(0,W.cn)(null,(function(e,n,t){n(ys,t),n(Zs,(function(e){return(0,ie.ZP)(e,(function(e){var n=e.reduce((function(e,n){return e+n.height}),0),r=t-e.length*vs,i=e.filter((function(e){return e.height>0})),o=(r-n)/i.length,a=!0,l=!1,c=void 0;try{for(var s,u=i[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var d=s.value;d.height=Math.max(0,d.height+o)}}catch(p){l=!0,c=p}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}}))}))}));var Ts=t(90051),Cs=t(33101),ks=t(16495);function Es(e){(0,g.useEffect)((function(){e((0,ks.r)(),{captureDraggingState:!0})}),[e])}var Ss={root:I.l0.px(4),rowWrap:(0,l.iv)([I.l0.borderRadius(8)]),row:(0,l.iv)([I.gU.nofill,I.l0.rowWithGap(8),I.l0.p(4),I.l0.minHeight(32),I.l0.align.center,{transition:"initial"}]),icon:(0,l.iv)([I.l0.position.relative,{"& > svg":I.l0.color.foregroundDimmer}]),textWrap:[I.l0.colWithGap(2),I.l0.flex.growAndShrink(1)],heading:[I.l0.flex.growAndShrink(1),{opacity:.5}],text:[I.l0.flex.growAndShrink(1)]};function Is(e){var n=e.title,t=e.icon,r=e.active,i=e.highlightRanges,o=e.heading,l=e.dragRef;return(0,a.tZ)(I.G7,{css:Ss.root,children:(0,a.tZ)(I.Tg,{elevated:r,css:Ss.rowWrap,children:(0,a.BX)(I.Tg,{innerRef:l,css:Ss.row,children:[(0,a.tZ)(I.G7,{css:Ss.icon,children:t}),(0,a.BX)(I.G7,{css:Ss.textWrap,children:[o?(0,a.tZ)(I.xv,{variant:"small",color:"dimmest",css:Ss.heading,children:o}):null,(0,a.tZ)(I.xv,{css:Ss.text,color:(null===i||void 0===i?void 0:i.length)?"dimmest":"default",children:(null===i||void 0===i?void 0:i.length)?(0,a.tZ)(He.xK,{style:{color:I.TV.foregroundDimmest},matchStyle:{fontWeight:I.TV.fontWeightBold,color:I.TV.foregroundDefault},source:n,matches:i.map((function(e){return{column:e.from,length:e.to-e.from}}))}):n})]})]})})})}function Ps(e){var n=e.pane,t=e.active,r=e.highlightRanges,o=e.title,l=e.heading,c=(0,$.Se)().Icon({pane:n}),s=(0,ns.N)(),u=(0,i.Z)((0,Cl.c)({type:cl.z.NewPane,item:function(){return{type:cl.z.NewPane,pane:n}},end:function(){s()}}),3),d=u[1];return Es(u[2]),(0,a.tZ)(Is,{active:t,icon:c,title:o,heading:l,dragRef:d,highlightRanges:r})}var _s=t(73359);function Ds(){var e=(0,b.Z)(["\n  query WorkspaceHeaderUsersOnline($ids: [Int!]!) {\n    currentUser {\n      id\n    }\n    usersByIds(ids: $ids) {\n      id\n      username\n      image\n    }\n  }\n"]);return Ds=function(){return e},e}var Us={},Bs=(0,w.Ps)(Ds());var As=t(57731);function Gs(){var e=(0,Ne.Z)().presence,n=Li(),t=(0,Mi.Z)({presence:e}),l=(0,i.Z)(function(e){var n=(0,y.Z)({},Us,e);return _s.t(Bs,n)}(),1),c=l[0];return(0,re.Z)((function(){return{data:{type:"context",label:"Multiplayers",icon:(0,a.tZ)(zo.Z,{})},commands:(0,r.Z)((function(){var e,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t.length?[4,c({variables:{ids:t.map((function(e){return e.id}))}})]:[2,[]];case 1:return(e=o.sent().data)?(r=t.reduce((function(e,n){return e[n.id]=n.color,e}),{}),i=e.currentUser,[2,e.usersByIds.filter((function(e){return e.id!==(null===i||void 0===i?void 0:i.id)})).map((function(e){return{match:Xe.pl,data:{type:"action",label:e.username,icon:(0,a.tZ)(I.G7,{style:{border:"2px solid",borderColor:r[e.id],borderRadius:"50%"},children:(0,a.tZ)(As.Z,{size:16,src:e.image,alt:e.username})}),run:function(){return n({username:e.username,id:e.id})}}}}))]):[2,[]]}}))}))}}),[t,n,c])}var Ns={type:"context",icon:(0,a.tZ)(Ve.Z,{}),label:"",description:"Search"};var Os=I.KD.div,Ms=I.KD.input,Ls={inputContainer:(0,l.iv)([I.l0.position.relative,I.l0.flex.row,I.l0.align.center,I.gU.filled,{":focus-within":{borderColor:I.TV.outlineDefault}}]),input:(0,l.iv)([I.l0.flex.growAndShrink(1),I.l0.p(8),I.l0.color.foregroundDefault,{paddingLeft:26,fontSize:I.TV.fontSizeDefault,outline:"0 none",backgroundColor:"transparent",borderColor:"transparent"}]),menuContainer:(0,l.iv)([I.l0.left(0),I.l0.width("100%"),I.l0.overflowY("auto"),I.l0.py(4),I.l0.position.absolute,{top:40,height:"calc(100% - ".concat(40,"px)"),zIndex:1}]),searchIcon:(0,l.iv)([I.l0.position.absolute,I.l0.top(0),I.l0.left(0),I.l0.height("100%"),I.l0.center,{paddingLeft:6,pointerEvents:"none"}]),clearButton:(0,l.iv)([I.l0.reset.button,I.l0.p(4),I.l0.color.foregroundDimmest,I.l0.cursor.pointer,{"&:hover":I.l0.color.foregroundDefault}])};function Xs(){var e=function(){var e=(0,Ne.Z)().fs,n=(0,an.A)(),t=(0,ln.T)(),r=(0,mt.C)(),i=jn(),o=Hn(),l=Gs(),c=(0,re.Z)((function(){return(0,W.cn)((function(c){var s=c(i),u=c(o),d={data:{type:"context",label:"Tools",icon:(0,a.tZ)(cn.Z,{})},commands:function(){return u}},p=(0,Fe.i)({openFile:r,fs:e,shouldHideFile:t,getRecentFiles:n,lazyLoad:!0});return p.match=void 0,{data:Ns,commands:function(){return[s,p,d,l]}}}))}),[e,o,i,t,r,n,l]);return(0,W.Dv)(c)}(),n=(0,mt.C)(),t=(0,pt.TO)(),r=(0,Y.Z)({onSelect:function(e){if(r.combobox.reset(),r.setInputValue(""),"openFile"!==e.data.type)if("openPane"!==e.data.type)"action"!==e.data.type||e.data.run();else{var i=e.data.pane;t({pane:i})}else{var o=e.data.deeplink.path;n({path:o})}},initialCommand:e,insertSectionHeaders:!0}),i=r.combobox;return(0,a.BX)(a.HY,{children:[(0,a.BX)(Os,(0,z.Z)((0,y.Z)({},i.getComboboxProps()),{css:Ls.inputContainer,children:[(0,a.tZ)(I.G7,{css:Ls.searchIcon,children:r.isLoading?(0,a.tZ)(Ue.Z,{}):(0,a.tZ)(Ve.Z,{color:I.TV.foregroundDimmest})}),(0,a.tZ)(Ms,(0,y.Z)({css:Ls.input},r.combobox.getInputProps({value:r.inputValue,ref:r.inputRef,onChange:function(e){return r.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"Escape"===e.key&&e.currentTarget.blur()},placeholder:"Search"}))),r.inputValue.length>0?(0,a.tZ)(I.G7,{css:Ls.clearButton,tag:"button",children:(0,a.tZ)(De.Z,{onClick:function(){return r.setInputValue("")}})}):null]})),(0,a.tZ)(I.Tg,(0,z.Z)((0,y.Z)({style:{display:r.inputValue?void 0:"none"},css:Ls.menuContainer},r.combobox.getMenuProps({refKey:"innerRef"})),{children:(0,a.tZ)(Ws,{items:r.itemsWithSections||[],getItemProps:i.getItemProps,highlightedIndex:i.highlightedIndex,isLoading:r.isLoading})}))]})}function Fs(e){var n=(0,g.useRef)(e.items);if(!(e.items!==n.current))return null;var t=e.items.slice(0,100);return e.isLoading||0!==t.length?(0,a.tZ)(I.G7,{css:[I.l0.pt(2)],children:t.map((function(n){if(n.isSection){var t=n.name;return(0,a.tZ)(I.xv,{variant:"small",color:"dimmest",css:[I.l0.px(12),I.l0.py(4)],children:t},t)}var r=n.item,i=n.index,o=i===e.highlightedIndex,l=function(e){var n=e.data,t=e.match.render,r=n.icon,i=n.label,o=null,a=void 0;if("openFile"===n.type){var l=n.deeplink.path;o={type:(0,te.Dp)({path:l}),data:{path:l}}}else"openPane"===n.type&&(o=n.pane);var c=t&&"ranges"in t?t.ranges:void 0;if(o&&(0,te.KM)(o)&&o.data.path){var s=o.data.path;i=(0,Do.UO)(s);var u=s.length-i.length;u>0&&(c=null===c||void 0===c?void 0:c.reduce((function(e,n){return n.from-u>=0&&e.push({from:n.from-u,to:n.to-u}),e}),[]));var d=(0,Do.Il)(s);d&&(a=d)}return{pane:o,title:i,heading:a,icon:r,highlightRanges:c}}(r),c=l.pane,s=l.highlightRanges,u=l.icon,d=l.title,p=l.heading;return(0,a.tZ)(Os,(0,z.Z)((0,y.Z)({css:[{cursor:"pointer"}]},e.getItemProps({item:r,index:i})),{children:c?(0,a.tZ)(Ps,{active:o,highlightRanges:s,pane:c,title:d,heading:p}):(0,a.tZ)(Is,{active:o,highlightRanges:s,title:d,icon:u})}),(0,Y.k)(r))}))}):(0,a.tZ)(I.xv,{color:"dimmest",css:[I.l0.px(8),I.l0.py(16),{textAlign:"center"}],children:"No results found"})}var Ws=(0,g.memo)(Fs),zs=t(96189),js=t(47979),Hs=t(25582),Vs=t(12824),Ys=t(94058),qs={38:20},$s={root:(0,l.iv)([I.gU.filled,I.l0.position.relative,I.l0.center,I.l0.borderRadius(8),{"& > svg":I.l0.color.foregroundDimmer}]),hovered:(0,l.iv)({backgroundColor:I.vb.interactiveBackgroundActive,"& > svg":I.l0.color.foregroundDefault}),active:(0,l.iv)([I.gU.filled[":not([disabled])"][":active"],{"& > svg":I.l0.color.foregroundDimmer}]),focused:(0,l.iv)([{boxShadow:"0 0 0 2px "+I.TV.accentPrimaryDefault,outline:"2px solid transparent",outlineOffset:"4px"}])};function Ks(e){var n=e.innerRef,t=e.indicator,r=e.hovered,i=e.active,o=e.children,l=e.className,c=e.size,s=void 0===c?38:c;return(0,a.BX)(I.G7,{className:l,innerRef:n,css:[$s.root,r&&$s.hovered,i&&$s.active],style:{width:s,height:s},children:[(0,g.cloneElement)(o,{size:qs[s]}),t?(0,a.tZ)(se,{small:!0}):null]})}var Qs={root:(0,l.iv)([I.l0.viewStyle,I.l0.reset.button,I.l0.colWithGap(4),I.l0.cursor.pointer,I.l0.center,I.l0.pt(2),I.l0.pt(4),{"&:hover .text":[I.l0.color.foregroundDefault]},{"&:hover .icon":[$s.hovered]},{"&:active .icon":[$s.active]},{"&:focus-visible .icon":[$s.focused]}]),hovered:(0,l.iv)([I.l0.color.foregroundDefault]),text:[I.l0.flex.growAndShrink(1),{fontSize:10}]};function Js(e){var n=e.pane,t=e.onClick,r=e.iconRef,i=e.hovered,o=(0,$.Se)(),l=o.Icon({pane:n,size:20}),c=o.getTitle(n),s=le({paneType:n.type});return(0,a.BX)("button",{css:[Qs.root,i&&Qs.hovered],onClick:t,children:[(0,a.tZ)(Ks,{className:"icon",innerRef:r,hovered:i,indicator:s,children:l}),(0,a.tZ)(nu,{className:"text",hovered:i,children:c})]})}var eu={root:(0,l.iv)([I.l0.flex.growAndShrink(1),{fontSize:10,textAlign:"center"}])};function nu(e){var n=e.children,t=e.hovered,r=e.className;return(0,a.tZ)(I.xv,{className:r,css:eu.root,color:t?"default":"dimmest",children:n})}var tu={root:(0,l.iv)([I.l0.position.absolute]),icon:(0,l.iv)([I.l0.shadow(2)]),textContainer:(0,l.iv)([I.l0.position.absolute,I.l0.left("50%"),I.l0.bottom("0"),I.l0.width("200%"),I.l0.center,{transform:"translate(-50%, calc(100% + ".concat(4,"px))")}])};function ru(e){var n=e.pane,t=e.x,r=e.y,i=(0,$.Se)(),o=i.Icon({pane:n,size:20}),l=i.getTitle(n),c=le({paneType:n.type});return(0,a.BX)(I.G7,{css:tu.root,style:{transform:"translate(".concat(t,"px, ").concat(r,"px)")},children:[(0,a.tZ)(Ks,{css:tu.icon,active:!0,indicator:c,children:o}),(0,a.tZ)(I.G7,{css:tu.textContainer,children:(0,a.tZ)(nu,{hovered:!0,children:l})})]})}var iu={root:(0,l.iv)([I.l0.position.absolute,I.l0.shadow(2),I.l0.borderRadius(8),I.l0.minWidth(100)])};function ou(e){var n=e.pane,t=e.x,r=e.y,i=(0,$.Se)(),o=i.Icon({pane:n,size:20}),l=i.getTitle(n);return(0,a.tZ)(I.G7,{css:iu.root,style:{transform:"translate(".concat(t,"px, ").concat(r,"px)")},children:(0,a.tZ)(Is,{active:!0,icon:o,title:l})})}function au(){var e=(0,Ys.u)();if(!e.display)return null;var n=e.item,t=e.monitor.getSourceClientOffset();return t?n.grid?(0,a.BX)(a.HY,{children:[(0,a.tZ)(Cr.a,{cursor:"grabbing"}),(0,a.tZ)(ru,{pane:n.pane,x:t.x,y:t.y})]}):(0,a.BX)(a.HY,{children:[(0,a.tZ)(Cr.a,{cursor:"grabbing"}),(0,a.tZ)(ou,{pane:n.pane,x:t.x,y:t.y})]}):null}var lu=(0,l.iv)({position:"fixed",pointerEvents:"none",zIndex:er.MI.filetreeDragLayer,left:0,top:0,width:"100%",height:"100%"});function cu(){var e=(0,Vs.f)((function(e){return{item:e.getItem(),itemType:e.getItemType(),isDragging:e.isDragging()}})),n=e.isDragging,t=e.itemType===cl.z.NewPane;return n&&t?(0,a.tZ)("div",{css:lu,children:(0,a.tZ)(au,{})}):null}function su(e){var n=e.pane,t=(0,pt.TO)(),r=(0,ns.N)(),o=(0,i.Z)((0,Cl.c)({type:cl.z.NewPane,item:function(){return{type:cl.z.NewPane,pane:n,grid:!0}},end:function(){r()}}),3),l=o[1];return Es(o[2]),(0,a.tZ)(Js,{pane:n,iconRef:l,onClick:function(){t({pane:n}),function(e){var n={action:"opened"};switch(kn.n_({category:"dock",message:"Opened ".concat(e)}),e){case"git":return(0,ii.j)(ii.U3.VERSION_CONTROL_FEATURE_USED,n);case"envEditor":return(0,ii.j)(ii.U3.ENV_EDITOR_USED,n);case"database":return(0,ii.j)(ii.U3.DATABASE_USED,{action:"opened",type:"ReplitKV",provider:"replit"});case"neon":return(0,ii.j)(ii.U3.DATABASE_USED,{action:"opened",type:"PostgreSQL",provider:"neon"});case"replAuth":return(0,ii.j)(ii.U3.AUTH_SIDEBAR_USED,n);case"packager":return(0,ii.j)(ii.U3.PACKAGE_MANAGER_USED,n);case"unitTests":return(0,ii.j)(ii.U3.REPL_UNIT_TEST_USED,n);case"debugger":(0,ii.j)(ii.U3.DEBUGGER_USED,n)}}(n.type)}})}var uu=(0,l.iv)([I.l0.pl(8),{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fill, minmax(".concat(60,"px, 1fr))"),gridAutoFlow:"dense"}]);function du(){var e=Wn(),n=e.length,t=(0,W.b9)(gs);return(0,g.useEffect)((function(){var e=Math.min(300,40*n);t({id:"dock",preferredHeight:e})}),[n,t]),(0,a.BX)(a.HY,{children:[(0,a.tZ)(cu,{}),(0,a.tZ)(I.G7,{css:uu,children:e.map((function(e){return(0,a.tZ)(su,{pane:e},e.type)}))})]})}function pu(e){var n=e.sections,t=e.id,r=n.findIndex((function(e){return e.id===t}));if(-1===r)throw new Error("");var i=n[r],o=i.height;i.height=0;var a=r===n.length-1?n.slice(0,r).reverse():n.slice(r),l=!0,c=!1,s=void 0;try{for(var u,d=a[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value;if(0!==p.height)return void(p.height+=o)}}catch(h){c=!0,s=h}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}var f=n[r+1];f&&(f.height=o)}var fu=(0,W.cn)(null),hu=(0,W.cn)(null,(function(e,n,t){var r=e(Zs);if("start"!==t.type){var i=e(fu);if(!i)throw new Error("");if("update"!==t.type)n(Zs,(0,ie.ZP)(r,(function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;a.height>=32||pu({sections:e,id:a.id})}}catch(l){t=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}))),n(fu,null);else{var o=e(ys);n(Zs,(0,ie.ZP)(i.sectionStart,(function(e){var n=i.heightStart+t.delta;!function(e){var n=e.sections,t=e.id,r=e.totalHeight-n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),i=n.findIndex((function(e){return e.id===t}));if(-1===i)throw new Error("Expected sectionIndex");var o=r+n.slice(i).reduce((function(e,n){return e+n.height}),0),a=n[i],l=e.height>a.height,c=Math.min(o,e.height),s=Math.abs(a.height-c);if(l){a.height=Math.max(0,c);var u=!0,d=!1,p=void 0;try{for(var f,h=n.slice(i+1)[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=f.value;if(0!==v.height){if(!(v.height<s)){v.height-=s;break}s-=v.height,v.height=0}}}catch(C){d=!0,p=C}finally{try{u||null==h.return||h.return()}finally{if(d)throw p}}}else{var m=n[i+1];if(e.height>=0)return a.height=e.height,void(m&&(m.height+=s));var g=a.height;a.height=0;var Z=-1*e.height,y=!0,b=!1,w=void 0;try{for(var x,R=n.slice(0,i).reverse()[Symbol.iterator]();!(y=(x=R.next()).done);y=!0){var T=x.value;if(T.height>Z){g+=Z,T.height-=Z;break}g+=T.height,Z-=T.height,T.height=0}}catch(C){b=!0,w=C}finally{try{y||null==R.return||R.return()}finally{if(b)throw w}}m&&(m.height+=g)}}({headerHeight:vs,totalHeight:o,sections:e,id:i.id,height:n})})))}}else{var a=r.find((function(e){return e.id===t.id}));if(!a)throw new Error("");n(fu,{id:t.id,heightStart:a.height,sectionStart:r})}}));function vu(e){var n=e.id,t=(0,re.Z)((function(){return(0,W.cn)((function(e){var t;return(null===(t=e(fu))||void 0===t?void 0:t.id)===n}))}),[n]);return(0,W.Dv)(t)}var mu=(0,W.cn)((function(e){return e(rn._E)&&!e(fu)}));var gu=(0,W.cn)(null,(function(e,n,t){var r=e(Zs),i=e(ms)[t],o=r.find((function(e){return e.id===t}));if(!o)throw new Error("");0===o.height?n(Zs,(0,ie.ZP)(r,(function(n){!function(e){var n=e.sections,t=e.preferredHeight,r=e.id,i=n.findIndex((function(e){return e.id===r}));if(-1===i)throw new Error("Expected sectionIndex");var o=n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),a=e.totalHeight-o,l=n[i];if(a>0)l.height=a;else{var c=n.slice(i+1).find((function(e){return e.height>0}))||n.slice(0,i).reverse().find((function(e){return e.height>0}));if(c){if(void 0!==t&&t<c.height)return l.height=t,void(c.height-=t);l.height=c.height,c.height=0}}}({sections:n,id:t,totalHeight:e(ys),headerHeight:vs,preferredHeight:i})}))):(n(gs,{id:o.id,preferredHeight:o.height}),n(Zs,(0,ie.ZP)(r,(function(e){return pu({sections:e,id:t})}))))}));function Zu(){return(0,W.b9)(gu)}function yu(e){var n=(0,re.Z)((function(){return(0,W.cn)((function(n){var t;return 0===(null===(t=n(Zs).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)}))}),[e]);return(0,W.Dv)(n)}var bu=t(72466),wu=t(86851),xu=t(9252),Ru=t(38935),Tu=t(25741),Cu=t(42231),ku=t(9211),Eu=t(69453),Su=t(94135),Iu=(0,g.createContext)(null);function Pu(){var e=(0,g.useContext)(Iu);if(!e)throw new Error("Expected ref");return e}var _u=t(76476),Du={root:(0,l.iv)([I.l0.rowWithGap(4),I.l0.pr(2)])};function Uu(){var e,n,t=(0,mn.Z)(),r=(0,Ne.Z)().session,i=Pu(),o=(0,g.useRef)(null),l=(0,g.useRef)(null),c=(0,Tu.Z)(),s=(0,ct.BN)(),u=(0,Cu.Z)(),d=(0,Su.z)(),p="files",f=yu(p),h=Zu(),v=(0,g.useCallback)((function(){f&&h(p)}),[f,h]),m=[{label:Ru.dk[Ru.st.UploadFile],for:null===(e=o.current)||void 0===e?void 0:e.id,run:function(){o.current&&(0,Eu.Z)({replId:t,action:"uploaded",fileType:dn.Tv.File})}}];u&&m.push({label:Ru.dk[Ru.st.UploadFolder],for:null===(n=l.current)||void 0===n?void 0:n.id,run:function(){l.current&&(0,Eu.Z)({replId:t,action:"uploaded",fileType:dn.Tv.Directory})}});return m.push({label:Ru.dk[Ru.st.OpenPane],run:function(){s({pane:{type:"commands",data:{autoFocus:!0}},edge:"left"})}},{label:Ru.dk[Ru.st.DownloadZip],run:d},{label:Ru.dk[c?Ru.st.HideHiddenFiles:Ru.st.ShowHiddenFiles],run:function(){r.setAreHiddenFilesVisible(!c)}}),(0,a.BX)(I.G7,{children:[(0,a.tZ)(ku.Q,{fileUploadInputRef:o,dirUploadInputRef:l,uploadFiles:function(e){var n;return null===(n=i.current)||void 0===n?void 0:n.uploadFiles(e)}}),(0,a.BX)(I.G7,{css:Du.root,children:[(0,a.tZ)(I.hU,{"data-cy":"filetree-add-file",alt:"New file",tooltipPlacement:"top",onClick:function(){var e;v(),null===(e=i.current)||void 0===e||e.addFileType(dn.Tv.File)},children:(0,a.tZ)(wu.Z,{})}),(0,a.tZ)(I.hU,{alt:"New folder",tooltipPlacement:"top",onClick:function(){var e;v(),null===(e=i.current)||void 0===e||e.addFileType(dn.Tv.Directory)},children:(0,a.tZ)(xu.Z,{})}),(0,a.tZ)(Wl.Z,{resetOnSelect:!0,label:"File Actions",items:m,onItemClick:function(e){e.run()}})]})]})}function Bu(){var e=Pu(),n=(0,_u.p)();return(0,a.tZ)(I.G7,{"data-cy":"sidebar-filetree-section",css:[I.l0.position.absolute,I.l0.width("100%"),I.l0.height("100%")],children:(0,a.tZ)(Hs.Z,{ref:e,filetreeApi:n,showHeader:!1,showResources:!1})})}function Au(){var e=(0,mt.C)();return(0,a.tZ)(bu.Z,{onFileOpen:function(n){return e({path:n})}})}var Gu={kaboom:{title:"Kaboom",content:(0,a.tZ)(Au,{})},files:{title:"Files",controls:(0,a.tZ)(Uu,{}),content:(0,a.tZ)(Bu,{})},dock:{title:"Tools",content:(0,a.tZ)(du,{})}},Nu={root:(0,l.iv)([I.l0.rowWithGap(4),I.l0.align.center,I.l0.height(vs)]),header:(0,l.iv)([I.l0.pl(8),I.l0.flex.growAndShrink(1),I.l0.rowWithGap(4),I.l0.align.center,I.l0.cursor.pointer]),title:(0,l.iv)([I.l0.fontWeight.medium]),border:(0,l.iv)([I.l0.position.absolute,I.l0.top(0),I.l0.right(0),I.l0.width("calc(100% - ".concat(I.TV.space8,")")),{pointerEvents:"none",borderTop:"1px solid",borderColor:I.TV.outlineDimmest}]),content:(0,l.iv)([I.l0.flex.growAndShrink(1),I.l0.overflowY("auto")])},Ou=(0,g.memo)((function(e){var n=yu(e.id),t=Zu(),r=Gu[e.id],i=r.title,o=r.controls;return(0,a.BX)(I.G7,{css:Nu.root,children:[(0,a.BX)(I.G7,{onClick:function(){return t(e.id)},css:Nu.header,children:[(0,a.tZ)(be.Z,{rotate:n?0:90}),(0,a.tZ)(I.xv,{css:Nu.title,children:i})]}),o||null]})})),Mu=(0,g.memo)((function(e){var n=Gu[e.id].content;return(0,a.tZ)(I.G7,{css:[Nu.content,"files"===e.id?I.l0.position.relative:{}],children:(0,a.tZ)(I.G7,{css:I.l0.pb(8),children:n})})})),Lu={root:(0,l.iv)([I.l0.position.relative,I.l0.height(0),I.l0.width("100%"),{zIndex:1,"&:hover > div":{transform:"scaleY(2)"},cursor:"ns-resize"}]),hoverArea:(0,l.iv)([I.l0.position.relative,I.l0.height(8),I.l0.top(-4)])},Xu=(0,g.memo)((function(e){var n=(0,W.b9)(hu),t=vu({id:e.id});return(0,a.tZ)(I.G7,{css:Lu.root,onPointerDown:function(t){ni(t,{start:function(){n({type:"start",id:e.id})},move:function(e){var t=e.delta;n({type:"update",delta:t.y})},end:function(e){var t=e.delta;n({type:"end",delta:t.y})}})},children:(0,a.tZ)(I.G7,{style:t?{transform:"scaleY(100)"}:void 0,css:Lu.hoverArea})})}));function Fu(e){var n=ws(e.id),t=(0,W.Dv)(mu),r=vu({id:e.id});return(0,a.BX)(I.G7,{style:{zIndex:r?2:void 0,height:n,position:"relative",transition:t?"height 120ms ease-out":void 0},children:[e.border?(0,a.tZ)(I.G7,{css:Nu.border}):null,(0,a.tZ)(Ou,{id:e.id}),(0,a.tZ)(Mu,{id:e.id}),e.resizable?(0,a.tZ)(Xu,{id:e.id}):null]})}var Wu={container:(0,l.iv)([I.l0.position.absolute,I.l0.top(0),I.l0.left(0),I.l0.width("100%"),I.l0.height("100%"),I.l0.minWidth(hs.ih)]),header:(0,l.iv)([I.l0.pl(8),{zIndex:3}]),content:(0,l.iv)([I.l0.flex.growAndShrink(1)]),footer:(0,l.iv)([I.l0.pl(8),{zIndex:2}]),resources:(0,l.iv)([I.l0.justify.center,I.l0.position.relative,{"& > div":[{borderColor:I.TV.outlineDimmest},I.l0.px(0),I.l0.pt(16)]}]),help:(0,l.iv)([I.l0.pb(8),I.l0.flex.growAndShrink(1),I.l0.justify.center])};function zu(){return(0,a.BX)(I.G7,{css:Wu.footer,children:[(0,a.tZ)(I.G7,{css:Wu.resources,children:(0,a.tZ)(Ts.w,{})}),(0,a.tZ)(I.G7,{css:Wu.help,children:(0,a.tZ)(Cs.Z,{big:!0})})]})}function ju(){var e=(0,W.b9)(bs),n=(0,W.b9)(Rs),t=(0,js.oj)(),r=(0,g.useRef)(null);(0,g.useEffect)((function(){if(r.current){var n=r.current.getBoundingClientRect().height;e(t?{height:n,sections:[{id:"files",percent:0},{id:"kaboom",percent:60},{id:"dock",percent:40}]}:{height:n,sections:[{id:"files",percent:60},{id:"dock",percent:40}]})}}),[e,t]);var i=(0,zs.Z)((function(e){e&&n(e.height)}),{wait:100,type:"debounce"});return(0,vl.l)(i,r)}var Hu=(0,g.memo)((function(){var e=(0,W.Dv)(xs),n=ju(),t=(0,g.useRef)(null),r=e[e.length-1];return(0,a.tZ)(Iu.Provider,{value:t,children:(0,a.BX)(I.G7,{css:Wu.container,children:[(0,a.tZ)(I.G7,{css:Wu.header,children:(0,a.tZ)(Xs,{})}),(0,a.tZ)(I.G7,{css:Wu.content,innerRef:n,children:e.map((function(e,n){return(0,a.tZ)(Fu,{id:e,resizable:e!==r,border:0!==n},e)}))}),(0,a.tZ)(zu,{})]})})})),Vu=I.KD.div,Yu=(0,l.iv)([I.l0.position.absolute,I.l0.center,Pr,{cursor:"ew-resize",":hover":{zIndex:er.MI.gutterHovered}}]),qu={default:(0,l.iv)([I.l0.height(24),I.l0.width(2),Ar]),active:(0,l.iv)([I.l0.height("100%"),I.l0.width(1),I.l0.backgroundColor.accentPrimaryDefault]),shared:(0,l.iv)([I.l0.borderRadius(4),{transitionProperty:"width, height, background-color",transitionTimingFunction:"ease-out"}])},$u=(0,l.iv)([I.l0.coverContainer,{":hover":{transform:"scaleX(4)"}}]),Ku=(0,l.iv)([I.l0.position.absolute,I.l0.height("200vh"),I.l0.width("200vw"),{pointerEvents:"none"}]);function Qu(){var e=(0,Jc.og)(),n=(0,Jc.TN)(),t=(0,Jc.EU)(),r=(0,er.bJ)(),i=(0,Tr.T)();return(0,a.BX)(a.HY,{children:[(0,a.BX)(Vu,{css:[Yu,{zIndex:t?r.active:r.normal}],style:{width:e.width,height:e.height,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")},onPointerDown:function(e){ni(e,{start:function(){n.start()},move:function(e){var t=e.delta;n.update({deltaX:t.x})},end:function(){n.end()}})},children:[(0,a.tZ)(I.G7,{className:"grip-line",style:{transitionDuration:i?"0s":"".concat(Or(e.height),"s")},css:[t?qu.active:qu.default,qu.shared]}),(0,a.tZ)(I.G7,{css:t?Ku:$u})]}),t?(0,a.tZ)(Cr.a,{cursor:"ew-resize"}):null]})}var Ju=(0,l.iv)([I.l0.height("100%"),I.l0.position.absolute,I.l0.top(0),I.l0.left(0),I.l0.flex.row,I.l0.flex.growAndShrink(1),I.l0.overflow("auto")]);function ed(){var e=(0,hs.Or)(),n=0===e,t=(0,ka.Z)(Ho.y.Sidepane),r=pn().isTutorial?null:t;return(0,a.BX)(a.HY,{children:[(0,a.tZ)(I.G7,{css:Ju,style:{width:e,visibility:n?"hidden":void 0},innerRef:r,children:(0,a.tZ)(Hu,{})}),(0,a.tZ)(Qu,{})]})}var nd=(0,g.memo)(ed),td=t(60336),rd=t(21603),id=t(63035),od=t(75192),ad=t(43186),ld=t(18888),cd=t(58482),sd=t(6801),ud=t(11213),dd=t(75436);function pd(){var e=(0,b.Z)(["\n  subscription ThreadUpdates($replId: String!) {\n    updatedThread: annotationUpdatesByRepl(replId: $replId) {\n      id\n      ...AnnotationsUIAnchor\n    }\n  }\n  ","\n"]);return pd=function(){return e},e}var fd={},hd=(0,w.Ps)(pd(),sd.j7);function vd(e){!function(e){var n=(0,y.Z)({},fd,e);dd.m(hd,n)}({variables:{replId:e},onData:function(n){var t,r,i=null===(t=n.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.updatedThread;i&&"AnnotationAnchor"===i.__typename&&(n.client.cache.updateQuery({query:sd.yi,variables:{replId:e}},(function(e){return(0,ie.ZP)(e,(function(e){null!==e&&"Repl"===e.repl.__typename&&(e.repl.annotationAnchors.find((function(e){return e.id===i.id}))||e.repl.annotationAnchors.push(i))}))})),n.client.cache.updateQuery({query:ud.Jq,variables:{replId:e,path:i.path}},(function(e){return(0,ie.ZP)(e,(function(e){var n;e&&"ThreadsByFileResult"===(null===(n=e.threadsByFile)||void 0===n?void 0:n.__typename)&&(e.threadsByFile.threads.find((function(e){return e.id===i.id}))||e.threadsByFile.threads.push((0,z.Z)((0,y.Z)({},i),{messageCount:i.messages.length,unreadCount:i.messages.filter((function(e){return!e.seen})).length,participants:i.messages.filter((function(e){return!!e.user})).map((function(e){return e.user}))})))}))})))}})}var md=t(15335);function gd(){var e=(0,b.Z)(["\n  subscription RegisterReplConnection($replId: String!) {\n    replConnection(replId: $replId)\n  }\n"]);return gd=function(){return e},e}var Zd={},yd=(0,w.Ps)(gd());function bd(){!function(e){var n=(0,y.Z)({},Zd,e);dd.m(yd,n)}({variables:{replId:(0,mn.Z)()},skip:(0,md.Z)()!==Sn.e.CONNECTED})}var wd=t(5275),xd=!1;var Rd=(0,W.cn)(null,(function(e,n){n(rn.g4,{tiling:null,floating:[]}),n(rn.yv,[]),n(rn.Md,null),n(Ht.Mn,null),n(Nn,!1),n(Fl.dK,!1),n(kl.sx,null),n(vc,null),n(on.vA)}));function Td(e){var n=(0,nt.Z)(e.initialLayoutState),t=(0,W.Dv)(rn.dD),r=(0,mn.Z)(),i=(0,Ht.mk)(),o=(0,W.b9)(Rd);(0,g.useEffect)((function(){if(t)return i({initialLayoutState:n.current}),function(){o()}}),[r,i,o,t,n])}function Cd(){var e=(0,b.Z)(["\n  mutation UpdateReplConfig($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        config {\n          isVnc\n          isServer\n        }\n      }\n    }\n  }\n"]);return Cd=function(){return e},e}var kd={},Ed=(0,w.Ps)(Cd());function Sd(){var e=(0,mn.Z)(),n=(0,Ne.Z)().container,t=(0,W.b9)(Nt._N),r=(0,i.Z)(function(e){var n=(0,y.Z)({},kd,e);return ui.D(Ed,n)}(),1),o=r[0];(0,g.useEffect)((function(){return n.onPortOpened((function(n){var r,i=n.isVnc;t(i?"vnc":"webview"),r=i?{isVnc:!0}:{isServer:!0},o({variables:{input:(0,y.Z)({id:e},r)}})}))}),[n,t,o,e])}function Id(){var e=(0,b.Z)(["\n  subscription ReplEnvironmentUserCanWrite($replId: String!) {\n    currentUserCanWrite(replId: $replId)\n  }\n"]);return Id=function(){return e},e}var Pd={},_d=(0,w.Ps)(Id());function Dd(e){var n=e.isAnon,t=e.isOwner,r=e.ignoreUnloadPrompt;!function(e){var n=(0,y.Z)({},Pd,e);dd.m(_d,n)}({skip:n||t,variables:{replId:(0,mn.Z)()},onData:function(e){var n=e.data.data;!1===(null===n||void 0===n?void 0:n.currentUserCanWrite)&&(r(!0),window.location.reload())}})}var Ud=t(10129);function Bd(){var e=(0,b.Z)(["\n  query ReplEnvironmentNotifyUserJoin($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        title\n      }\n    }\n  }\n"]);return Bd=function(){return e},e}var Ad=(0,w.Ps)(Bd());function Gd(){return(Gd=(0,r.Z)((function(e){var n;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:if(!ht.l)throw new Error("Expected Apollo client");return[4,ht.l.query({query:Ad,variables:{id:e}})];case 1:return[2,"Repl"===(null===(n=t.sent().data)||void 0===n?void 0:n.repl.__typename)?n.repl.title:null]}}))}))).apply(this,arguments)}function Nd(){var e=(0,Ne.Z)(),n=e.container,t=e.presence;g.useEffect((function(){var e=t.onUserJoin((function(t){var r,i=null===(r=n.getContext())||void 0===r?void 0:r.repl;if(i){var o=t.username;return function(e){return Gd.apply(this,arguments)}(i.id).then((function(e){e&&function(e){Mc.apply(this,arguments)}({title:"",body:"".concat(o," joined ").concat(e),tag:"".concat(i.id,"-").concat(o,"-joined"),iconByUsername:o,cacheDuration:9e5})})),function(){e()}}}))}),[t,n])}var Od=t(95716);function Md(){var e=(0,b.Z)(["\n  query GitRepoIsNewFork($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        origin {\n          id\n        }\n        timeCreated\n        timeUpdated\n      }\n    }\n  }\n"]);return Md=function(){return e},e}var Ld={},Xd=(0,w.Ps)(Md());var Fd=t(16799),Wd=t(67128);function zd(){var e=(0,mn.Z)(),n=(0,Ne.Z)().container,t=function(e){var n=(0,y.Z)({},Ld,e);return x.a(Xd,n)}({variables:{replId:e}}).data,r=null===t||void 0===t?void 0:t.repl;(0,g.useEffect)((function(){if(r){var e,t=null!==r.origin,i=new Date(r.timeUpdated).getTime()-new Date(r.timeCreated).getTime()<1e3;if(t&&i)(e=n).exec.apply(e,(0,F.Z)(Fd.rO.format(Wd.Xe)))}}),[n,r])}function jd(){var e=(0,ro.Z)(),n=e.showConfirm,t=e.showNotice,r=e.hideMessage,i=e.showError,o=(0,Ne.Z)().container;(0,g.useEffect)((function(){var e=o.onToast((function(e){e.startsWith("PANIC")||t(e,function(e){var n=e.length/.025+1e3;return Math.max(1e4,n)}(e))})),a=null,l=!1,c=o.onConnectionStateChanged((function(e){if(a&&(r(a),a=null),e===Sn.e.CONNECTED)return l=!0,void(a=n("Connected",1500));l&&(e!==Sn.e.CONNECTING?e!==Sn.e.DISCONNECTED||(a=i("Disconnected")):a=t("Reconnecting"))}));return function(){a&&r(a),e(),c()}}),[o,n,t,i,r])}var Hd=t(68122),Vd=t(39571);function Yd(e){var n=e.onOpenFile,t=(0,Ne.Z)(),r=function(e){var n=e.dotReplit,t=e.debuggest;return(0,g.useEffect)((function(){return n.watch((function(e){var n;e.error||(null===(n=e.config.debugger)||void 0===n?void 0:n.support)&&t.connect()}))}),[n,t]),(0,Hd.Z)(t.mainClient)}({debuggest:t.debuggest,dotReplit:t.dotReplit});!function(e){(0,g.useEffect)((function(){if(e){var n=e.onStarted((function(e){(0,ii.j)(ii.U3.DEBUGGER_USED,{action:"started",joined:e})})),t=e.onPaused((function(e){(0,ii.j)(ii.U3.DEBUGGER_USED,{action:"paused",reason:e})})),r=e.onBreakpoint((function(n){(0,ii.j)(ii.U3.DEBUGGER_USED,{action:"breakpointToggled",breakpointAction:n,state:e.state.current})}));return function(){n(),t(),r()}}}),[e])}(r),function(e,n){var t,r=n.onOpenFile,i=(0,nt.Z)(r),o=(0,Hd.Z)(e?e.stackFrames:null),a=null===o||void 0===o?void 0:o[0],l=null===a||void 0===a||null===(t=a.source)||void 0===t?void 0:t.path,c=null===a||void 0===a?void 0:a.line;(0,g.useEffect)((function(){if(l&&c&&e){var n=(0,Vd.om)(l);n?i.current({path:n,line:c}):e.stepOut()}}),[e,l,c,i])}(r,{onOpenFile:n})}var qd=t(11020),$d={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"S"};var Kd=t(13897),Qd=t(86800);var Jd=t(50307),ep=t(1864),np="video.json",tp=(0,ep.join)(un.V,np);function rp(e,n){return ip.apply(this,arguments)}function ip(){return(ip=(0,r.Z)((function(e,n){var t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return n.find((function(e){return e.type===dn.Tv.File&&e.filename===np}))?[4,e.readFile(tp)]:[2,null];case 1:return(t=r.sent()).error?[2,null]:[2,t.content.toString()]}}))}))).apply(this,arguments)}function op(){!function(e){var n=(0,Ne.Z)().fs,r=pn().isTutorial,o=(0,nt.Z)(e);(0,g.useEffect)((function(){if(r){var e=!1,a=n.watchDir(un.V,{onChange:function(r){Promise.all([t.e(1142).then(t.t.bind(t,11142,23)),rp(n,r)]).then((function(n){var t=(0,i.Z)(n,2),r=t[0],a=t[1];if(!e)if(a){var l=null;try{l=r.parse(a)}catch(s){}var c="object"===typeof l&&"string"===typeof l.embedUrl?l.embedUrl:null;o.current(c?{embedUrl:c}:null)}else o.current(null)}))},onMoveOrDelete:function(){o.current(null)},onError:function(){o.current(null)}});return function(){e=!0,a()}}}),[n,r,o])}((0,pa.gQ)())}var ap=t(55528),lp=t(4862),cp=t(58823);var sp=(0,W.cn)((function(e){return e(on.Eh).find((function(n){return"education"===e(n.data).type}))||null})),up=(0,W.cn)(null,(function(e,n){var t=e(sp);(null===t||void 0===t?void 0:t.isHidden)?n(Nt.Oe,t.paneId):t||n(ct.g2,{panes:[{type:"education"}],placement:"rightOf",percent:20,relativeTo:["tiling"],makeActive:!0})}));function dp(){var e=bn(),n=(0,W.b9)(up);(0,g.useEffect)((function(){e&&n()}),[e,n])}function pp(){var e=(0,b.Z)(["\n  query TrackMultiplayer($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        multiplayers {\n          id\n        }\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return pp=function(){return e},e}var fp={},hp=(0,w.Ps)(pp());function vp(){var e,n=(0,Ne.Z)().presence,t=(0,mn.Z)(),r=(0,g.useRef)(!1),i=function(e){var n=(0,y.Z)({},fp,e);return x.a(hp,n)}({variables:{replId:t}}),o=i.data,a=i.loading,l=0;"Repl"===(null===o||void 0===o?void 0:o.repl.__typename)&&(l=o.repl.multiplayers.length,"User"===(null===(e=o.repl.owner)||void 0===e?void 0:e.__typename)&&(l+=1));(0,g.useEffect)((function(){if(!a&&!r.current){var e=n.onActiveUsersChange((function(){r.current=!0,e(),(0,ii.j)(ii.U3.MULTIPLAYER_REPL_OPENED,{replId:t,participantsCount:l,usersOnlineCount:n.getActiveUsers().length})}));return e}}),[t,a,l,n])}function mp(){var e=(0,mn.Z)(),n=qa(e),t=Ka(e),r=(0,W.b9)(ae);(0,g.useEffect)((function(){r({paneType:"chat",indicatorType:n>0?"unread":void 0})}),[r,n]),(0,g.useEffect)((function(){r({paneType:"threadInbox",indicatorType:t>0?"unread":void 0})}),[r,t])}function gp(e){var n,t=e.repl,r=e.currentUser,i=r.id===(null===(n=t.user)||void 0===n?void 0:n.id),o=(0,ad.Z)().preferences,a=(0,Ne.Z)().session;!function(){var e=(0,Ne.Z)(),n=e.lspnix,t=e.lsp,r=e.fs,i=(0,ad.Z)().preferences.codeIntelligence,o=(0,_o.Z)()||"",a=(0,ap.Z)(o);g.useEffect((function(){if(!i)return t.stop(),void n.disable();t.start(),n.enable()}),[n,t,i]),g.useEffect((function(){if(a&&o&&(0,Do.Mb)(o))return a.onWorkspaceEdit((function(e){var n=e.edit;return(0,cp.w)({edit:n,fs:r,client:a}),{applied:!0}}))}),[r,a,o]),g.useEffect((function(){if(a&&o&&(0,Do.Mb)(o)&&(0,lp.Z)(a).isTextDocumentSyncSupported)return r.watchTextFile(o,{onFlush:function(){a.isOpen(o)&&a.notify.didSave(o)}})}),[r,o,a])}(),function(){var e=(0,td.ne)();(0,g.useEffect)((function(){var n=function(){e({force:!1}),e.flush()};return window.addEventListener("beforeunload",n),function(){window.removeEventListener("beforeunload",n)}}),[e]),(0,g.useEffect)((function(){var n=function(){"hidden"===document.visibilityState&&e({force:!1})};return document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n)}}),[e]),(0,g.useEffect)((function(){var n=null;return function t(){n=setTimeout((function(){e({force:!1}),t()}),6e4)}(),function(){n&&clearTimeout(n)}}),[e]),(0,g.useEffect)((function(){return function(){e({force:!1}),e.flush()}}),[e])}(),(0,ld.Z)(),(0,wd.Z)({workspaceType:"desktop"}),g.useEffect((function(){var e=function(e){"s"===e.key&&(0,Ud.j)(e)&&e.preventDefault()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Nd(),bd(),function(){var e=(0,Ne.Z)().presence;g.useEffect((function(){return e.onFollowingUsersChanged((function(e){var n=e.followingUsers,t=e.type,r=n.length;"follow"===t?(0,ii.j)(Od.U3.REMOTE_USER_CURSOR_FOLLOWED,{numFollowers:r}):(0,ii.j)(Od.U3.REMOTE_USER_CURSOR_UNFOLLOWED,{numFollowers:r})}))}),[e])}(),Dd({isAnon:!1,isOwner:i,ignoreUnloadPrompt:(0,cd.Z)()}),zd(),function(){var e=(0,Ne.Z)().presence,n=(0,_o.Z)();(0,g.useEffect)((function(){e.updateOpenFile(n)}),[e,n])}(),jd(),Mn(),(0,qd.Z)(),function(){var e=(0,Ne.Z)().runner,n=(0,W.b9)(Nt.im),t=(0,W.b9)(Nt.Ky),r=(0,W.b9)(Nt.ao),i=On(),o=(0,W.Dv)(Ht.Mn),a=(0,jo.e)(Ho.y.Output);g.useEffect((function(){if(o&&(null===a||void 0===a?void 0:a.isActive)){var e=setInterval((function(){n()}),200);return function(){clearInterval(e)}}}),[null===a||void 0===a?void 0:a.isActive,n,o]),g.useEffect((function(){if(o)return e.onStateChanged((function(e){e===hr.A.RUNNING&&n()}))}),[e,n,o]),g.useEffect((function(){o&&(i?t({type:"instructions"}):r({type:"instructions"}))}),[i,t,r,o]),(0,fr.x)($d,{run:function(){return t({type:"shell"})},enabled:Boolean(o)})}(),(0,Kd.Z)(),function(){var e=(0,Ne.Z)(),n=e.presence,t=e.session;(0,g.useEffect)((function(){return n.onUserOpenedFile((function(e){var r=e.user,i=e.file,o=n.getFollowedUser();o&&o.id===r.id&&i&&t.openFile(i)}))}),[n,t]);var r=(0,g.useState)(null),i=r[0],o=r[1];(0,g.useEffect)((function(){return n.onFollowedUserChanged(o)}),[n,t]),(0,g.useEffect)((function(){var e=function(){n.unfollowUser()};if(i){var t=setTimeout((function(){document.addEventListener("click",e)}),0);return function(){clearTimeout(t),document.removeEventListener("click",e)}}}),[i])}(),(0,Jd.Z)(),op(),dp(),function(){var e=pn().isTutorial,n=(0,pa.$x)();(0,g.useEffect)((function(){e&&n()}),[n,e])}(),mp(),vd(t.id),Yd({onOpenFile:function(e){a.openFile(e.path),a.updateDeeplink(e)}}),function(){var e=(0,Qd.JM)().data,n=null===e||void 0===e?void 0:e.currentUser,t=(0,W.b9)(tt.H);(0,g.useEffect)((function(){t({flagGhostrunner:Boolean(null===n||void 0===n?void 0:n.flagGhostrunner)})}),[t,n])}();var l=["html","html_beta"].includes(t.language),c=(0,W.b9)(id.gM);(0,g.useEffect)((function(){return c(l)}),[c,l]),Td({initialLayoutState:t.layoutState||null}),(0,g.useEffect)((function(){return kn.YA("replId",t.id),od.c_.setTag("replId",t.id),function(){kn.YA("replId",void 0),od.c_.setTag("replId",void 0)}}),[t.id]),function(e){var n=e.repl,t=e.currentUser,r=(0,Ne.Z)().container,i=(0,m.useRouter)(),o=(0,In.b)({repl:n,currentUser:t});(0,g.useEffect)((function(){var e;return xd||(xd=!0,e=i.query.initialConnectionMetadata),r.connect({customConnectionMetadata:e,context:o}),function(){r.close()}}),[o,r]),(0,g.useEffect)((function(){return function(){r.destroy()}}),[r])}({repl:t,currentUser:r}),Sd(),(0,g.useEffect)((function(){var e,n="Repl"===(null===(e=t.origin)||void 0===e?void 0:e.__typename)?t.origin.id:null;return(0,rd.Fy)({id:t.id,slug:t.slug,originId:n,roles:r.roles&&r.roles.map((function(e){return e.name}))}),function(){(0,rd.dv)()}}),[t,r.roles]);var s=(0,W.b9)(rn._E),u=(0,Tr.T)();(0,g.useEffect)((function(){s(!u)}),[u,s]);var d=o.isLayoutStacked,p=(0,W.b9)(id.h$);return(0,g.useEffect)((function(){return p(d)}),[p,d]),vp(),null}function Zp(e){var n=e.src,t=e.autoPlay,r=void 0===t||t,i=e.loop,o=void 0===i||i,l=e.width,c=void 0===l?280:l;return(0,a.tZ)(I.G7,{css:[I.l0.p(4),I.l0.borderRadius(8),I.l0.width(c),I.l0.backgroundColor.backgroundRoot,{border:"solid 1px ".concat(I.TV.outlineDimmest)}],children:(0,a.tZ)("video",{style:{width:"100%"},css:I.l0.borderRadius(8),src:n,autoPlay:r,loop:o,playsInline:!0,muted:!0})})}var yp=function(e){return"/public/videos/workspace-onboarding/".concat(e,".mp4")},bp={id:"workspace-desktop-new-user-tour",steps:[{id:Ho.y.Welcome,isModal:!0,title:"Welcome to the Workspace",content:function(){return(0,a.tZ)(I.G7,{css:[I.l0.maxWidth(400)],children:(0,a.BX)(I.xv,{multiline:!0,children:["The Workspace is where you create projects on Replit. These are called"," ",(0,a.tZ)("strong",{children:"Repls."}),(0,a.tZ)("br",{}),"Let's explore around!"]})})}},{id:Ho.y.Editor,title:"Code Editor",content:function(){return(0,a.BX)(I.G7,{css:[I.l0.width("100%"),I.l0.center,I.l0.position.relative],children:[(0,a.tZ)(Zp,{src:yp("editor"),autoPlay:!0,loop:!0}),(0,a.tZ)(I.G7,{css:[I.l0.colWithGap(8),I.l0.width("100%"),I.l0.py(8)],children:(0,a.tZ)(I.xv,{multiline:!0,children:"This is where you write code. The editor helps you by giving you suggestions and coloring your code."})})]})}},{id:Ho.y.Examples,title:"Examples",content:"Click on one of these examples to insert into your editor",autoSkipIfNoTarget:!0},{id:Ho.y.Run,title:"Run Button",content:function(){return(0,a.BX)(I.G7,{css:[I.l0.width("100%"),I.l0.center,I.l0.position.relative],children:[(0,a.tZ)(Zp,{src:yp("run-button"),autoPlay:!0,loop:!0}),(0,a.tZ)(I.G7,{css:[I.l0.colWithGap(8),I.l0.width("100%"),I.l0.py(8)],children:(0,a.tZ)(I.xv,{multiline:!0,children:"Tap the Run button to \u201crun\u201d your code and see its output."})})]})}},{id:Ho.y.Output,title:"Output",content:function(){return(0,a.BX)(I.G7,{css:[I.l0.width("100%"),I.l0.center,I.l0.position.relative],children:[(0,a.tZ)(Zp,{src:yp("output"),autoPlay:!0,loop:!0}),(0,a.tZ)(I.G7,{css:[I.l0.colWithGap(8),I.l0.width("100%"),I.l0.py(8)],children:(0,a.tZ)(I.xv,{multiline:!0,children:"This is where your run output appears. This can be text, websites, games, and more depending on the template you\u2019re using."})})]})}},{id:Ho.y.Sidepane,title:"Sidebar",content:function(){return(0,a.BX)(I.G7,{css:[I.l0.width("100%"),I.l0.center,I.l0.position.relative],children:[(0,a.tZ)(Zp,{src:yp("sidebar"),autoPlay:!0,loop:!0}),(0,a.BX)(I.G7,{css:[I.l0.colWithGap(8),I.l0.width("100%"),I.l0.p(8)],children:[(0,a.BX)(I.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,a.BX)(I.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,a.tZ)(I.xv,{multiline:!0,children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]})}},{id:Ho.y.Share,title:"Invite & Collaborate",content:function(){return(0,a.BX)(I.G7,{css:[I.l0.width("100%"),I.l0.center,I.l0.position.relative],children:[(0,a.tZ)(Zp,{src:yp("invite-multiplayer"),autoPlay:!0,loop:!0}),(0,a.tZ)(I.G7,{css:[I.l0.colWithGap(8),I.l0.width("100%"),I.l0.py(8)],children:(0,a.tZ)(I.xv,{multiline:!0,children:"Invite others to your Repl to collaborate and work together at the same time."})})]})}}]},wp={id:"workspace-desktop-sidebar-tour",steps:[{id:Ho.y.SidebarAnnouncement,title:"The New Workspace",isModal:!0,content:function(){return(0,a.tZ)(I.G7,{css:[I.l0.maxWidth(400)],children:(0,a.tZ)(I.G7,{css:[I.l0.width("100%"),I.l0.py(8)],children:(0,a.tZ)(I.xv,{multiline:!0,children:"If you\u2019re seeing this, that means you get to test the new Workspace redesign. It has a few key differences we want to show you!"})})})}},{id:Ho.y.Sidepane,title:"Sidebar",content:function(){return(0,a.BX)(I.G7,{css:[I.l0.width("100%"),I.l0.center,I.l0.position.relative],children:[(0,a.tZ)(Zp,{src:(e="sidebar","/public/videos/workspace-onboarding/".concat(e,".mp4")),autoPlay:!0,loop:!0}),(0,a.BX)(I.G7,{css:[I.l0.colWithGap(8),I.l0.width("100%"),I.l0.p(8)],children:[(0,a.BX)(I.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,a.BX)(I.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,a.tZ)(I.xv,{multiline:!0,children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]});var e}},{id:Ho.y.SidebarButton,title:"Sidebar Button",content:function(){return(0,a.tZ)(I.G7,{css:[I.l0.width("100%"),I.l0.center,I.l0.position.relative],children:(0,a.tZ)(I.G7,{css:[I.l0.width("100%"),I.l0.py(8)],children:(0,a.tZ)(I.xv,{multiline:!0,children:"Tapping on this quickly opens and closes the entire sidebar."})})})}},{id:Ho.y.GlobalNavButton,title:"Navigation Menu",content:function(){return(0,a.tZ)(I.G7,{css:[I.l0.width("100%"),I.l0.center,I.l0.position.relative],children:(0,a.tZ)(I.G7,{css:[I.l0.width("100%"),I.l0.py(8)],children:(0,a.tZ)(I.xv,{multiline:!0,children:"Tapping on this lets you navigate to other pages on Replit."})})})}},{id:Ho.y.NotificationsButton,title:"Notifications",content:function(){return(0,a.tZ)(I.G7,{children:(0,a.tZ)(I.G7,{css:[I.l0.width("100%"),I.l0.py(8)],children:(0,a.BX)(I.xv,{multiline:!0,children:["You can access all notifications from this menu."," "]})})})}},{id:Ho.y.AvatarButton,title:"Profile Menu",content:function(){return(0,a.tZ)(I.G7,{children:(0,a.tZ)(I.G7,{css:[I.l0.width("100%"),I.l0.py(8)],children:(0,a.tZ)(I.xv,{multiline:!0,children:"You can access your profile and account settings from this menu."})})})}},{id:Ho.y.Feedback,title:"That's all!",isModal:!0,content:function(){return(0,a.tZ)(I.G7,{css:[I.l0.maxWidth(400)],children:(0,a.tZ)(I.G7,{css:[I.l0.width("100%"),I.l0.py(8)],children:(0,a.BX)(I.xv,{multiline:!0,children:["This is the start of many more future updates to the Workspace to help increase the flexibility of Replit.",(0,a.tZ)("br",{}),(0,a.tZ)("br",{}),"If you'd like to leave some feedback, you can"," ",(0,a.tZ)("a",{href:"https://replit.com/@tyler/The-New-Workspace?v=1",target:"_blank",children:(0,a.tZ)("strong",{children:"leave a comment on this Repl"})}),". Happy coding!"]})})})}}]};function xp(e){var n=e.children,t=e.tour,r=function(e){var n;i&&t&&"function"===typeof(null===(n=window.analytics)||void 0===n?void 0:n.user)&&(0,ii.yV)({id:window.analytics.user().id(),workspaceTourId:t.id,workspaceTourStatus:e===t.steps[t.steps.length-1].id?"completed":e.toLowerCase()})};if(!t)return(0,a.tZ)(a.HY,{children:n});var i="workspace-desktop-tour"===t.id||"workspace-desktop-new-user-tour"===t.id;return(0,a.tZ)(jo.r,{tour:t,onStep:r,onDone:r,children:n})}var Rp=t(79611),Tp=t(84935),Cp=t(62718),kp=I.KD.div;function Ep(e){var n=Yn({paneId:e.paneId}),t=(0,Y.Z)({isOpen:!0,onSelect:e.onSelect,initialCommand:n,insertSectionHeaders:!0}),r=t.combobox,i=t.inputRef,o=t.path.length>1,l=Boolean(t.inputValue)||o;return(0,g.useEffect)((function(){var n;e.autoFocus&&(e.isHidden||null===(n=i.current)||void 0===n||n.focus())}),[e.autoFocus,e.isHidden,i]),(0,a.BX)(I.G7,{css:[I.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(kp,(0,z.Z)((0,y.Z)({css:Se.container},r.getComboboxProps()),{children:(0,a.BX)(I.G7,{css:Se.surface,children:[t.path.map((function(e,n){if(n<=1)return null;var r=e.data.label+n;return(0,a.tZ)(Pe,{onClick:function(){var e;t.resetToIndex({index:n,focus:!0}),null===(e=i.current)||void 0===e||e.select()},command:e},r)})),(0,a.tZ)("input",(0,y.Z)({css:Se.input,style:{paddingLeft:o?0:8}},t.combobox.getInputProps({value:t.inputValue,ref:t.inputRef,onChange:function(e){return t.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key?"Backspace"!==e.key||e.currentTarget.value?"Escape"===e.key&&e.currentTarget.blur():t.resetToIndex({index:0}):t.handleLeftRightArrow(e.key)},placeholder:t.placeholder}))),l?(0,a.tZ)("button",{css:Se.closeButton,onClick:function(){t.setInputValue(""),t.resetToIndex({index:0,focus:!0})},children:t.isLoading?(0,a.tZ)(Ue.Z,{}):(0,a.tZ)(De.Z,{})}):null]})})),(0,a.tZ)(Ee,{items:t.itemsWithSections||[],getMenuProps:r.getMenuProps,getItemProps:r.getItemProps,highlightedIndex:r.highlightedIndex,isLoading:t.isLoading,currentPathIndex:t.path.length-1})]})}var Sp={Content:function(e){var n=e.options,t=n.openPane,r=n.isHidden,i=n.paneId,o=e.pane.data.autoFocus;return(0,a.tZ)(Ep,{paneId:i,autoFocus:o,isHidden:r,onSelect:function(e){if("openFile"!==e.data.type)"openPane"!==e.data.type?"action"!==e.data.type||e.data.run():t(e.data.pane);else{var n=e.data.deeplink.path,r={type:(0,te.Dp)({path:n}),data:{path:n}};t(r)}}})},Icon:function(){return null},getTitle:function(){return"New tab"}},Ip=t(82947),Pp=t(34467),_p=t(53249),Dp=t(20787),Up=t(76832),Bp=t(47886),Ap=t(56483),Gp={Content:function(e){var n=e.options,t=n.paneId,r=n.isHidden,i=(0,Ne.Z)(),o=i.container,l=i.fs,c=i.session,s=i.runner,u=(0,W.b9)(Nt.Oe),d=(0,W.Dv)(Up.f),p=(0,Up.Z)();return(0,Bp.Z)({container:o,runner:s,refreshWebView:p}),(0,Ap.Z)({runner:s,refreshWebView:p}),(0,fr.x)(Ip.b,{run:function(){u(t),p()}}),Pt({match:Xe.pl,data:{type:"action",label:"Refresh",icon:(0,a.tZ)(Dp.Z,{}),description:"Refresh webview",keyboardShortcut:Ip.b,run:function(){u(t),p()}}}),(0,a.tZ)(_p.Z,{fs:l,session:c,ref:d,isVisible:!r})},Icon:function(e){var n=e.size;return(0,a.tZ)(Pp.Z,{size:n})},getTitle:function(){return"Webview"}};function Np(){var e=(0,Cp.U)();return(0,z.Z)((0,y.Z)({},e),{webview:Gp,commands:Sp})}var Op=t(28741),Mp=t(25108);var Lp=t(2548),Xp=t(86518);var Fp=t(73515),Wp=t(75815),zp=44100,jp=32896,Hp=function e(){var n=this;(0,Wp.Z)(this,e),this.audioStart=0,this.feed=function(e){var t=n.getFormatedValue(e),r=new Float32Array(n.samples.length+t.length);r.set(n.samples,0),r.set(t,n.samples.length),n.samples=r},this.getFormatedValue=function(e){for(var n=new Float32Array(e.length),t=0;t<e.length;t++)n[t]=e[t]/2147483648;return n},this.stop=function(){if(n.bufferSource)try{n.bufferSource.stop()}catch(e){if("InvalidStateError"!==e.name&&"RangeError"!==e.name)throw e}},this.flush=function(e){if(n.audioCtx&&n.samples.length){var t=0,r=n.audioCtx.currentTime;if(0===e)n.startTime=r,n.audioStart=r;else{for(var i=r-n.audioStart,o=Math.floor(i*zp);o>e-jp;)n.audioStart+=.7459410430839002,o-=jp;o>e&&(t=o-e,n.startTime=r),n.startTime=r}n.samples=n.samples.slice(t,n.samples.length);for(var a,l,c,s=n.audioCtx.createBufferSource(),u=n.samples.length/1,d=n.audioCtx.createBuffer(1,u,zp),p=0;p<1;p++)for(a=d.getChannelData(p),l=p,c=0;c<u;c++)a[c]=n.samples[l],l+=1;n.startTime<n.audioCtx.currentTime&&(n.startTime=n.audioCtx.currentTime),s.buffer=d,s.connect(n.gainNode),s.start(n.startTime),n.stop(),n.bufferSource=s,n.startTime+=d.duration,n.samples=new Float32Array}},this.samples=new Float32Array;var t=window.AudioContext||window.webkitAudioContext;this.audioCtx=new t,this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime};function Vp(e){var n=e.container,t=(0,g.useState)(!1),r=t[0],i=t[1],o=(0,g.useRef)(null);(0,g.useEffect)((function(){return n.openChannel({name:"audio",service:"audio"},(function(e){var n=e.channel;if(n){var t=null,r=!1;return n.onCommand((function(e){var n;r||(r=!0,o.current=function(){t=new Hp,o.current=null},i(!0)),t&&(null===e||void 0===e||null===(n=e.audio2)||void 0===n?void 0:n.data)&&(e.audio2.samples||(e.audio2.samples=0),t.feed(Int32Array.from(e.audio2.data)),t.flush(e.audio2.samples))})),function(){i(!1),t&&(t.stop(),t=null),o.current=null}}}))}),[n]);var l=function(){i(!1)};return(0,a.tZ)(I.u_,{isOpen:r,onRequestClose:l,children:(0,a.BX)(I.G7,{css:[I.l0.colWithGap(24)],children:[(0,a.tZ)(I.h4,{variant:"headerDefault",level:1,children:"We hear audio!"}),(0,a.BX)(I.G7,{css:[I.l0.colWithGap(8)],children:[(0,a.tZ)(I.xv,{multiline:!0,children:"Hey! It appears that this Repl is playing audio."}),(0,a.tZ)(I.xv,{multiline:!0,children:"In order for us to hear the audio you\u2019re receiving, please click confirm."})]}),(0,a.BX)(I.G7,{css:[I.l0.rowWithGap(12),I.l0.justify.end],children:[(0,a.tZ)(I.zx,{onClick:l,text:"Cancel"}),(0,a.tZ)(I.zx,{colorway:"positive",onClick:function(){i(!1),o.current&&o.current()},text:"Confirm",iconLeft:(0,a.tZ)(Io.Z,{})})]})]})})}var Yp=t(39705),qp=t(2146),$p=t(87138),Kp=new Date("2022-12-01"),Qp=new Date("2022-10-20");function Jp(){var e,n=(0,$p.lg)(),t=n.data,r=n.loading,i=n.error,o=(0,qp.o)("workspace-history-announcement"),l=o.isLoading,c=o.isDone,s=o.setAsDone,u=new Date,d=(null===t||void 0===t||null===(e=t.currentUser)||void 0===e?void 0:e.timeCreated)?new Date(t.currentUser.timeCreated):null;return r||l||c||i||!d||Kp<u||Qp<d?null:(0,a.tZ)(I.u_,{centered:!0,isOpen:!c,onRequestClose:function(){return s()},children:(0,a.BX)(I.G7,{css:[I.l0.colWithGap(16)],children:[(0,a.tZ)(I.xv,{variant:"headerDefault",children:"History in the Workspace"}),(0,a.tZ)(I.xv,{multiline:!0,children:"Now, you can scrub through any file history directly in the workspace. You'll see a History button in the bottom right of any file."}),(0,a.tZ)(I.G7,{css:[I.l0.p(4),I.l0.borderRadius(8),I.l0.backgroundColor.backgroundRoot,{border:"solid 1px ".concat(I.TV.backgroundHigher)}],children:(0,a.tZ)("video",{css:I.l0.borderRadius(8),src:"/public/videos/history-demo-new.mp4",autoPlay:!0,muted:!0,playsInline:!0,loop:!0})}),(0,a.tZ)(I.G7,{css:[I.l0.display.flex,I.l0.align.end],children:(0,a.tZ)(I.zx,{text:"Continue Coding",colorway:"primary",onClick:function(){return s()}})})]})})}var ef=t(25977);var nf=function(e){return(0,a.tZ)(mr.Z,{preventClose:!0,isOpen:!0,onRequestClose:e.onCancel,children:(0,a.BX)(j.Z,{css:[H.l0.colWithGap(24)],children:[(0,a.tZ)(Bt.h,{variant:"headerDefault",level:2,css:H.l0.maxWidth("100%"),children:"Replit needs your permission to enable notifications."}),(0,a.tZ)(Bt.x,{multiline:!0,children:"Never miss messages from your collaborators if you\u2019re in another tab or window."}),(0,a.BX)(j.Z,{css:[H.l0.rowWithGap(12),H.l0.justify.end],children:[(0,a.tZ)(Co.ZP,{onClick:e.onCancel,text:"Deny",iconLeft:(0,a.tZ)(De.Z,{})}),(0,a.tZ)(Co.ZP,{text:"Allow notifications",colorway:"positive",iconLeft:(0,a.tZ)(Io.Z,{}),onClick:e.onConfirm})]})]})})},tf=t(92364),rf={slides:[{title:"Repl Chat Tab",subtitle:"Chat has a new home. Open it from the sidebar or the New Tab menu.",backgroundImage:"/public/images/threads/chat.png",backgroundColor:I.l0.backgroundColor.yellowStrongest,position:"center"},{title:"Inline Threads",subtitle:(0,a.BX)("span",{css:{".shortcut":{gridGap:"var(--space-2)"},".shortcut div":[I.l0.backgroundColor.backgroundHighest,I.l0.color.foregroundDefault,{border:"1px solid var(--outline-default)"}]},children:["Right click code to start a discussion, or select code and use the hotkey"," ",(0,a.tZ)(V.Z,{shortcut:{key:"/",altKey:!0},small:!0})]}),backgroundImage:"/public/images/threads/inline.png",backgroundColor:I.l0.backgroundColor.blurpleStronger,position:"center"},{title:"Threads Inbox Tab",subtitle:"All your threads in one place. Open the inbox from the sidebar or the New Tab menu.",backgroundImage:"/public/images/threads/inbox.png",backgroundColor:I.l0.backgroundColor.blueStronger,position:"center"}],date:new Date("2022-11-08")};function of(){var e=(0,h.Z)("workspace","threads-2-announcement"),n=e.shouldDisplay,t=e.dismiss,r=e.register;return g.useEffect((function(){r()}),[r]),(0,a.tZ)(v.Z,{announcement:rf,showModal:n,onRequestClose:t})}var af=t(70710);function lf(e){var n=e.repl,t=e.currentUser,r=function(e){var n=e.repl,t=(0,m.useRouter)(),r=(0,td.Z4)();(0,g.useEffect)((function(){r(n.id)}),[n.id,r]);var i=(0,mt.C)(),o=(0,Hr.IY)(),a=(0,p.D)({controlName:"flag-null-diagnostics"}),l=(0,g.useState)(!1),c=l[0],s=l[1],u=(0,g.useState)(!1),d=u[0],f=u[1];return{services:(0,g.useState)((function(){return(0,Tp.Z)({runnerMode:"html"===n.language?"html":"shellrunner",onUnrecoverableError:function(e){var n=(0,Op.Z)(e);n!==Op.G.NotFound?n!==Op.G.NotAllowed?n!==Op.G.FirewallDenied?(Mp.error(e),o({error:e,tags:{services:!0,environment:"desktop"}})):s(!0):f(!0):t.push("/home","~/")},openFile:i,onFirewallDenied:function(){return s(!0)},enableUserEvents:a})}))[0],ui:(0,g.useState)((function(){return(0,$.fK)({config:Np()})}))[0],isFirewallDenied:c,isNotAllowed:d}}({repl:n}),i=r.services,o=r.ui,l=r.isFirewallDenied,c=r.isNotAllowed,s=function(){var e=(0,Lc.X)(),n=(0,nt.Z)(e),t=(0,g.useState)(!e),r=t[0],i=t[1],o=Boolean(e&&e.isLoading);return(0,g.useEffect)((function(){if(!o){var e=n.current;e&&i(Boolean(null===e||void 0===e?void 0:e.isDone))}}),[o]),r}();return(0,a.BX)(Wt,{ui:o,services:i,replId:n.id,replLanguage:n.language,children:[(0,a.tZ)(fr.h,{}),(0,a.tZ)(yr,{}),(0,a.tZ)(tf.Z,{}),(0,a.tZ)(il,{repl:n,currentUser:t}),(0,a.tZ)(Dt,{}),(0,a.tZ)(Yt,{}),(0,a.tZ)(gp,{repl:n,currentUser:t}),(0,a.tZ)(Ut.ZP,{}),(0,a.tZ)(pf,{}),(0,a.tZ)(Vp,{container:i.container}),(0,a.tZ)(Ot,{}),(0,a.tZ)(Qt,{}),s?(0,a.tZ)(Jp,{}):null,s?(0,a.tZ)(of,{}):null,s?(0,a.tZ)(G,{}):null,(0,a.tZ)(sf,{isMultiplayerSession:n.multiplayers.length>0}),(0,a.tZ)(cf,{image:t.image,username:t.username}),(0,a.tZ)(Yp.Z,{isOpen:l&&!c}),(0,a.tZ)(ef.Z,{isOpen:c}),(0,a.tZ)(sr,{})]})}function cf(e){var n=e.image,t=e.username,r=(0,i.Z)((0,Hr.yF)(),2),o=r[0],l=r[1],c=(0,td.lY)();return(0,g.useEffect)((function(){o&&c()}),[o,c]),o?(0,a.tZ)(Fp.Z,{devHide:function(){return l(null)},eventId:o,currentUserImage:n,currentUserUsername:t}):null}function sf(e){var n=function(e){var n=(0,i.Z)(g.useState(!1),2),t=n[0],a=n[1],l=(0,Lc.X)(),c=l&&!l.isDone&&!l.isLoading;return g.useEffect((function(){c||e&&"default"===_c()&&a(!0)}),[e,c]),{shouldShowModal:t,hideModal:g.useCallback((function(){Nc(!0),a(!1)}),[]),confirm:g.useCallback((0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,Bc()];case 1:return e.sent(),a(!1),[2]}}))})),[])}}(e.isMultiplayerSession),t=n.shouldShowModal,l=n.hideModal,c=n.confirm;return t?(0,a.tZ)(nf,{onCancel:l,onConfirm:c}):null}var uf=I.KD.div,df=(0,l.iv)([I.l0.height("calc(100% - ".concat(d.Mz,"px)")),I.l0.width("100%"),I.l0.top(d.Mz),I.l0.left(0),I.l0.position.absolute]);function pf(){var e=function(){var e=(0,W.b9)(at.rR),n=(0,g.useRef)(null),t=(0,zs.Z)((function(t){var r=t.width,i=t.height;if(r&&i&&n.current){var o=n.current.getBoundingClientRect(),a=o.top,l=o.left;e({width:r,height:i,x:l,y:a})}}));return(0,g.useCallback)((function(e){n.current=e,t(e)}),[t])}(),n=(0,W.Dv)(rn.dD),t=(0,W.Dv)(on.gg),r=(0,W.Dv)(on.g3),i=(0,W.Dv)(on.If);return(0,a.tZ)(uf,{ref:e,css:df,children:n?(0,a.BX)(a.HY,{children:[(0,a.tZ)(nd,{}),r.map((function(e){return(0,a.tZ)(ri,{handleId:e},e)})),i.map((function(e){return(0,a.tZ)(kc,{headerId:e},e)})),t.map((function(e){return(0,a.tZ)(us,{paneId:e},e)})),(0,a.tZ)(rr,{}),(0,a.tZ)(fs,{})]}):null})}var ff=(0,l.iv)([I.l0.position.fixed,I.l0.top(0),I.l0.left(0),I.l0.height("100%"),I.l0.width("100%")]),hf=function(){var e=null,n=(0,m.useRouter)().query;if(!n.replUrl)throw new Error("Expected replUrl to be set");var t=n.replUrl.toString(),r=(0,af.Cd)({variables:{url:t},ssr:Boolean(n.ssr)}),i=r.data,o=r.loading,l=r.error,d=i&&"Repl"===i.repl.__typename?i.repl:null,p=(null===i||void 0===i?void 0:i.currentUser)||void 0,f="https://replit.com".concat(t),h=function(e){if(e){if(e.description)return e.description;var n=c.Z.get(e.language).displayName;return"A ".concat(n," Repl")}}(d),v=(0,g.useState)(!1),Z=v[0],y=v[1];(0,g.useEffect)((function(){return y(!0)}),[]),(0,Rp.Z)((null===i||void 0===i?void 0:i.repl)||null,t);var b=null;return l?e=(0,a.tZ)(I.G7,{css:[I.l0.center,I.l0.flex.growAndShrink(1)],children:(0,a.tZ)(I.xv,{children:"Something went wrong loading the Repl. Please reload the page and try again."})}):o||!Z?e=(0,a.BX)(I.G7,{css:[I.l0.center,I.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(Xa,{}),(0,a.tZ)(Lp.Z,{height:100})]}):d&&p?(e=(0,a.tZ)(lf,{repl:d,currentUser:p},d.id),b=function(e){var n=e.isLesson,t=e.hasSeenOldWorkspaceTour;return n?null:t?wp:bp}({isLesson:Boolean(d.lesson),hasSeenOldWorkspaceTour:p.hasSeenOldWorkspaceTour})):e=(0,a.BX)(I.G7,{css:[I.l0.center,I.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(Xa,{}),(0,a.tZ)(Lp.Z,{height:100})]}),(0,a.tZ)(xp,{tour:b,children:(0,a.tZ)(s.Z,{children:(0,a.tZ)(u.Z,{dataCy:"workspace-page",title:"".concat((null===d||void 0===d?void 0:d.title)||""),oembedUrl:f,description:h,noHeader:!0,noFooter:!0,forceDrawer:!0,hideSidebar:!0,hideEmailVerify:!0,children:(0,a.BX)(I.Tg,{css:ff,children:[(0,a.tZ)(Xp.g,{}),e]})})})})};hf.getInitialProps=function(){var e=(0,r.Z)((function(e){var n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return n=e.req,t=e.store,[4,(0,X.Z)(n,t)];case 1:return r.sent(),[2,{}]}}))}));return function(n){return e.apply(this,arguments)}}();var vf=hf},7900:function(e,n,t){"use strict";t.d(n,{Pc:function(){return b},Pu:function(){return T}});var r=t(14251),i=t(32692),o=t(31230),a=t(21767);function l(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplateMember on TeamMembership {\n    id\n    user {\n      id\n      image\n      username\n      firstName\n      lastName\n    }\n    nickname\n    email\n    permissions\n  }\n"]);return l=function(){return e},e}var c=(0,o.Ps)(l()),s=t(16092),u=t(37887);function d(){var e=(0,i.Z)(["\n  fragment TeamTemplateUser on User {\n    id\n    username\n    displayName\n    fullName\n    image\n    url\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplSubmission on ReplSubmission {\n    id\n    timeSubmitted\n    timeLastReviewed\n    author {\n      id\n      ...TeamTemplateUser\n    }\n    repl {\n      id\n      title\n      timeCreated\n      template {\n        id\n        dueDate\n      }\n      ...ReplLinkRepl\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamTemplateSubmissionGroup on ReplSubmissionGroup {\n    submission {\n      id\n      timeSubmitted\n      timeLastReviewed\n      isGroupSubmission\n      repl {\n        id\n        url\n        nextPagePathname\n      }\n    }\n    users {\n      id\n      ...TeamTemplateUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplate on ReplTemplate {\n    id\n    isGroupProject\n    isPublished\n    imageUrl\n    url\n    dueDate\n    repl {\n      id\n    }\n    team {\n      id\n      username\n      displayName\n      members {\n        id\n        ...TeamTemplateReplTemplateMember\n      }\n    }\n    author {\n      id\n      username\n      image\n      ...UserLinkUser\n    }\n    submissions {\n      id\n      ...TeamTemplateReplSubmission\n    }\n    submissionGroups {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment TeamTemplateRepl on Repl {\n    id\n    title\n    slug\n    description\n    ...ReplLinkRepl\n    template {\n      id\n      ...TeamTemplateReplTemplate\n    }\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function m(){var e=(0,i.Z)(["\n  query TeamTemplate($replUrl: String!) {\n    repl(url: $replUrl) {\n      ... on Repl {\n        id\n        ...TeamTemplateRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n        repl {\n          id\n        }\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var g={},Z=(0,o.Ps)(d()),y=(0,o.Ps)(p(),Z,a.Y),b=(0,o.Ps)(f(),Z),w=(0,o.Ps)(h(),c,s._,y,b),x=(0,o.Ps)(v(),a.Y,w),R=(0,o.Ps)(m(),x);function T(e){var n=(0,r.Z)({},g,e);return u.a(R,n)}}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[2240,3662,3443,7570,6344,6351,3032,8966,4778,5395,7485,7651,8628,4837,7182,1674,1889,3327,1783,1390,7162,5867,5499,9922,8723,2350,7194,4710,6844,1822,7808,3426,539,1752,9173,9774,2888,179],(function(){return n(97239),n(60937)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=replEnvironment2-290c1dee9cb38301.js.map