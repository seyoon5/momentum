"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7667],{21767:function(e,n,t){t.d(n,{Y:function(){return i}});var r=t(32692);function o(){var e=(0,r.Z)(["\n  fragment ReplLinkRepl on Repl {\n    id\n    url\n    nextPagePathname\n  }\n"]);return o=function(){return e},e}var i=(0,t(31230).Ps)(o())},70338:function(e,n,t){var r=t(34727),o=t(70655),i=t(15794);n.Z=function(){var e=(0,r.Z)((function(e,n){var t,r,l;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e?(t=e.user,[3,4]):[3,1];case 1:return(r=n.getState().user)&&r.userInfo.isLoggedIn&&r.userInfo?(t=r.userInfo,[3,4]):[3,2];case 2:return[4,(0,i.LK)("/is_authenticated")];case 3:(l=o.sent()).success&&(t=l.user),o.label=4;case 4:return t&&(e&&(t=JSON.parse(JSON.stringify(t))),n.dispatch({type:"FETCH_USER_INFO_SUCCESS",user:t})),[2,{user:t}]}}))}));return function(n,t){return e.apply(this,arguments)}}()},15764:function(e,n,t){t.d(n,{FW:function(){return m},NH:function(){return v}});var r=t(14251),o=t(32692),i=t(31230),l=t(9523),u=t(28433),s=t(37887);function a(){var e=(0,o.Z)(["\n  fragment PublishReplData on Repl {\n    id\n    url\n    title\n    description\n    iconUrl\n    lastPublishedAt\n    publishedAs\n    imageUrl\n    isRenamed\n    templateInfo {\n      iconUrl\n    }\n    replViewSettings {\n      id\n      defaultView\n      replImage\n      replFile\n    }\n    tags {\n      id\n      isOfficial\n    }\n    currentUserPermissions {\n      containerWrite\n      publish\n      changeIconUrl\n    }\n    ...CrosisContextRepl\n    ...PublishedReplShareInfoReplData\n  }\n  ","\n  ","\n"]);return a=function(){return e},e}function c(){var e=(0,o.Z)(["\n  fragment PublishCurrentUser on CurrentUser {\n    id\n    image\n    isTemplateDeveloper: hasRole(role: TEMPLATE_DEVELOPER)\n    ...CrosisContextCurrentUser\n  }\n  ","\n"]);return c=function(){return e},e}function p(){var e=(0,o.Z)(["\n  query PublishCurrentUser {\n    currentUser {\n      id\n      ...PublishCurrentUser\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var d={},m=(0,i.Ps)(a(),l.C,u.B),h=(0,i.Ps)(c(),l.D),f=(0,i.Ps)(p(),h);function v(e){var n=(0,r.Z)({},d,e);return s.a(f,n)}},28433:function(e,n,t){t.d(n,{B:function(){return i}});var r=t(32692);function o(){var e=(0,r.Z)(["\n  fragment PublishedReplShareInfoReplData on Repl {\n    id\n    url\n    publishedAs\n    title\n  }\n"]);return o=function(){return e},e}var i=(0,t(31230).Ps)(o())},2885:function(e,n,t){t.d(n,{Z:function(){return ue}});var r=t(9941),o=t(35944),i=t(90317),l=t(59369),u=t(67294),s=t(1879),a=t(60379),c=t(14251),p=t(32692),d=t(31230),m=t(50319);function h(){var e=(0,p.Z)(["\n  mutation ReportRepl($replId: String, $reason: String!) {\n    createBoardReport(replId: $replId, reason: $reason) {\n      id\n    }\n  }\n"]);return h=function(){return e},e}var f={},v=(0,d.Ps)(h());var Z=t(93058),g=t(53429),b=a.KD.form;function y(e){var n=e.replId,t=e.onDone,i=(0,u.useState)(""),l=i[0],s=i[1],p=(0,Z.Z)(),d=p.showConfirm,h=p.showError,y=(0,r.Z)(function(e){var n=(0,c.Z)({},f,e);return m.D(v,n)}({variables:{replId:n,reason:l},onCompleted:function(){d("Repl reported"),t()},onError:function(e){h(e.message)}}),2),w=y[0],R=y[1].loading;return(0,o.BX)(a.G7,{css:[a.l0.colWithGap(24)],children:[(0,o.tZ)(a.xv,{variant:"subheadBig",children:"Report Repl"}),(0,o.BX)(b,{onSubmit:function(e){e.preventDefault(),l?w():h("Not reported. No reason specified.")},css:[a.l0.colWithGap(32)],children:[(0,o.tZ)(a.G7,{css:[a.l0.colWithGap(8)],children:(0,o.tZ)(a.B,{placeholder:"Why do you want to report this Repl?",value:l,onChange:function(e){return s(e.currentTarget.value)},css:[a.l0.minHeight(64),a.l0.maxHeight(128),{resize:"vertical"}]})}),(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(16),a.l0.justify.end],children:[(0,o.tZ)(a.G7,{children:(0,o.tZ)(a.zx,{type:"button",text:"Cancel",onClick:function(){return t()}})}),(0,o.tZ)(a.G7,{children:(0,o.tZ)(a.zx,{disabled:R,text:R?"Reporting":"Report Repl",type:"submit",colorway:"negative",iconLeft:(0,o.tZ)(g.Z,{}),onClick:function(){return t()}})})]})]})]})}function w(){var e=(0,p.Z)(["\n  mutation WarnUser($username: String!, $reason: String!) {\n    warnUser(username: $username, reason: $reason) {\n      ... on Warning {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return w=function(){return e},e}var R={},D=(0,d.Ps)(w());var C=t(88961),T=a.KD.form;function x(e){var n=e.username,t=e.onDone,i=(0,u.useState)(""),l=i[0],s=i[1],p=(0,Z.Z)(),d=p.showConfirm,h=p.showError,f=(0,r.Z)(function(e){var n=(0,c.Z)({},R,e);return m.D(D,n)}({onCompleted:function(e){var n=e.warnUser;"UserError"===n.__typename?h(n.message):d("The user has been warned.")}}),2),v=f[0],g=f[1].loading;return(0,o.BX)(a.G7,{css:[a.l0.colWithGap(24)],children:[(0,o.tZ)(a.h4,{level:1,variant:"headerDefault",children:"Warn the author of the Repl?"}),(0,o.BX)(T,{onSubmit:function(e){e.preventDefault(),l&&n?(v({variables:{username:n,reason:l}}),t()):h("Please provide a reason.")},css:[a.l0.colWithGap(24)],children:[(0,o.tZ)(a.B,{placeholder:"Reason for warning the user",value:l,onChange:function(e){return s(e.currentTarget.value)},css:{resize:"none",minHeight:40}}),(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.justify.end],children:[(0,o.tZ)(a.zx,{type:"button",text:"Cancel",onClick:function(){return t()}}),(0,o.tZ)(a.zx,{disabled:g,colorway:"negative",text:g?"Warning user...":"Yes, warn this user",type:"submit",iconLeft:(0,o.tZ)(C.Z,{})})]})]})]})}function G(){var e=(0,p.Z)(["\n  mutation BanUserFromCommunity($username: String!, $reason: String!) {\n    banCommunityUser(username: $username, reason: $reason) {\n      ... on BannedBoardUser {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return G=function(){return e},e}var P={},U=(0,d.Ps)(G());var E=t(40963),B=t(67177),_=a.KD.form;function S(e){var n=e.username,t=e.onDone,i=(0,u.useState)(""),l=i[0],s=i[1],p=(0,Z.Z)(),d=p.showConfirm,h=p.showError,f=(0,r.Z)(function(e){var n=(0,c.Z)({},P,e);return m.D(U,n)}({onCompleted:function(e){var n=e.banCommunityUser;"UserError"===n.__typename?h(n.message):d("The user has been banned.")}}),2),v=f[0],g=f[1].loading;return(0,o.BX)(a.G7,{css:[a.l0.colWithGap(24)],children:[(0,o.tZ)(a.h4,{level:1,variant:"headerDefault",children:"Ban the author of the Repl?"}),(0,o.tZ)(a.xv,{multiline:!0,children:"Are you sure you want to ban this user? All their Repls will be deleted and they will no longer be able to access their account."}),(0,o.BX)(_,{onSubmit:function(e){e.preventDefault(),l&&n?(v({variables:{username:n,reason:l}}),t()):h("Please provide a reason.")},css:[a.l0.colWithGap(24)],children:[(0,o.tZ)(a.G7,{css:[a.l0.colWithGap(8)],children:(0,o.tZ)(E.B,{placeholder:"Reason for banning the user",value:l,onChange:function(e){return s(e.currentTarget.value)},css:{resize:"none",minHeight:40}})}),(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.justify.end],children:[(0,o.tZ)(a.zx,{type:"button",text:"Cancel",onClick:function(){return t()}}),(0,o.tZ)(a.zx,{disabled:g,colorway:"negative",text:g?"Banning user...":"Yes, ban this user",type:"submit",iconLeft:(0,o.tZ)(B.Z,{})})]})]})]})}var W=t(99900),I=t(34727),H=t(70655),X=t(15764);function k(){var e=(0,p.Z)(["\n  mutation UnpublishTemplate($input: DeleteReplDeploymentInput!) {\n    deleteReplDeployment(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}var A={},z=(0,d.Ps)(k(),X.FW);var $=t(53202),L=a.KD.form;function F(e){var n=e.replId,t=e.onDone,i=(0,Z.Z)(),l=i.showConfirm,u=i.showError,s=(0,r.Z)(function(e){var n=(0,c.Z)({},A,e);return m.D(z,n)}({variables:{input:{replId:n}}}),2),p=s[0],d=s[1];return(0,o.BX)(a.G7,{css:[a.l0.colWithGap(24)],children:[(0,o.tZ)(a.h4,{level:1,variant:"headerDefault",children:"Unpublish Template from Community?"}),(0,o.BX)(L,{onSubmit:function(){var e=(0,I.Z)((function(e){var n,r,o,i;return(0,H.__generator)(this,(function(s){switch(s.label){case 0:e.preventDefault(),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,p()];case 2:return i=s.sent(),[3,4];case 3:return s.sent(),u("Something went wrong. Please try again."),[3,4];case 4:if("Repl"===(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.deleteReplDeployment.__typename))l("Template successfully unpublished");else if("NotFoundError"===(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.deleteReplDeployment.__typename)||"UserError"===(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.deleteReplDeployment.__typename))return u(i.data.deleteReplDeployment.message),[2];return t(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),css:[a.l0.colWithGap(24)],children:[(0,o.tZ)(a.xv,{multiline:!0,children:"Unpublishing a Template will remove it from the Templates page. The Repl itself will not be deleted, and you can always re-publish the Template again later."}),(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.justify.end],children:[(0,o.tZ)(a.zx,{type:"button",text:"Cancel",onClick:function(){return t()}}),(0,o.tZ)(a.zx,{disabled:d.loading,colorway:"negative",text:d.loading?"Unpublishing Template...":"Yes, unpublish this Template",type:"submit",iconLeft:(0,o.tZ)($.EyeOff,{})})]})]})]})}var O=t(6565);function N(){var e=(0,p.Z)(["\n  mutation ReviewTemplateReview($input: ReviewTemplateInput!) {\n    reviewTemplate(input: $input) {\n      ... on TemplateReview {\n        id\n        repl {\n          id\n          ...ReplViewReplActionsPermissions\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return N=function(){return e},e}var j={},Y=(0,d.Ps)(N(),O.jN);var q=t(76818),K=t(88512),V=t(30992),J=a.KD.form;function M(e){var n=e.replId,t=e.replSlug,i=e.reviewType,l=e.onDone,u=(0,Z.Z)(),s=u.showConfirm,p=u.showError,d=(0,V.Y)("promote"===i?t.toLowerCase():"",(function(e){if(!/a-z0-9-/.test(e))return{message:"Slug should only contain lowercase letters, numbers and hyphens"}})),h="Something went wrong ".concat("promote"===i?"promoting":"demoting"," this Template"),f=(0,r.Z)(function(e){var n=(0,c.Z)({},j,e);return m.D(Y,n)}({variables:{input:{replId:n,shouldPromote:"promote"===i,landingPageSlug:d.value||null}},onError:function(e){var n=e.message;p(n)},onCompleted:function(e){"TemplateReview"===e.reviewTemplate.__typename?(s("Template successfully ".concat("promote"===i?"promoted":"demoted")),l()):"UnauthorizedError"===e.reviewTemplate.__typename||"UserError"===e.reviewTemplate.__typename?p(e.reviewTemplate.message):p(h)}}),2),v=f[0],g=f[1];return(0,o.BX)(a.G7,{css:[a.l0.colWithGap(24)],children:[(0,o.tZ)(a.h4,{level:1,variant:"headerDefault",children:"promote"===i?"Promote Template":"Demote Template?"}),(0,o.BX)(J,{onSubmit:function(){var e=(0,I.Z)((function(e){return(0,H.__generator)(this,(function(n){return e.preventDefault(),v(),[2]}))}));return function(n){return e.apply(this,arguments)}}(),css:[a.l0.colWithGap(24)],children:["promote"===i?(0,o.BX)(o.HY,{children:[(0,o.tZ)(a.xv,{multiline:!0,children:"Promoting a Template will show the Template in the Create Repl modal. It will also make a landing page if you set a URL below."}),(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.justify.end,a.l0.align.center],children:[(0,o.tZ)(a.xv,{children:"replit.com/template/"}),(0,o.tZ)(a.II,{placeholder:"landing-page-slug",value:d.value||"",onChange:function(e){return d.setValue(e.target.value)}})]})]}):(0,o.tZ)(a.xv,{multiline:!0,children:"Demoting a Template will remove the Template from the Create Repl modal."}),(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.justify.end],children:[(0,o.tZ)(a.zx,{type:"button",text:"Cancel",onClick:function(){return l()}}),"promote"===i?(0,o.tZ)(a.zx,{type:"submit",disabled:g.loading,colorway:"primary",iconLeft:(0,o.tZ)(q.Z,{}),text:g.loading?"Promoting Template...":"Promote Template"}):(0,o.tZ)(a.zx,{type:"submit",disabled:g.loading,colorway:"negative",iconLeft:(0,o.tZ)(K.Z,{}),text:g.loading?"Demoting Template...":"Demote Template"})]})]})]})}var Q=t(64184),ee=t(18757);function ne(){var e=(0,p.Z)(["\n  mutation HidePostToggleHiddenPost($postId: Int!, $isHidden: Boolean!) {\n    toggleHiddenPost(postId: $postId, isHidden: $isHidden) {\n      ... on Post {\n        id\n        isHidden\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return ne=function(){return e},e}var te={},re=(0,d.Ps)(ne());var oe,ie=a.KD.form;function le(e){var n=e.post,t=e.onDone,i=(0,Z.Z)(),l=i.showConfirm,u=i.showError,s=(0,r.Z)(function(e){var n=(0,c.Z)({},te,e);return m.D(re,n)}({variables:{postId:n.id,isHidden:!n.isHidden},onCompleted:function(e){"Post"===e.toggleHiddenPost.__typename?n.isHidden?l("Post removed from the community."):l("Post allowed on community."):"NotFoundError"===e.toggleHiddenPost.__typename||"UserError"===e.toggleHiddenPost.__typename?u(e.toggleHiddenPost.message):u("An unexpected error occurred."),t()},onError:function(){u("Something went wrong. Please try again.")}}),2),p=s[0],d=s[1].loading,h=n.isHidden?"Yes, show this post":"Yes, hide this post",f=n.isHidden?"Showing...":"Hiding...",v=n.isHidden?"Show this post to the Community":"Hide this post from the Community";return(0,o.BX)(a.G7,{css:[a.l0.colWithGap(24)],children:[(0,o.tZ)(a.xv,{multiline:!0,variant:"subheadBig",children:v}),(0,o.BX)(ie,{onSubmit:function(e){e.preventDefault(),p()},css:[a.l0.colWithGap(32)],children:[(0,o.tZ)(a.xv,{multiline:!0,children:"Hiding a post will remove it from the Community feeds, but the post will still be viewable to the creator. Showing a post will make it so all users will be able to discover this post though community feeds."}),(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.justify.end],children:[(0,o.tZ)(a.G7,{children:(0,o.tZ)(a.zx,{type:"button",text:"Cancel",onClick:t})}),(0,o.tZ)(a.G7,{children:(0,o.tZ)(a.zx,{disabled:d,colorway:"negative",text:d?f:h,type:"submit",iconLeft:(0,o.tZ)(Q.Z,{})})})]})]})]})}function ue(e){var n,t,c=e.repl,p=e.post,d=e.canModerate,m=e.source,h=(0,r.Z)(u.useState(null),2),f=h[0],v=h[1],Z=[{label:"Report",isDestructive:!0,key:oe.reportRepl,icon:(0,o.tZ)(g.Z,{})}];if(d){if(Z.push({label:(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.align.center],children:[(0,o.tZ)(C.Z,{}),(0,o.tZ)(a.xv,{children:"Warning"}),(0,o.tZ)(a.DR,{text:"mod",css:[a.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),key:oe.warnAuthor,isDestructive:!0}),Z.push({label:(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.align.center],children:[(0,o.tZ)(B.Z,{}),(0,o.tZ)(a.xv,{children:"Ban author"}),(0,o.tZ)(a.DR,{text:"mod",css:[a.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),key:oe.banAuthor,isDestructive:!0}),null!==c.lastPublishedAt){var b=(null===p||void 0===p?void 0:p.isHidden)?(0,o.tZ)(ee.Z,{}):(0,o.tZ)(Q.Z,{}),w=(null===p||void 0===p?void 0:p.isHidden)?"Show post to Community":"Hide post from Community";p&&Z.push({label:(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.align.center],children:[b,(0,o.tZ)(a.xv,{children:w}),(0,o.tZ)(a.DR,{text:"mod",css:[a.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:oe.modHide}),Z.push({label:(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.align.center],children:[(0,o.tZ)(B.Z,{}),(0,o.tZ)(a.xv,{children:"Unpublish Repl"}),(0,o.tZ)(a.DR,{text:"mod",css:[a.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:oe.modUnpublish})}var R;if(c.publishedAs===i.O2.Template)(null===(R=c.templateReview)||void 0===R?void 0:R.promoted)?Z.push({label:(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.align.center],children:[(0,o.tZ)(K.Z,{}),(0,o.tZ)(a.xv,{children:"Demote Template"}),(0,o.tZ)(a.DR,{text:"mod",css:[a.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:oe.modDemoteTemplate}):Z.push({label:(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.align.center],children:[(0,o.tZ)(q.Z,{}),(0,o.tZ)(a.xv,{children:"Promote Template"}),(0,o.tZ)(a.DR,{text:"mod",css:[a.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!1,key:oe.modPromoteTemplate})}return c.currentUserPermissions.publish&&null!==c.lastPublishedAt&&Z.push({label:(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.align.center],children:[(0,o.tZ)(Q.Z,{}),(0,o.tZ)(a.xv,{children:"Unpublish from Community"})]}),isDestructive:!0,key:oe.unpublish}),c.publishedAs===i.O2.Template&&c.currentUserPermissions.publish&&Z.push({label:(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.align.center],children:[(0,o.tZ)(Q.Z,{}),(0,o.tZ)(a.xv,{children:"Unpublish Template"}),(0,o.tZ)(a.DR,{text:"mod",css:[a.l0.color.foregroundDefault,{textTransform:"uppercase"}]})]}),isDestructive:!0,key:oe.unpublishTemplate}),Z.length?(0,o.BX)(o.HY,{children:[(0,o.tZ)(l.Z,{label:"Repl Actions",items:Z,onItemClick:function(e){v(e.key)}}),(0,o.tZ)(s.Z,{isOpen:f===oe.reportRepl,onRequestClose:function(){return v(null)},children:(0,o.tZ)(y,{replId:c.id,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.unpublish,onRequestClose:function(){return v(null)},children:(0,o.tZ)(W.Z,{repl:c,onDone:function(){return v(null)},source:m})}),(0,o.tZ)(s.Z,{isOpen:f===oe.warnAuthor,onRequestClose:function(){return v(null)},children:(0,o.tZ)(x,{username:null===(n=c.owner)||void 0===n?void 0:n.username,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.banAuthor,onRequestClose:function(){return v(null)},children:(0,o.tZ)(S,{username:null===(t=c.owner)||void 0===t?void 0:t.username,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.unpublishTemplate,onRequestClose:function(){return v(null)},children:(0,o.tZ)(F,{replId:c.id,onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.modDemoteTemplate,onRequestClose:function(){return v(null)},children:(0,o.tZ)(M,{replId:c.id,replSlug:c.slug,reviewType:"demote",onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.modPromoteTemplate,onRequestClose:function(){return v(null)},children:(0,o.tZ)(M,{replId:c.id,replSlug:c.slug,reviewType:"promote",onDone:function(){return v(null)}})}),(0,o.tZ)(s.Z,{isOpen:f===oe.modUnpublish,onRequestClose:function(){return v(null)},children:(0,o.tZ)(W.Z,{repl:c,onDone:function(){return v(null)},source:m})}),p&&(0,o.tZ)(s.Z,{isOpen:f===oe.modHide,onRequestClose:function(){return v(null)},children:(0,o.tZ)(le,{post:p,onDone:function(){return v(null)}})})]}):null}!function(e){e.warnAuthor="warnAuthor",e.banAuthor="banAuthor",e.reportRepl="reportRepl",e.unpublish="unpublish",e.unpublishTemplate="unpublishTemplate",e.modPromoteTemplate="modPromoteTemplate",e.modDemoteTemplate="modDemoteTemplate",e.modUnpublish="modUnpublish",e.modHide="modHide"}(oe||(oe={}))},99900:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(9941),o=t(35944),i=(t(67294),t(60379)),l=t(90317),u=t(14251),s=t(32692),a=t(31230),c=t(6565),p=t(50319);function d(){var e=(0,s.Z)(["\n  mutation UnpublishReplUnpublish($input: UnpublishReplFromCommunityInput!) {\n    unpublishReplFromCommunity(input: $input) {\n      ... on Repl {\n        id\n        ...ReplViewReplActionsPermissions\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var m={},h=(0,a.Ps)(d(),c.jN);var f=t(93058),v=t(60977),Z=t(64184),g=i.KD.form;function b(e){var n=e.repl,t=e.source,s=e.onDone,a=(0,f.Z)(),c=a.showConfirm,d=a.showError,b=(0,r.Z)(function(e){var n=(0,u.Z)({},m,e);return p.D(h,n)}({variables:{input:{replId:n.id}},onCompleted:function(e){if("Repl"===e.unpublishReplFromCommunity.__typename){var r=e.unpublishReplFromCommunity,o=r.runCount,i=r.likeCount,u=r.commentCount;(0,v.j)(v.U3.REPL_UNPUBLISHED,{source:t,numRuns:o,numLikes:i,numComments:u,replType:n.publishedAs===l.O2.Template?"template_repl":"regular_repl"}),c("Repl removed from the community.")}else"NotFoundError"===e.unpublishReplFromCommunity.__typename||"UnauthorizedError"===e.unpublishReplFromCommunity.__typename?d(e.unpublishReplFromCommunity.message):d("An unexpected error occurred.");s()},onError:function(){d("Something went wrong. Please try again.")},update:function(e){e.modify({id:e.identify({__typename:"Repl",id:n.id}),fields:{comments:function(e,n){return n.DELETE},tags:function(e,n){return n.DELETE}}})}}),2),y=b[0],w=b[1].loading;return(0,o.BX)(i.G7,{css:[i.l0.colWithGap(24)],children:[(0,o.tZ)(i.xv,{multiline:!0,variant:"subheadBig",children:"Unpublish this Repl from the Community"}),(0,o.BX)(g,{onSubmit:function(e){e.preventDefault(),y()},css:[i.l0.colWithGap(32)],children:[(0,o.tZ)(i.xv,{multiline:!0,children:"Unpublishing a Repl will remove it from the Community. This action will delete all associated posts and tags. The Repl and all its comments will still be visible in your profile, but will not be shown in the Community or Trending views anymore. You can always re-publish the Repl again later."}),(0,o.BX)(i.G7,{css:[i.l0.rowWithGap(8),i.l0.justify.end],children:[(0,o.tZ)(i.G7,{children:(0,o.tZ)(i.zx,{type:"button",text:"Cancel",onClick:function(){return s()}})}),(0,o.tZ)(i.G7,{children:(0,o.tZ)(i.zx,{disabled:w,colorway:"negative",text:w?"Unpublishing...":"Yes, unpublish this Repl",type:"submit",iconLeft:(0,o.tZ)(Z.Z,{})})})]})]})]})}}}]);
//# sourceMappingURL=7667-a9e32414b38f64ce.js.map